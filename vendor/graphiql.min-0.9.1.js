!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.GraphiQL=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DocExplorer=void 0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_graphql=require("graphql"),_FieldDoc=require("./DocExplorer/FieldDoc"),_FieldDoc2=_interopRequireDefault(_FieldDoc),_SchemaDoc=require("./DocExplorer/SchemaDoc"),_SchemaDoc2=_interopRequireDefault(_SchemaDoc),_SearchBox=require("./DocExplorer/SearchBox"),_SearchBox2=_interopRequireDefault(_SearchBox),_SearchResults=require("./DocExplorer/SearchResults"),_SearchResults2=_interopRequireDefault(_SearchResults),_TypeDoc=require("./DocExplorer/TypeDoc"),_TypeDoc2=_interopRequireDefault(_TypeDoc),DocExplorer=exports.DocExplorer=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.handleNavBackClick=function(){e.state.navStack.length>1&&e.setState({navStack:e.state.navStack.slice(0,-1)})},e.handleClickTypeOrField=function(t){e.showDoc(t)},e.handleSearch=function(t){e.showSearch(t)};var a={name:"Schema",title:"Documentation Explorer"};return e.state={navStack:[a]},e}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.schema!==e.schema||this.state.navStack!==t.navStack}},{key:"render",value:function(){var e=this.props.schema,t=this.state.navStack,a=t[t.length-1],r=void 0;r=void 0===e?_react2.default.createElement("div",{className:"spinner-container"},_react2.default.createElement("div",{className:"spinner"})):e?a.search?_react2.default.createElement(_SearchResults2.default,{searchValue:a.search,withinType:a.def,schema:e,onClickType:this.handleClickTypeOrField,onClickField:this.handleClickTypeOrField}):1===t.length?_react2.default.createElement(_SchemaDoc2.default,{schema:e,onClickType:this.handleClickTypeOrField}):(0,_graphql.isType)(a.def)?_react2.default.createElement(_TypeDoc2.default,{schema:e,type:a.def,onClickType:this.handleClickTypeOrField,onClickField:this.handleClickTypeOrField}):_react2.default.createElement(_FieldDoc2.default,{field:a.def,onClickType:this.handleClickTypeOrField}):_react2.default.createElement("div",{className:"error-container"},"No Schema Available");var c=1===t.length||(0,_graphql.isType)(a.def)&&a.def.getFields,l=void 0;return t.length>1&&(l=t[t.length-2].name),_react2.default.createElement("div",{className:"doc-explorer",key:a.name},_react2.default.createElement("div",{className:"doc-explorer-title-bar"},l&&_react2.default.createElement("div",{className:"doc-explorer-back",onClick:this.handleNavBackClick},l),_react2.default.createElement("div",{className:"doc-explorer-title"},a.title||a.name),_react2.default.createElement("div",{className:"doc-explorer-rhs"},this.props.children)),_react2.default.createElement("div",{className:"doc-explorer-contents"},c&&_react2.default.createElement(_SearchBox2.default,{value:a.search,placeholder:"Search "+a.name+"...",onSearch:this.handleSearch}),r))}},{key:"showDoc",value:function(e){var t=this.state.navStack,a=t[t.length-1];a.def!==e&&this.setState({navStack:t.concat([{name:e.name,def:e}])})}},{key:"showDocForReference",value:function(e){"Type"===e.kind?this.showDoc(e.type):"Field"===e.kind?this.showDoc(e.field):"Argument"===e.kind&&e.field?this.showDoc(e.field):"EnumValue"===e.kind&&e.type&&this.showDoc(e.type)}},{key:"showSearch",value:function(e){var t=this.state.navStack.slice(),a=t[t.length-1];t[t.length-1]=_extends({},a,{search:e}),this.setState({navStack:t})}}]),t}(_react2.default.Component);DocExplorer.propTypes={schema:_react.PropTypes.instanceOf(_graphql.GraphQLSchema)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./DocExplorer/FieldDoc":3,"./DocExplorer/SchemaDoc":5,"./DocExplorer/SearchBox":6,"./DocExplorer/SearchResults":7,"./DocExplorer/TypeDoc":8,graphql:74}],2:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Argument(e){var a=e.arg,t=e.onClickType,r=e.showDefaultValue;return _react2.default.createElement("span",{className:"arg"},_react2.default.createElement("span",{className:"arg-name"},a.name),": ",_react2.default.createElement(_TypeLink2.default,{type:a.type,onClick:t}),void 0!==a.defaultValue&&r!==!1&&_react2.default.createElement("span",null," = ",_react2.default.createElement("span",{className:"arg-default-value"},(0,_graphql.print)((0,_graphql.astFromValue)(a.defaultValue,a.type)))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Argument;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_graphql=require("graphql"),_TypeLink=require("./TypeLink"),_TypeLink2=_interopRequireDefault(_TypeLink);Argument.propTypes={arg:_react.PropTypes.object.isRequired,onClickType:_react.PropTypes.func.isRequired,showDefaultValue:_react.PropTypes.bool}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./TypeLink":9,graphql:74}],3:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_Argument=require("./Argument"),_Argument2=_interopRequireDefault(_Argument),_MarkdownContent=require("./MarkdownContent"),_MarkdownContent2=_interopRequireDefault(_MarkdownContent),_TypeLink=require("./TypeLink"),_TypeLink2=_interopRequireDefault(_TypeLink),FieldDoc=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.field!==e.field}},{key:"render",value:function(){var e=this,t=this.props.field,r=void 0;return t.args&&t.args.length>0&&(r=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"arguments"),t.args.map(function(t){return _react2.default.createElement("div",{key:t.name,className:"doc-category-item"},_react2.default.createElement("div",null,_react2.default.createElement(_Argument2.default,{arg:t,onClickType:e.props.onClickType})),_react2.default.createElement(_MarkdownContent2.default,{className:"doc-value-description",markdown:t.description}))}))),_react2.default.createElement("div",null,_react2.default.createElement(_MarkdownContent2.default,{className:"doc-type-description",markdown:t.description||"No Description"}),t.deprecationReason&&_react2.default.createElement(_MarkdownContent2.default,{className:"doc-deprecation",markdown:t.deprecationReason}),_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"type"),_react2.default.createElement(_TypeLink2.default,{type:t.type,onClick:this.props.onClickType})),r)}}]),t}(_react2.default.Component);FieldDoc.propTypes={field:_react.PropTypes.object,onClickType:_react.PropTypes.func},exports.default=FieldDoc}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Argument":2,"./MarkdownContent":4,"./TypeLink":9}],4:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_marked=require("marked"),_marked2=_interopRequireDefault(_marked),MarkdownContent=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.markdown!==e.markdown}},{key:"render",value:function(){var e=this.props.markdown;if(!e)return _react2.default.createElement("div",null);var t=(0,_marked2.default)(e,{sanitize:!0});return _react2.default.createElement("div",{className:this.props.className,dangerouslySetInnerHTML:{__html:t}})}}]),t}(_react2.default.Component);MarkdownContent.propTypes={markdown:_react.PropTypes.string,className:_react.PropTypes.string},exports.default=MarkdownContent}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{marked:145}],5:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_TypeLink=require("./TypeLink"),_TypeLink2=_interopRequireDefault(_TypeLink),_MarkdownContent=require("./MarkdownContent"),_MarkdownContent2=_interopRequireDefault(_MarkdownContent),SchemaDoc=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.schema!==e.schema}},{key:"render",value:function(){var e=this.props.schema,t=e.getQueryType(),r=e.getMutationType&&e.getMutationType(),a=e.getSubscriptionType&&e.getSubscriptionType();return _react2.default.createElement("div",null,_react2.default.createElement(_MarkdownContent2.default,{className:"doc-type-description",markdown:"A GraphQL schema provides a root type for each kind of operation."}),_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"root types"),_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("span",{className:"keyword"},"query"),": ",_react2.default.createElement(_TypeLink2.default,{type:t,onClick:this.props.onClickType})),r&&_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("span",{className:"keyword"},"mutation"),": ",_react2.default.createElement(_TypeLink2.default,{type:r,onClick:this.props.onClickType})),a&&_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("span",{className:"keyword"},"subscription"),": ",_react2.default.createElement(_TypeLink2.default,{type:a,onClick:this.props.onClickType}))))}}]),t}(_react2.default.Component);SchemaDoc.propTypes={schema:_react.PropTypes.object,onClickType:_react.PropTypes.func},exports.default=SchemaDoc}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./MarkdownContent":4,"./TypeLink":9}],6:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_debounce=require("../../utility/debounce"),_debounce2=_interopRequireDefault(_debounce),SearchBox=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){var t=e.target.value;r.setState({value:t}),r.debouncedOnSearch(t)},r.handleClear=function(){r.setState({value:""}),r.props.onSearch("")},r.state={value:e.value||""},r.debouncedOnSearch=(0,_debounce2.default)(200,r.props.onSearch),r}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return _react2.default.createElement("label",{className:"search-box"},_react2.default.createElement("input",{value:this.state.value,onChange:this.handleChange,type:"text",placeholder:this.props.placeholder}),this.state.value&&_react2.default.createElement("div",{className:"search-box-clear",onClick:this.handleClear},"✕"))}}]),t}(_react2.default.Component);SearchBox.propTypes={value:_react.PropTypes.string,placeholder:_react.PropTypes.string,onSearch:_react.PropTypes.func},exports.default=SearchBox}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utility/debounce":21}],7:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function isMatch(e,t){try{var r=t.replace(/[^_0-9A-Za-z]/g,function(e){return"\\"+e});return e.search(new RegExp(r,"i"))!==-1}catch(r){return e.toLowerCase().indexOf(t.toLowerCase())!==-1}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_Argument=require("./Argument"),_Argument2=_interopRequireDefault(_Argument),_TypeLink=require("./TypeLink"),_TypeLink2=_interopRequireDefault(_TypeLink),SearchResults=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.schema!==e.schema||this.props.searchValue!==e.searchValue}},{key:"render",value:function(){var e=this.props.searchValue,t=this.props.withinType,r=this.props.schema,n=this.props.onClickType,a=this.props.onClickField,c=[],o=[],l=[],i=r.getTypeMap(),u=Object.keys(i);t&&(u=u.filter(function(e){return e!==t.name}),u.unshift(t.name));var s=!0,p=!1,f=void 0;try{for(var h,y=function(){var r=h.value;if(c.length+o.length+l.length>=100)return"break";var u=i[r];t!==u&&isMatch(r,e)&&o.push(_react2.default.createElement("div",{className:"doc-category-item",key:r},_react2.default.createElement(_TypeLink2.default,{type:u,onClick:n}))),u.getFields&&!function(){var o=u.getFields();Object.keys(o).forEach(function(i){var s=o[i],p=void 0;if(!isMatch(i,e)){if(!s.args||!s.args.length)return;if(p=s.args.filter(function(t){return isMatch(t.name,e)}),0===p.length)return}var f=_react2.default.createElement("div",{className:"doc-category-item",key:r+"."+i},t!==u&&[_react2.default.createElement(_TypeLink2.default,{key:"type",type:u,onClick:n}),"."],_react2.default.createElement("a",{className:"field-name",onClick:function(e){return a(s,u,e)}},s.name),p&&["(",_react2.default.createElement("span",{key:"args"},p.map(function(e){return _react2.default.createElement(_Argument2.default,{key:e.name,arg:e,onClickType:n,showDefaultValue:!1})})),")"]);t===u?c.push(f):l.push(f)})}()},_=u[Symbol.iterator]();!(s=(h=_.next()).done);s=!0){var d=y();if("break"===d)break}}catch(e){p=!0,f=e}finally{try{!s&&_.return&&_.return()}finally{if(p)throw f}}return c.length+o.length+l.length===0?_react2.default.createElement("span",{className:"doc-alert-text"},"No results found."):t&&o.length+l.length>0?_react2.default.createElement("div",null,c,_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"other results"),o,l)):_react2.default.createElement("div",null,c,o,l)}}]),t}(_react2.default.Component);SearchResults.propTypes={schema:_react.PropTypes.object,withinType:_react.PropTypes.object,searchValue:_react.PropTypes.string,onClickType:_react.PropTypes.func,onClickField:_react.PropTypes.func},exports.default=SearchResults}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Argument":2,"./TypeLink":9}],8:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Field(e){var t=e.type,a=e.field,r=e.onClickType,n=e.onClickField;return _react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("a",{className:"field-name",onClick:function(e){return n(a,t,e)}},a.name),a.args&&a.args.length>0&&["(",_react2.default.createElement("span",{key:"args"},a.args.map(function(e){return _react2.default.createElement(_Argument2.default,{key:e.name,arg:e,onClickType:r})})),")"],": ",_react2.default.createElement(_TypeLink2.default,{type:a.type,onClick:r}),a.deprecationReason&&_react2.default.createElement(_MarkdownContent2.default,{className:"doc-deprecation",markdown:a.deprecationReason}))}function EnumValue(e){var t=e.value;return _react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("div",{className:"enum-value"},t.name),_react2.default.createElement(_MarkdownContent2.default,{className:"doc-value-description",markdown:t.description}),t.deprecationReason&&_react2.default.createElement(_MarkdownContent2.default,{className:"doc-deprecation",markdown:t.deprecationReason}))}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_graphql=require("graphql"),_Argument=require("./Argument"),_Argument2=_interopRequireDefault(_Argument),_MarkdownContent=require("./MarkdownContent"),_MarkdownContent2=_interopRequireDefault(_MarkdownContent),_TypeLink=require("./TypeLink"),_TypeLink2=_interopRequireDefault(_TypeLink),TypeDoc=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleShowDeprecated=function(){return a.setState({showDeprecated:!0})},a.state={showDeprecated:!1},a}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.type!==e.type||this.props.schema!==e.schema||this.state.showDeprecated!==t.showDeprecated}},{key:"render",value:function(){var e=this,t=this.props.schema,a=this.props.type,r=this.props.onClickType,n=this.props.onClickField,c=void 0,o=void 0;a instanceof _graphql.GraphQLUnionType?(c="possible types",o=t.getPossibleTypes(a)):a instanceof _graphql.GraphQLInterfaceType?(c="implementations",o=t.getPossibleTypes(a)):a instanceof _graphql.GraphQLObjectType&&(c="implements",o=a.getInterfaces());var l=void 0;o&&o.length>0&&(l=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},c),o.map(function(e){return _react2.default.createElement("div",{key:e.name,className:"doc-category-item"},_react2.default.createElement(_TypeLink2.default,{type:e,onClick:r}))})));var i=void 0,s=void 0;a.getFields&&!function(){var t=a.getFields(),c=Object.keys(t).map(function(e){return t[e]});i=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"fields"),c.filter(function(e){return!e.isDeprecated}).map(function(e){return _react2.default.createElement(Field,{key:e.name,type:a,field:e,onClickType:r,onClickField:n})}));var o=c.filter(function(e){return e.isDeprecated});o.length>0&&(s=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"deprecated fields"),e.state.showDeprecated?o.map(function(e){return _react2.default.createElement(Field,{key:e.name,type:a,field:e,onClickType:r,onClickField:n})}):_react2.default.createElement("button",{className:"show-btn",onClick:e.handleShowDeprecated},"Show deprecated fields...")))}();var p=void 0,u=void 0;if(a instanceof _graphql.GraphQLEnumType){var d=a.getValues();p=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"values"),d.filter(function(e){return!e.isDeprecated}).map(function(e){return _react2.default.createElement(EnumValue,{key:e.name,value:e})}));var f=d.filter(function(e){return e.isDeprecated});f.length>0&&(u=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"deprecated values"),this.state.showDeprecated?f.map(function(e){return _react2.default.createElement(EnumValue,{key:e.name,value:e})}):_react2.default.createElement("button",{className:"show-btn",onClick:this.handleShowDeprecated},"Show deprecated values...")))}return _react2.default.createElement("div",null,_react2.default.createElement(_MarkdownContent2.default,{className:"doc-type-description",markdown:a.description||"No Description"}),a instanceof _graphql.GraphQLObjectType&&l,i,s,p,u,!(a instanceof _graphql.GraphQLObjectType)&&l)}}]),t}(_react2.default.Component);TypeDoc.propTypes={schema:_react.PropTypes.instanceOf(_graphql.GraphQLSchema),type:_react.PropTypes.object,onClickType:_react.PropTypes.func,onClickField:_react.PropTypes.func},exports.default=TypeDoc,Field.propTypes={type:_react.PropTypes.object,field:_react.PropTypes.object,onClickType:_react.PropTypes.func,onClickField:_react.PropTypes.func},EnumValue.propTypes={value:_react.PropTypes.object}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Argument":2,"./MarkdownContent":4,"./TypeLink":9,graphql:74}],9:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function renderType(e,t){return e instanceof _graphql.GraphQLNonNull?_react2.default.createElement("span",null,renderType(e.ofType,t),"!"):e instanceof _graphql.GraphQLList?_react2.default.createElement("span",null,"[",renderType(e.ofType,t),"]"):_react2.default.createElement("a",{className:"type-name",onClick:function(r){return t(e,r)}},e.name)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_graphql=require("graphql"),TypeLink=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.type!==e.type}},{key:"render",value:function(){return renderType(this.props.type,this.props.onClick)}}]),t}(_react2.default.Component);TypeLink.propTypes={type:_react.PropTypes.object,onClick:_react.PropTypes.func},exports.default=TypeLink}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{graphql:74}],10:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExecuteButton=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),ExecuteButton=exports.ExecuteButton=function(e){
function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onClick=function(){n.props.isRunning?n.props.onStop():n.props.onRun()},n._onOptionSelected=function(e){n.setState({optionsOpen:!1}),n.props.onRun(e.name&&e.name.value)},n._onOptionsOpen=function(e){var t=!0,o=e.target;n.setState({highlight:null,optionsOpen:!0});var r=function(e){if(t&&e.target===o)t=!1;else{document.removeEventListener("mouseup",r),r=null;var a=o.parentNode.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_CONTAINED_BY;a||n.setState({optionsOpen:!1})}};document.addEventListener("mouseup",r)},n.state={optionsOpen:!1,highlight:null},n}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this,t=this.props.operations,n=this.state.optionsOpen,o=t&&t.length>1,r=null;o&&n&&!function(){var n=e.state.highlight;r=_react2.default.createElement("ul",{className:"execute-options"},t.map(function(t){return _react2.default.createElement("li",{key:t.name?t.name.value:"*",className:t===n&&"selected",onMouseOver:function(){return e.setState({highlight:t})},onMouseOut:function(){return e.setState({highlight:null})},onMouseUp:function(){return e._onOptionSelected(t)}},t.name?t.name.value:"<Unnamed>")}))}();var a=void 0;!this.props.isRunning&&o||(a=this._onClick);var u=void 0;this.props.isRunning||!o||n||(u=this._onOptionsOpen);var i=this.props.isRunning?_react2.default.createElement("path",{d:"M 10 10 L 23 10 L 23 23 L 10 23 z"}):_react2.default.createElement("path",{d:"M 11 9 L 24 16 L 11 23 z"});return _react2.default.createElement("div",{className:"execute-button-wrap"},_react2.default.createElement("button",{className:"execute-button",onMouseDown:u,onClick:a,title:"Execute Query (Ctrl-Enter)"},_react2.default.createElement("svg",{width:"34",height:"34"},i)),r)}}]),t}(_react2.default.Component);ExecuteButton.propTypes={onRun:_react.PropTypes.func,onStop:_react.PropTypes.func,isRunning:_react.PropTypes.bool,operations:_react.PropTypes.array}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function isPromise(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"function"==typeof e.then}function observableToPromise(e){return isObservable(e)?new Promise(function(t,r){var o=e.subscribe(function(e){t(e),o.unsubscribe()},r,function(){r(new Error("no value resolved"))})}):e}function isObservable(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"function"==typeof e.subscribe}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphiQL=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_reactDom="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof global?global.ReactDOM:null,_reactDom2=_interopRequireDefault(_reactDom),_graphql=require("graphql"),_ExecuteButton=require("./ExecuteButton"),_ToolbarButton=require("./ToolbarButton"),_ToolbarGroup=require("./ToolbarGroup"),_ToolbarMenu=require("./ToolbarMenu"),_ToolbarSelect=require("./ToolbarSelect"),_QueryEditor=require("./QueryEditor"),_VariableEditor=require("./VariableEditor"),_ResultViewer=require("./ResultViewer"),_DocExplorer=require("./DocExplorer"),_CodeMirrorSizer=require("../utility/CodeMirrorSizer"),_CodeMirrorSizer2=_interopRequireDefault(_CodeMirrorSizer),_getQueryFacts=require("../utility/getQueryFacts"),_getQueryFacts2=_interopRequireDefault(_getQueryFacts),_getSelectedOperationName=require("../utility/getSelectedOperationName"),_getSelectedOperationName2=_interopRequireDefault(_getSelectedOperationName),_debounce=require("../utility/debounce"),_debounce2=_interopRequireDefault(_debounce),_find=require("../utility/find"),_find2=_interopRequireDefault(_find),_fillLeafs2=require("../utility/fillLeafs"),_elementPosition=require("../utility/elementPosition"),_introspectionQueries=require("../utility/introspectionQueries"),GraphiQL=exports.GraphiQL=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(_initialiseProps.call(r),"function"!=typeof e.fetcher)throw new TypeError("GraphiQL requires a fetcher function.");r._storage=e.storage||window.localStorage;var o=void 0!==e.query?e.query:null!==r._storageGet("query")?r._storageGet("query"):void 0!==e.defaultQuery?e.defaultQuery:defaultQuery,n=(0,_getQueryFacts2.default)(e.schema,o),i=void 0!==e.variables?e.variables:r._storageGet("variables"),a=void 0!==e.operationName?e.operationName:(0,_getSelectedOperationName2.default)(null,r._storageGet("operationName"),n&&n.operations);return r.state=_extends({schema:e.schema,query:o,variables:i,operationName:a,response:e.response,editorFlex:Number(r._storageGet("editorFlex"))||1,variableEditorOpen:Boolean(i),variableEditorHeight:Number(r._storageGet("variableEditorHeight"))||200,docExplorerOpen:"true"===r._storageGet("docExplorerOpen")||!1,docExplorerWidth:Number(r._storageGet("docExplorerWidth"))||350,isWaitingForResponse:!1,subscription:null},n),r._editorQueryID=0,"object"===("undefined"==typeof window?"undefined":_typeof(window))&&window.addEventListener("beforeunload",function(){return r.componentWillUnmount()}),r}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){void 0===this.state.schema&&this._fetchSchema(),this.codeMirrorSizer=new _CodeMirrorSizer2.default,global.g=this}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=this.state.schema,o=this.state.query,n=this.state.variables,i=this.state.operationName,a=this.state.response;void 0!==e.schema&&(r=e.schema),void 0!==e.query&&(o=e.query),void 0!==e.variables&&(n=e.variables),void 0!==e.operationName&&(i=e.operationName),void 0!==e.response&&(a=e.response),r===this.state.schema&&o===this.state.query&&i===this.state.operationName||this._updateQueryFacts(o),void 0===e.schema&&e.fetcher!==this.props.fetcher&&(r=void 0),this.setState({schema:r,query:o,variables:n,operationName:i,response:a},function(){void 0===t.state.schema&&t._fetchSchema()})}},{key:"componentDidUpdate",value:function(){this.codeMirrorSizer.updateSizes([this.queryEditorComponent,this.variableEditorComponent,this.resultComponent])}},{key:"componentWillUnmount",value:function(){this._storageSet("query",this.state.query),this._storageSet("variables",this.state.variables),this._storageSet("operationName",this.state.operationName),this._storageSet("editorFlex",this.state.editorFlex),this._storageSet("variableEditorHeight",this.state.variableEditorHeight),this._storageSet("docExplorerWidth",this.state.docExplorerWidth),this._storageSet("docExplorerOpen",this.state.docExplorerOpen)}},{key:"render",value:function(){var e=this,r=_react2.default.Children.toArray(this.props.children),o=(0,_find2.default)(r,function(e){return e.type===t.Logo})||_react2.default.createElement(t.Logo,null),n=(0,_find2.default)(r,function(e){return e.type===t.Toolbar})||_react2.default.createElement(t.Toolbar,null,_react2.default.createElement(_ToolbarButton.ToolbarButton,{onClick:this.handlePrettifyQuery,title:"Prettify Query",label:"Prettify"})),i=(0,_find2.default)(r,function(e){return e.type===t.Footer}),a={WebkitFlex:this.state.editorFlex,flex:this.state.editorFlex},s={display:this.state.docExplorerOpen?"block":"none",width:this.state.docExplorerWidth},u="docExplorerWrap"+(this.state.docExplorerWidth<200?" doc-explorer-narrow":""),l=this.state.variableEditorOpen,c={height:l?this.state.variableEditorHeight:null};return _react2.default.createElement("div",{className:"graphiql-container"},_react2.default.createElement("div",{className:"editorWrap"},_react2.default.createElement("div",{className:"topBarWrap"},_react2.default.createElement("div",{className:"topBar"},o,_react2.default.createElement(_ExecuteButton.ExecuteButton,{isRunning:Boolean(this.state.subscription),onRun:this.handleRunQuery,onStop:this.handleStopQuery,operations:this.state.operations}),n),!this.state.docExplorerOpen&&_react2.default.createElement("button",{className:"docExplorerShow",onClick:this.handleToggleDocs},"Docs")),_react2.default.createElement("div",{ref:function(t){e.editorBarComponent=t},className:"editorBar",onMouseDown:this.handleResizeStart},_react2.default.createElement("div",{className:"queryWrap",style:a},_react2.default.createElement(_QueryEditor.QueryEditor,{ref:function(t){e.queryEditorComponent=t},schema:this.state.schema,value:this.state.query,onEdit:this.handleEditQuery,onHintInformationRender:this.handleHintInformationRender,onClickReference:this.handleClickReference,onRunQuery:this.handleEditorRunQuery}),_react2.default.createElement("div",{className:"variable-editor",style:c},_react2.default.createElement("div",{className:"variable-editor-title",style:{cursor:l?"row-resize":"n-resize"},onMouseDown:this.handleVariableResizeStart},"Query Variables"),_react2.default.createElement(_VariableEditor.VariableEditor,{ref:function(t){e.variableEditorComponent=t},value:this.state.variables,variableToType:this.state.variableToType,onEdit:this.handleEditVariables,onHintInformationRender:this.handleHintInformationRender,onRunQuery:this.handleEditorRunQuery}))),_react2.default.createElement("div",{className:"resultWrap"},this.state.isWaitingForResponse&&_react2.default.createElement("div",{className:"spinner-container"},_react2.default.createElement("div",{className:"spinner"})),_react2.default.createElement(_ResultViewer.ResultViewer,{ref:function(t){e.resultComponent=t},value:this.state.response}),i))),_react2.default.createElement("div",{className:u,style:s},_react2.default.createElement("div",{className:"docExplorerResizer",onMouseDown:this.handleDocsResizeStart}),_react2.default.createElement(_DocExplorer.DocExplorer,{ref:function(t){e.docExplorerComponent=t},schema:this.state.schema},_react2.default.createElement("div",{className:"docExplorerHide",onClick:this.handleToggleDocs},"✕"))))}},{key:"getQueryEditor",value:function(){return this.queryEditorComponent.getCodeMirror()}},{key:"getVariableEditor",value:function(){return this.variableEditorComponent.getCodeMirror()}},{key:"refresh",value:function(){this.queryEditorComponent.getCodeMirror().refresh(),this.variableEditorComponent.getCodeMirror().refresh(),this.resultComponent.getCodeMirror().refresh()}},{key:"autoCompleteLeafs",value:function(){var e=this,t=(0,_fillLeafs2.fillLeafs)(this.state.schema,this.state.query,this.props.getDefaultFieldNames),r=t.insertions,o=t.result;return r&&r.length>0&&!function(){var t=e.getQueryEditor();t.operation(function(){var e=t.getCursor(),n=t.indexFromPos(e);t.setValue(o);var i=0,a=r.map(function(e){var r=e.index,o=e.string;return t.markText(t.posFromIndex(r+i),t.posFromIndex(r+(i+=o.length)),{className:"autoInsertedLeaf",clearOnEnter:!0,title:"Automatically added leaf fields"})});setTimeout(function(){return a.forEach(function(e){return e.clear()})},7e3);var s=n;r.forEach(function(e){var t=e.index,r=e.string;t<n&&(s+=r.length)}),t.setCursor(t.posFromIndex(s))})}(),o}},{key:"_fetchSchema",value:function(){var e=this,t=this.props.fetcher,r=observableToPromise(t({query:_introspectionQueries.introspectionQuery}));return isPromise(r)?void r.then(function(e){if(e.data)return e;var o=observableToPromise(t({query:_introspectionQueries.introspectionQuerySansSubscriptions}));if(!isPromise(r))throw new Error("Fetcher did not return a Promise for introspection.");return o}).then(function(t){if(void 0===e.state.schema)if(t&&t.data){var r=(0,_graphql.buildClientSchema)(t.data),o=(0,_getQueryFacts2.default)(r,e.state.query);e.setState(_extends({schema:r},o))}else{var n="string"==typeof t?t:JSON.stringify(t,null,2);e.setState({schema:null,response:n})}}).catch(function(t){e.setState({schema:null,response:t&&String(t.stack||t)})}):void this.setState({response:"Fetcher did not return a Promise for introspection."})}},{key:"_storageGet",value:function(e){if(this._storage){var t=this._storage.getItem("graphiql:"+e);if("null"!==t&&"undefined"!==t)return t;this._storage.removeItem("graphiql:"+e)}}},{key:"_storageSet",value:function(e,t){this._storage&&(t?this._storage.setItem("graphiql:"+e,t):this._storage.removeItem("graphiql:"+e))}},{key:"_fetchQuery",value:function(e,t,r,o){var n=this,i=this.props.fetcher,a=null;try{a=t&&""!==t.trim()?JSON.parse(t):null}catch(e){throw new Error("Variables are invalid JSON: "+e.message+".")}if("object"!==("undefined"==typeof a?"undefined":_typeof(a)))throw new Error("Variables are not a JSON object.");var s=i({query:e,variables:a,operationName:r});if(!isPromise(s)){if(isObservable(s)){var u=s.subscribe({next:o,error:function(e){n.setState({isWaitingForResponse:!1,response:e&&String(e.stack||e),subscription:null})},complete:function(){n.setState({isWaitingForResponse:!1,subscription:null})}});return u}throw new Error("Fetcher did not return Promise or Observable.")}s.then(o).catch(function(e){n.setState({isWaitingForResponse:!1,response:e&&String(e.stack||e)})})}},{key:"_runQueryAtCursor",value:function(){if(this.state.subscription)return void this.handleStopQuery();var e=void 0,t=this.state.operations;if(t){var r=this.getQueryEditor();if(r.hasFocus())for(var o=r.getCursor(),n=r.indexFromPos(o),i=0;i<t.length;i++){var a=t[i];if(a.loc.start<=n&&a.loc.end>=n){e=a.name&&a.name.value;break}}}this.handleRunQuery(e)}},{key:"_didClickDragBar",value:function(e){if(0!==e.button||e.ctrlKey)return!1;var t=e.target;if(0!==t.className.indexOf("CodeMirror-gutter"))return!1;for(var r=_reactDom2.default.findDOMNode(this.resultComponent);t;){if(t===r)return!0;t=t.parentNode}return!1}}]),t}(_react2.default.Component);GraphiQL.propTypes={fetcher:_react.PropTypes.func.isRequired,schema:_react.PropTypes.instanceOf(_graphql.GraphQLSchema),query:_react.PropTypes.string,variables:_react.PropTypes.string,operationName:_react.PropTypes.string,response:_react.PropTypes.string,storage:_react.PropTypes.shape({getItem:_react.PropTypes.func,setItem:_react.PropTypes.func}),defaultQuery:_react.PropTypes.string,onEditQuery:_react.PropTypes.func,onEditVariables:_react.PropTypes.func,onEditOperationName:_react.PropTypes.func,onToggleDocs:_react.PropTypes.func,getDefaultFieldNames:_react.PropTypes.func};var _initialiseProps=function(){var e=this;this.handleClickReference=function(t){e.setState({docExplorerOpen:!0},function(){e.docExplorerComponent.showDocForReference(t)})},this.handleRunQuery=function(t){e._editorQueryID++;var r=e._editorQueryID,o=e.autoCompleteLeafs()||e.state.query,n=e.state.variables,i=e.state.operationName;if(t&&t!==i){i=t;var a=e.props.onEditOperationName;a&&a(i)}try{e.setState({isWaitingForResponse:!0,response:null,operationName:i});var s=e._fetchQuery(o,n,i,function(t){r===e._editorQueryID&&e.setState({isWaitingForResponse:!1,response:JSON.stringify(t,null,2)})});e.setState({subscription:s})}catch(t){e.setState({isWaitingForResponse:!1,response:t.message})}},this.handleStopQuery=function(){var t=e.state.subscription;e.setState({isWaitingForResponse:!1,subscription:null}),t&&t.unsubscribe()},this.handlePrettifyQuery=function(){var t=e.getQueryEditor();t.setValue((0,_graphql.print)((0,_graphql.parse)(t.getValue())))},this.handleEditQuery=(0,_debounce2.default)(100,function(t){if(e.state.schema&&e._updateQueryFacts(t),e.setState({query:t}),e.props.onEditQuery)return e.props.onEditQuery(t)}),this._updateQueryFacts=function(t){var r=(0,_getQueryFacts2.default)(e.state.schema,t);if(r){var o=(0,_getSelectedOperationName2.default)(e.state.operations,e.state.operationName,r.operations),n=e.props.onEditOperationName;n&&o!==e.state.operationName&&n(o),e.setState(_extends({operationName:o},r))}},this.handleEditVariables=function(t){e.setState({variables:t}),e.props.onEditVariables&&e.props.onEditVariables(t)},this.handleHintInformationRender=function(t){t.addEventListener("click",e._onClickHintInformation);var r=void 0;t.addEventListener("DOMNodeRemoved",r=function(){t.removeEventListener("DOMNodeRemoved",r),t.removeEventListener("click",e._onClickHintInformation)})},this.handleEditorRunQuery=function(){e._runQueryAtCursor()},this._onClickHintInformation=function(t){if("typeName"===t.target.className){var r=t.target.innerHTML,o=e.state.schema;o&&!function(){var t=o.getType(r);t&&e.setState({docExplorerOpen:!0},function(){e.docExplorerComponent.showDoc(t)})}()}},this.handleToggleDocs=function(){"function"==typeof e.props.onToggleDocs&&e.props.onToggleDocs(!e.state.docExplorerOpen),e.setState({docExplorerOpen:!e.state.docExplorerOpen})},this.handleResizeStart=function(t){if(e._didClickDragBar(t)){t.preventDefault();var r=t.clientX-(0,_elementPosition.getLeft)(t.target),o=function(t){if(0===t.buttons)return n();var o=_reactDom2.default.findDOMNode(e.editorBarComponent),i=t.clientX-(0,_elementPosition.getLeft)(o)-r,a=o.clientWidth-i;e.setState({editorFlex:i/a})},n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n),o=null,n=null});document.addEventListener("mousemove",o),document.addEventListener("mouseup",n)}},this.handleDocsResizeStart=function(t){t.preventDefault();var r=e.state.docExplorerWidth,o=t.clientX-(0,_elementPosition.getLeft)(t.target),n=function(t){if(0===t.buttons)return i();var r=_reactDom2.default.findDOMNode(e),n=t.clientX-(0,_elementPosition.getLeft)(r)-o,a=r.clientWidth-n;a<100?e.setState({docExplorerOpen:!1}):e.setState({docExplorerOpen:!0,docExplorerWidth:Math.min(a,650)})},i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.state.docExplorerOpen||e.setState({docExplorerWidth:r}),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),n=null,i=null});document.addEventListener("mousemove",n),document.addEventListener("mouseup",i)},this.handleVariableResizeStart=function(t){t.preventDefault();var r=!1,o=e.state.variableEditorOpen,n=e.state.variableEditorHeight,i=t.clientY-(0,_elementPosition.getTop)(t.target),a=function(t){if(0===t.buttons)return s();r=!0;var o=_reactDom2.default.findDOMNode(e.editorBarComponent),a=t.clientY-(0,_elementPosition.getTop)(o)-i,u=o.clientHeight-a;u<60?e.setState({variableEditorOpen:!1,variableEditorHeight:n}):e.setState({variableEditorOpen:!0,variableEditorHeight:u})},s=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){r||e.setState({variableEditorOpen:!o}),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s),a=null,s=null});document.addEventListener("mousemove",a),document.addEventListener("mouseup",s)}};GraphiQL.Logo=function(e){return _react2.default.createElement("div",{className:"title"},e.children||_react2.default.createElement("span",null,"Graph",_react2.default.createElement("em",null,"i"),"QL"))},GraphiQL.Toolbar=function(e){return _react2.default.createElement("div",{className:"toolbar"},e.children)},GraphiQL.Button=_ToolbarButton.ToolbarButton,GraphiQL.ToolbarButton=_ToolbarButton.ToolbarButton,GraphiQL.Group=_ToolbarGroup.ToolbarGroup,GraphiQL.Menu=_ToolbarMenu.ToolbarMenu,GraphiQL.MenuItem=_ToolbarMenu.ToolbarMenuItem,GraphiQL.Select=_ToolbarSelect.ToolbarSelect,GraphiQL.SelectOption=_ToolbarSelect.ToolbarSelectOption,GraphiQL.Footer=function(e){return _react2.default.createElement("div",{className:"footer"},e.children)};var defaultQuery='# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser tool for writing, validating, and\n# testing GraphQL queries.\n#\n# Type queries into this side of the screen, and you will see intelligent\n# typeaheads aware of the current GraphQL type schema and live syntax and\n# validation errors highlighted within the text.\n#\n# GraphQL queries typically start with a "{" character. Lines that starts\n# with a # are ignored.\n#\n# An example GraphQL query might look like:\n#\n#     {\n#       field(arg: "value") {\n#         subField\n#       }\n#     }\n#\n# Keyboard shortcuts:\n#\n#       Run Query:  Ctrl-Enter (or press the play button above)\n#\n#   Auto Complete:  Ctrl-Space (or just start typing)\n#\n\n'}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/CodeMirrorSizer":20,"../utility/debounce":21,"../utility/elementPosition":22,"../utility/fillLeafs":23,"../utility/find":24,"../utility/getQueryFacts":25,"../utility/getSelectedOperationName":26,"../utility/introspectionQueries":27,"./DocExplorer":1,"./ExecuteButton":10,"./QueryEditor":12,"./ResultViewer":13,"./ToolbarButton":14,"./ToolbarGroup":15,"./ToolbarMenu":16,"./ToolbarSelect":17,"./VariableEditor":18,graphql:74}],12:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueryEditor=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_graphql=require("graphql"),_marked=require("marked"),_marked2=_interopRequireDefault(_marked),_onHasCompletion=require("../utility/onHasCompletion"),_onHasCompletion2=_interopRequireDefault(_onHasCompletion),QueryEditor=exports.QueryEditor=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._onKeyUp=function(e,t){var o=t.keyCode;(o>=65&&o<=90||!t.shiftKey&&o>=48&&o<=57||t.shiftKey&&189===o||t.shiftKey&&50===o||t.shiftKey&&57===o)&&r.editor.execCommand("autocomplete")},r._onEdit=function(){r.ignoreChangeEvent||(r.cachedValue=r.editor.getValue(),r.props.onEdit&&r.props.onEdit(r.cachedValue))},r._onHasCompletion=function(e,t){(0,_onHasCompletion2.default)(e,t,r.props.onHintInformationRender)},r.cachedValue=e.value||"",r}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=require("codemirror");require("codemirror/addon/hint/show-hint"),require("codemirror/addon/comment/comment"),require("codemirror/addon/edit/matchbrackets"),require("codemirror/addon/edit/closebrackets"),require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/fold/brace-fold"),require("codemirror/addon/lint/lint"),require("codemirror/keymap/sublime"),require("codemirror-graphql/hint"),require("codemirror-graphql/lint"),require("codemirror-graphql/info"),require("codemirror-graphql/jump"),require("codemirror-graphql/mode"),this.editor=t(this._node,{value:this.props.value||"",lineNumbers:!0,tabSize:2,mode:"graphql",theme:"graphiql",keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,foldGutter:{minFoldSize:4},lint:{schema:this.props.schema},hintOptions:{schema:this.props.schema,closeOnUnfocus:!1,completeSingle:!1},info:{schema:this.props.schema,renderDescription:function(e){return(0,_marked2.default)(e,{sanitize:!0})},onClick:function(t){return e.props.onClickReference(t)}},jump:{schema:this.props.schema,onClick:function(t){return e.props.onClickReference(t)}},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Cmd-Space":function(){return e.editor.showHint({completeSingle:!0})},"Ctrl-Space":function(){return e.editor.showHint({completeSingle:!0})},"Alt-Space":function(){return e.editor.showHint({completeSingle:!0})},"Shift-Space":function(){return e.editor.showHint({completeSingle:!0})},"Cmd-Enter":function(){e.props.onRunQuery&&e.props.onRunQuery()},"Ctrl-Enter":function(){e.props.onRunQuery&&e.props.onRunQuery()},"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}}),this.editor.on("change",this._onEdit),this.editor.on("keyup",this._onKeyUp),this.editor.on("hasCompletion",this._onHasCompletion)}},{key:"componentDidUpdate",value:function(e){var t=require("codemirror");this.ignoreChangeEvent=!0,this.props.schema!==e.schema&&(this.editor.options.lint.schema=this.props.schema,this.editor.options.hintOptions.schema=this.props.schema,this.editor.options.info.schema=this.props.schema,this.editor.options.jump.schema=this.props.schema,t.signal(this.editor,"change",this.editor)),this.props.value!==e.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.setValue(this.props.value)),this.ignoreChangeEvent=!1}},{key:"componentWillUnmount",value:function(){this.editor.off("change",this._onEdit),this.editor.off("keyup",this._onKeyUp),this.editor.off("hasCompletion",this._onHasCompletion),this.editor=null}},{key:"render",value:function(){var e=this;return _react2.default.createElement("div",{className:"query-editor",ref:function(t){e._node=t}})}},{key:"getCodeMirror",value:function(){return this.editor}},{key:"getClientHeight",value:function(){return this._node&&this._node.clientHeight}}]),t}(_react2.default.Component);QueryEditor.propTypes={schema:_react.PropTypes.instanceOf(_graphql.GraphQLSchema),value:_react.PropTypes.string,onEdit:_react.PropTypes.func,onHintInformationRender:_react.PropTypes.func,onClickReference:_react.PropTypes.func,onRunQuery:_react.PropTypes.func}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/onHasCompletion":28,codemirror:64,"codemirror-graphql/hint":29,"codemirror-graphql/info":30,"codemirror-graphql/jump":31,"codemirror-graphql/lint":32,"codemirror-graphql/mode":33,"codemirror/addon/comment/comment":52,"codemirror/addon/edit/closebrackets":54,"codemirror/addon/edit/matchbrackets":55,"codemirror/addon/fold/brace-fold":56,"codemirror/addon/fold/foldgutter":58,"codemirror/addon/hint/show-hint":59,"codemirror/addon/lint/lint":60,"codemirror/keymap/sublime":63,graphql:74,marked:145}],13:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResultViewer=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),ResultViewer=exports.ResultViewer=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=require("codemirror");require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/fold/brace-fold"),require("codemirror/addon/dialog/dialog"),require("codemirror/addon/search/search"),require("codemirror/keymap/sublime"),require("codemirror-graphql/results/mode"),this.viewer=e(this._node,{lineWrapping:!0,value:this.props.value||"",readOnly:!0,theme:"graphiql",mode:"graphql-results",keyMap:"sublime",foldGutter:{minFoldSize:4},gutters:["CodeMirror-foldgutter"],extraKeys:{"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}})}},{key:"shouldComponentUpdate",value:function(e){return this.props.value!==e.value}},{key:"componentDidUpdate",value:function(){this.viewer.setValue(this.props.value||"")}},{key:"componentWillUnmount",value:function(){this.viewer=null}},{key:"render",value:function(){var e=this;return _react2.default.createElement("div",{className:"result-window",ref:function(t){e._node=t}})}},{key:"getCodeMirror",value:function(){return this.viewer}},{key:"getClientHeight",value:function(){return this._node&&this._node.clientHeight}}]),t}(_react2.default.Component);ResultViewer.propTypes={value:_react.PropTypes.string}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{codemirror:64,"codemirror-graphql/results/mode":34,"codemirror/addon/dialog/dialog":53,"codemirror/addon/fold/brace-fold":56,"codemirror/addon/fold/foldgutter":58,"codemirror/addon/search/search":61,"codemirror/keymap/sublime":63}],14:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function preventDefault(e){e.preventDefault()}
Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToolbarButton=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),ToolbarButton=exports.ToolbarButton=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleClick=function(e){e.preventDefault();try{r.props.onClick(),r.setState({error:null})}catch(e){r.setState({error:e})}},r.state={error:null},r}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.state.error;return _react2.default.createElement("a",{className:"toolbar-button"+(e?" error":""),onMouseDown:preventDefault,onClick:this.handleClick,title:e?e.message:this.props.title},this.props.label)}}]),t}(_react2.default.Component);ToolbarButton.propTypes={onClick:_react.PropTypes.func,title:_react.PropTypes.string,label:_react.PropTypes.string}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ToolbarGroup(e){var r=e.children;return _react2.default.createElement("div",{className:"toolbar-button-group"},r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToolbarGroup=ToolbarGroup;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ToolbarMenu(e){var t=e.title,r=e.label,a=e.children;return _react2.default.createElement("a",{className:"toolbar-menu toolbar-button",onMouseDown:preventDefault,title:t},r,_react2.default.createElement("svg",{width:"14",height:"8"},_react2.default.createElement("path",{fill:"#666",d:"M 5 1.5 L 14 1.5 L 9.5 7 z"})),_react2.default.createElement("ul",{className:"toolbar-menu-items"},a))}function ToolbarMenuItem(e){var t=e.onSelect,r=e.title,a=e.label;return _react2.default.createElement("li",{onMouseOver:function(e){e.target.className="hover"},onMouseOut:function(e){e.target.className=null},onMouseDown:preventDefault,onMouseUp:t,title:r},a)}function preventDefault(e){e.preventDefault()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToolbarMenu=ToolbarMenu,exports.ToolbarMenuItem=ToolbarMenuItem;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react);ToolbarMenu.propTypes={title:_react.PropTypes.string,label:_react.PropTypes.string},ToolbarMenuItem.propTypes={onSelect:_react.PropTypes.func,title:_react.PropTypes.string,label:_react.PropTypes.string}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ToolbarSelect(e){var t=e.onSelect,l=e.title,r=e.children,o=void 0,a=_react2.default.Children.map(r,function(e,l){o&&!e.props.selected||(o=e);var r=e.props.onSelect||t&&t.bind(null,e.props.value,l);return _react2.default.createElement(ToolbarSelectOption,_extends({},e.props,{onSelect:r}))});return _react2.default.createElement("a",{className:"toolbar-select toolbar-button",onMouseDown:preventDefault,title:l},o.props.label,_react2.default.createElement("svg",{width:"13",height:"10"},_react2.default.createElement("path",{fill:"#666",d:"M 5 5 L 13 5 L 9 1 z"}),_react2.default.createElement("path",{fill:"#666",d:"M 5 6 L 13 6 L 9 10 z"})),_react2.default.createElement("ul",{className:"toolbar-select-options"},a))}function ToolbarSelectOption(e){var t=e.onSelect,l=e.label,r=e.selected;return _react2.default.createElement("li",{onMouseOver:function(e){e.target.className="hover"},onMouseOut:function(e){e.target.className=null},onMouseDown:preventDefault,onMouseUp:t},l,r&&_react2.default.createElement("svg",{width:"13",height:"13"},_react2.default.createElement("polygon",{points:"4.851,10.462 0,5.611 2.314,3.297 4.851,5.835 10.686,0 13,2.314 4.851,10.462"})))}function preventDefault(e){e.preventDefault()}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e};exports.ToolbarSelect=ToolbarSelect,exports.ToolbarSelectOption=ToolbarSelectOption;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react);ToolbarSelect.propTypes={onSelect:_react.PropTypes.func,title:_react.PropTypes.string},ToolbarSelectOption.propTypes={onSelect:_react.PropTypes.func,selected:_react.PropTypes.bool,label:_react.PropTypes.string,value:_react.PropTypes.any}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VariableEditor=void 0;var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_onHasCompletion=require("../utility/onHasCompletion"),_onHasCompletion2=_interopRequireDefault(_onHasCompletion),VariableEditor=exports.VariableEditor=function(e){function t(e){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._onKeyUp=function(e,t){var r=t.keyCode;(r>=65&&r<=90||!t.shiftKey&&r>=48&&r<=57||t.shiftKey&&189===r||t.shiftKey&&222===r)&&o.editor.execCommand("autocomplete")},o._onEdit=function(){o.ignoreChangeEvent||(o.cachedValue=o.editor.getValue(),o.props.onEdit&&o.props.onEdit(o.cachedValue))},o._onHasCompletion=function(e,t){(0,_onHasCompletion2.default)(e,t,o.props.onHintInformationRender)},o.cachedValue=e.value||"",o}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=require("codemirror");require("codemirror/addon/hint/show-hint"),require("codemirror/addon/edit/matchbrackets"),require("codemirror/addon/edit/closebrackets"),require("codemirror/addon/fold/brace-fold"),require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/lint/lint"),require("codemirror/keymap/sublime"),require("codemirror-graphql/variables/hint"),require("codemirror-graphql/variables/lint"),require("codemirror-graphql/variables/mode"),this.editor=t(this._node,{value:this.props.value||"",lineNumbers:!0,tabSize:2,mode:"graphql-variables",theme:"graphiql",keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,foldGutter:{minFoldSize:4},lint:{variableToType:this.props.variableToType},hintOptions:{variableToType:this.props.variableToType},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Cmd-Space":function(){return e.editor.showHint({completeSingle:!1})},"Ctrl-Space":function(){return e.editor.showHint({completeSingle:!1})},"Alt-Space":function(){return e.editor.showHint({completeSingle:!1})},"Shift-Space":function(){return e.editor.showHint({completeSingle:!1})},"Cmd-Enter":function(){e.props.onRunQuery&&e.props.onRunQuery()},"Ctrl-Enter":function(){e.props.onRunQuery&&e.props.onRunQuery()},"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}}),this.editor.on("change",this._onEdit),this.editor.on("keyup",this._onKeyUp),this.editor.on("hasCompletion",this._onHasCompletion)}},{key:"componentDidUpdate",value:function(e){var t=require("codemirror");this.ignoreChangeEvent=!0,this.props.variableToType!==e.variableToType&&(this.editor.options.lint.variableToType=this.props.variableToType,this.editor.options.hintOptions.variableToType=this.props.variableToType,t.signal(this.editor,"change",this.editor)),this.props.value!==e.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.setValue(this.props.value)),this.ignoreChangeEvent=!1}},{key:"componentWillUnmount",value:function(){this.editor.off("change",this._onEdit),this.editor.off("keyup",this._onKeyUp),this.editor.off("hasCompletion",this._onHasCompletion),this.editor=null}},{key:"render",value:function(){var e=this;return _react2.default.createElement("div",{className:"codemirrorWrap",ref:function(t){e._node=t}})}},{key:"getCodeMirror",value:function(){return this.editor}},{key:"getClientHeight",value:function(){return this._node&&this._node.clientHeight}}]),t}(_react2.default.Component);VariableEditor.propTypes={variableToType:_react.PropTypes.object,value:_react.PropTypes.string,onEdit:_react.PropTypes.func,onHintInformationRender:_react.PropTypes.func,onRunQuery:_react.PropTypes.func}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/onHasCompletion":28,codemirror:64,"codemirror-graphql/variables/hint":49,"codemirror-graphql/variables/lint":50,"codemirror-graphql/variables/mode":51,"codemirror/addon/edit/closebrackets":54,"codemirror/addon/edit/matchbrackets":55,"codemirror/addon/fold/brace-fold":56,"codemirror/addon/fold/foldgutter":58,"codemirror/addon/hint/show-hint":59,"codemirror/addon/lint/lint":60,"codemirror/keymap/sublime":63}],19:[function(require,module,exports){"use strict";module.exports=require("./components/GraphiQL").GraphiQL},{"./components/GraphiQL":11}],20:[function(require,module,exports){"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),CodeMirrorSizer=function(){function e(){_classCallCheck(this,e),this.sizes=[]}return _createClass(e,[{key:"updateSizes",value:function(e){var r=this;e.forEach(function(e,t){var n=e.getClientHeight();t<=r.sizes.length&&n!==r.sizes[t]&&e.getCodeMirror().setSize(),r.sizes[t]=n})}}]),e}();exports.default=CodeMirrorSizer},{}],21:[function(require,module,exports){"use strict";function debounce(e,t){var u=void 0;return function(){var o=this,n=arguments;clearTimeout(u),u=setTimeout(function(){u=null,t.apply(o,n)},e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=debounce},{}],22:[function(require,module,exports){"use strict";function getLeft(e){for(var t=0,f=e;f.offsetParent;)t+=f.offsetLeft,f=f.offsetParent;return t}function getTop(e){for(var t=0,f=e;f.offsetParent;)t+=f.offsetTop,f=f.offsetParent;return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLeft=getLeft,exports.getTop=getTop},{}],23:[function(require,module,exports){"use strict";function fillLeafs(e,t,r){var n=[];if(!e)return{insertions:n,result:t};var i=void 0;try{i=(0,_graphql.parse)(t)}catch(e){return{insertions:n,result:t}}var a=r||defaultGetDefaultFieldNames,l=new _graphql.TypeInfo(e);return(0,_graphql.visit)(i,{leave:function(e){l.leave(e)},enter:function(e){if(l.enter(e),"Field"===e.kind&&!e.selectionSet){var r=l.getType(),i=buildSelectionSet(r,a);if(i){var s=getIndentation(t,e.loc.start);n.push({index:e.loc.end,string:" "+(0,_graphql.print)(i).replace(/\n/g,"\n"+s)})}}}}),{insertions:n,result:withInsertions(t,n)}}function defaultGetDefaultFieldNames(e){if(!e.getFields)return[];var t=e.getFields();if(t.id)return["id"];if(t.edges)return["edges"];if(t.node)return["node"];var r=[];return Object.keys(t).forEach(function(e){(0,_graphql.isLeafType)(t[e].type)&&r.push(e)}),r}function buildSelectionSet(e,t){var r=(0,_graphql.getNamedType)(e);if(e&&!(0,_graphql.isLeafType)(e)){var n=t(r);if(Array.isArray(n)&&0!==n.length)return{kind:"SelectionSet",selections:n.map(function(e){var n=r.getFields()[e],i=n?n.type:null;return{kind:"Field",name:{kind:"Name",value:e},selectionSet:buildSelectionSet(i,t)}})}}}function withInsertions(e,t){if(0===t.length)return e;var r="",n=0;return t.forEach(function(t){var i=t.index,a=t.string;r+=e.slice(n,i)+a,n=i}),r+=e.slice(n)}function getIndentation(e,t){for(var r=t,n=t;r;){var i=e.charCodeAt(r-1);if(10===i||13===i||8232===i||8233===i)break;r--,9!==i&&11!==i&&12!==i&&32!==i&&160!==i&&(n=r)}return e.substring(r,n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fillLeafs=fillLeafs;var _graphql=require("graphql")},{graphql:74}],24:[function(require,module,exports){"use strict";function find(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=find},{}],25:[function(require,module,exports){"use strict";function getQueryFacts(e,r){if(r){var a=void 0;try{a=(0,_graphql.parse)(r)}catch(e){return}var i=e?collectVariables(e,a):null,t=[];return a.definitions.forEach(function(e){"OperationDefinition"===e.kind&&t.push(e)}),{variableToType:i,operations:t}}}function collectVariables(e,r){var a=Object.create(null);return r.definitions.forEach(function(r){if("OperationDefinition"===r.kind){var i=r.variableDefinitions;i&&i.forEach(function(r){var i=r.variable,t=r.type,n=(0,_graphql.typeFromAST)(e,t);n&&(a[i.name.value]=n)})}}),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getQueryFacts,exports.collectVariables=collectVariables;var _graphql=require("graphql")},{graphql:74}],26:[function(require,module,exports){"use strict";function getSelectedOperationName(e,t,n){if(n&&!(n.length<1)){var r=n.map(function(e){return e.name&&e.name.value});if(t&&r.indexOf(t)!==-1)return t;if(t&&e){var a=e.map(function(e){return e.name&&e.name.value}),u=a.indexOf(t);if(u&&u<r.length)return r[u]}return r[0]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getSelectedOperationName},{}],27:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _graphql=require("graphql");Object.defineProperty(exports,"introspectionQuery",{enumerable:!0,get:function(){return _graphql.introspectionQuery}});exports.introspectionQuerySansSubscriptions="\n  query IntrospectionQuery {\n    __schema {\n      queryType { name }\n      mutationType { name }\n      types {\n        ...FullType\n      }\n      directives {\n        name\n        description\n        locations\n        args {\n          ...InputValue\n        }\n      }\n    }\n  }\n\n  fragment FullType on __Type {\n    kind\n    name\n    description\n    fields(includeDeprecated: true) {\n      name\n      description\n      args {\n        ...InputValue\n      }\n      type {\n        ...TypeRef\n      }\n      isDeprecated\n      deprecationReason\n    }\n    inputFields {\n      ...InputValue\n    }\n    interfaces {\n      ...TypeRef\n    }\n    enumValues(includeDeprecated: true) {\n      name\n      description\n      isDeprecated\n      deprecationReason\n    }\n    possibleTypes {\n      ...TypeRef\n    }\n  }\n\n  fragment InputValue on __InputValue {\n    name\n    description\n    type { ...TypeRef }\n    defaultValue\n  }\n\n  fragment TypeRef on __Type {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"},{graphql:74}],28:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function onHasCompletion(e,n,r){var a=require("codemirror"),t=void 0,i=void 0;a.on(n,"select",function(e,n){t||!function(){var e=n.parentNode;t=document.createElement("div"),t.className="CodeMirror-hint-information",e.appendChild(t),i=document.createElement("div"),i.className="CodeMirror-hint-deprecation",e.appendChild(i);var r=void 0;e.addEventListener("DOMNodeRemoved",r=function(n){n.target===e&&(e.removeEventListener("DOMNodeRemoved",r),t=null,i=null,r=null)})}();var a=e.description?(0,_marked2.default)(e.description,{sanitize:!0}):"Self descriptive.",o=e.type?'<span class="infoType">'+renderType(e.type)+"</span>":"";if(t.innerHTML='<div class="content">'+("<p>"===a.slice(0,3)?"<p>"+o+a.slice(3):o+a)+"</div>",e.isDeprecated){var d=e.deprecationReason?(0,_marked2.default)(e.deprecationReason,{sanitize:!0}):"";i.innerHTML='<span class="deprecation-label">Deprecated</span>'+d,i.style.display="block"}else i.style.display="none";r&&r(t)})}function renderType(e){return e instanceof _graphql.GraphQLNonNull?renderType(e.ofType)+"!":e instanceof _graphql.GraphQLList?"["+renderType(e.ofType)+"]":'<a class="typeName">'+e.name+"</a>"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=onHasCompletion;var _graphql=require("graphql"),_marked=require("marked"),_marked2=_interopRequireDefault(_marked)},{codemirror:64,graphql:74,marked:145}],29:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_getHintsAtPosition=require("./utils/getHintsAtPosition"),_getHintsAtPosition2=_interopRequireDefault(_getHintsAtPosition);_codemirror2.default.registerHelper("hint","graphql",function(e,t){var r=t.schema;if(r){var o=e.getCursor(),i=e.getTokenAt(o),n=(0,_getHintsAtPosition2.default)(r,e.getValue(),o,i);return n&&n.list&&n.list.length>0&&(n.from=_codemirror2.default.Pos(n.from.line,n.from.column),n.to=_codemirror2.default.Pos(n.to.line,n.to.column),_codemirror2.default.signal(e,"hasCompletion",e,n,i)),n}})},{"./utils/getHintsAtPosition":40,codemirror:64}],30:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function renderField(e,r,n){renderQualifiedField(e,r,n),renderTypeAnnotation(e,r,n,r.type)}function renderQualifiedField(e,r,n){var t=r.fieldDef.name;"__"!==t.slice(0,2)&&(renderType(e,r,n,r.parentType),text(e,".")),text(e,t,"field-name",n,(0,_SchemaReference.getFieldReference)(r))}function renderDirective(e,r,n){var t="@"+r.directiveDef.name;text(e,t,"directive-name",n,(0,_SchemaReference.getDirectiveReference)(r))}function renderArg(e,r,n){r.directiveDef?renderDirective(e,r,n):r.fieldDef&&renderQualifiedField(e,r,n);var t=r.argDef.name;text(e,"("),text(e,t,"arg-name",n,(0,_SchemaReference.getArgumentReference)(r)),renderTypeAnnotation(e,r,n,r.inputType),text(e,")")}function renderTypeAnnotation(e,r,n,t){text(e,": "),renderType(e,r,n,t)}function renderEnumValue(e,r,n){var t=r.enumValue.name;renderType(e,r,n,r.inputType),text(e,"."),text(e,t,"enum-value",n,(0,_SchemaReference.getEnumValueReference)(r))}function renderType(e,r,n,t){t instanceof _graphql.GraphQLNonNull?(renderType(e,r,n,t.ofType),text(e,"!")):t instanceof _graphql.GraphQLList?(text(e,"["),renderType(e,r,n,t.ofType),text(e,"]")):text(e,t.name,"type-name",n,(0,_SchemaReference.getTypeReference)(r,t))}function renderDescription(e,r,n){var t=n.description;if(t){var i=document.createElement("div");i.className="info-description",r.renderDescription?i.innerHTML=r.renderDescription(t):i.appendChild(document.createTextNode(t)),e.appendChild(i)}renderDeprecation(e,r,n)}function renderDeprecation(e,r,n){var t=n.deprecationReason;if(t){var i=document.createElement("div");i.className="info-deprecation",r.renderDescription?i.innerHTML=r.renderDescription(t):i.appendChild(document.createTextNode(t));var d=document.createElement("span");d.className="info-deprecation-label",d.appendChild(document.createTextNode("Deprecated: ")),i.insertBefore(d,i.firstChild),e.appendChild(i)}}function text(e,r,n,t,i){n?!function(){var d=t.onClick,a=document.createElement(d?"a":"span");d&&(a.href="javascript:void 0",a.addEventListener("click",function(e){d(i,e)})),a.className=n,a.appendChild(document.createTextNode(r)),e.appendChild(a)}():e.appendChild(document.createTextNode(r))}var _graphql=require("graphql"),_codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_getTypeInfo=require("./utils/getTypeInfo"),_getTypeInfo2=_interopRequireDefault(_getTypeInfo),_SchemaReference=require("./utils/SchemaReference");require("./utils/info-addon"),_codemirror2.default.registerHelper("info","graphql",function(e,r){if(r.schema&&e.state){var n=e.state,t=n.kind,i=n.step,d=(0,_getTypeInfo2.default)(r.schema,e.state);if("Field"===t&&0===i&&d.fieldDef||"AliasedField"===t&&2===i&&d.fieldDef){var a=document.createElement("div");return renderField(a,d,r),renderDescription(a,r,d.fieldDef),a}if("Directive"===t&&1===i&&d.directiveDef){var c=document.createElement("div");return renderDirective(c,d,r),renderDescription(c,r,d.directiveDef),c}if("Argument"===t&&0===i&&d.argDef){var o=document.createElement("div");return renderArg(o,d,r),renderDescription(o,r,d.argDef),o}if("EnumValue"===t&&d.enumValue&&d.enumValue.description){var p=document.createElement("div");return renderEnumValue(p,d,r),renderDescription(p,r,d.enumValue),p}if("NamedType"===t&&d.type&&d.type.description){var u=document.createElement("div");return renderType(u,d,r,d.type),renderDescription(u,r,d.type),u}}})},{"./utils/SchemaReference":38,"./utils/getTypeInfo":41,"./utils/info-addon":43,codemirror:64,graphql:74}],31:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_getTypeInfo=require("./utils/getTypeInfo"),_getTypeInfo2=_interopRequireDefault(_getTypeInfo),_SchemaReference=require("./utils/SchemaReference");require("./utils/jump-addon"),_codemirror2.default.registerHelper("jump","graphql",function(e,r){if(r.schema&&r.onClick&&e.state){var t=e.state,i=t.kind,n=t.step,c=(0,_getTypeInfo2.default)(r.schema,t);return"Field"===i&&0===n&&c.fieldDef||"AliasedField"===i&&2===n&&c.fieldDef?(0,_SchemaReference.getFieldReference)(c):"Directive"===i&&1===n&&c.directiveDef?(0,_SchemaReference.getDirectiveReference)(c):"Argument"===i&&0===n&&c.argDef?(0,_SchemaReference.getArgumentReference)(c):"EnumValue"===i&&c.enumValue?(0,_SchemaReference.getEnumValueReference)(c):"NamedType"===i&&c.type?(0,_SchemaReference.getTypeReference)(c):void 0}})},{"./utils/SchemaReference":38,"./utils/getTypeInfo":41,"./utils/jump-addon":45,codemirror:64}],32:[function(require,module,exports){"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function annotations(r,e,a,t){return e.nodes.map(function(n){var o="Variable"!==n.kind&&n.name?n.name:n.variable?n.variable:n;return{message:e.message,severity:a,type:t,from:r.posFromIndex(o.loc.start),to:r.posFromIndex(o.loc.end)}})}function mapCat(r,e){return Array.prototype.concat.apply([],r.map(e))}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_graphql=require("graphql");_codemirror2.default.registerHelper("lint","graphql",function(r,e,a){var t=e.schema;if(!t)return[];try{var n=(0,_graphql.parse)(r),o=mapCat((0,_graphql.validate)(t,n),function(r){return annotations(a,r,"error","validation")}),i=_graphql.findDeprecatedUsages?mapCat((0,_graphql.findDeprecatedUsages)(t,n),function(r){return annotations(a,r,"warning","deprecation")}):[];return o.concat(i)}catch(r){var s=r.locations[0],c=_codemirror2.default.Pos(s.line-1,s.column),l=a.getTokenAt(c);return[{message:r.message,severity:"error",type:"syntax",from:_codemirror2.default.Pos(s.line-1,l.start),to:_codemirror2.default.Pos(s.line-1,l.end)}]}})},{codemirror:64,graphql:74}],33:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function indent(e,r){var t=e.levels,n=t&&0!==t.length?t[t.length-1]-(this.electricInput.test(r)?1:0):e.indentLevel;return n*this.config.indentUnit}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_onlineParser=require("./utils/onlineParser"),_onlineParser2=_interopRequireDefault(_onlineParser),_Rules=require("./utils/Rules");_codemirror2.default.defineMode("graphql",function(e){var r=(0,_onlineParser2.default)({eatWhitespace:function(e){return e.eatWhile(_Rules.isIgnored)},LexRules:_Rules.LexRules,ParseRules:_Rules.ParseRules,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:r.startState,token:r.token,indent:indent,electricInput:/^\s*[})\]]/,fold:"brace",lineComment:"#",closeBrackets:{pairs:'()[]{}""',explode:"()[]{}"}}})},{"./utils/Rules":37,"./utils/onlineParser":47,codemirror:64}],34:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function indent(e,r){var l=e.levels,u=l&&0!==l.length?l[l.length-1]-(this.electricInput.test(r)?1:0):e.indentLevel;return u*this.config.indentUnit}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_onlineParser=require("../utils/onlineParser"),_onlineParser2=_interopRequireDefault(_onlineParser),_RuleHelpers=require("../utils/RuleHelpers");_codemirror2.default.defineMode("graphql-results",function(e){var r=(0,_onlineParser2.default)({eatWhitespace:function(e){return e.eatSpace()},LexRules:LexRules,ParseRules:ParseRules,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:r.startState,token:r.token,indent:indent,electricInput:/^\s*[}\]]/,fold:"brace",closeBrackets:{pairs:'[]{}""',explode:"[]{}"}}});var LexRules={Punctuation:/^\[|]|\{|\}|:|,/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?/,Keyword:/^true|false|null/},ParseRules={Document:[(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("Entry",(0,_RuleHelpers.p)(",")),(0,_RuleHelpers.p)("}")],Entry:[(0,_RuleHelpers.t)("String","def"),(0,_RuleHelpers.p)(":"),"Value"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue"}return null;case"Keyword":switch(e.value){case"true":case"false":return"BooleanValue";case"null":return"NullValue"}return null}},NumberValue:[(0,_RuleHelpers.t)("Number","number")],StringValue:[(0,_RuleHelpers.t)("String","string")],BooleanValue:[(0,_RuleHelpers.t)("Keyword","builtin")],NullValue:[(0,_RuleHelpers.t)("Keyword","keyword")],ListValue:[(0,_RuleHelpers.p)("["),(0,_RuleHelpers.list)("Value",(0,_RuleHelpers.p)(",")),(0,_RuleHelpers.p)("]")],ObjectValue:[(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("ObjectField",(0,_RuleHelpers.p)(",")),(0,_RuleHelpers.p)("}")],ObjectField:[(0,_RuleHelpers.t)("String","property"),(0,_RuleHelpers.p)(":"),"Value"]}},{"../utils/RuleHelpers":36,"../utils/onlineParser":47,codemirror:64}],35:[function(require,module,exports){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var CharacterStream=function(){function t(e){_classCallCheck(this,t),this._start=0,this._pos=0,this._sourceText=e}return t.prototype.getStartOfToken=function(){return this._start},t.prototype.getCurrentPosition=function(){return this._pos},t.prototype._testNextCharacter=function(t){var e=this._sourceText.charAt(this._pos);return"string"==typeof t?e===t:t.test?t.test(e):t(e)},t.prototype.eol=function(){return this._sourceText.length===this._pos},t.prototype.sol=function(){return 0===this._pos},t.prototype.peek=function(){return this._sourceText.charAt(this._pos)?this._sourceText.charAt(this._pos):null},t.prototype.next=function(){var t=this._sourceText.charAt(this._pos);return this._pos++,t},t.prototype.eat=function(t){var e=this._testNextCharacter(t);if(e)return this._start=this._pos,this._pos++,this._sourceText.charAt(this._pos-1)},t.prototype.eatWhile=function(t){var e=this._testNextCharacter(t),s=!1;for(e&&(s=e,this._start=this._pos);e;)this._pos++,e=this._testNextCharacter(t),s=!0;return s},t.prototype.eatSpace=function(){return this.eatWhile(/[\s\u00a0]/)},t.prototype.skipToEnd=function(){this._pos=this._sourceText.length},t.prototype.skipTo=function(t){this._pos=t},t.prototype.match=function t(e){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments[2],r=null,t=null;switch(typeof e){case"string":var i=new RegExp(e,o?"i":"");t=i.test(this._sourceText.substr(this._pos,e.length)),r=e;break;case"object":case"function":t=this._sourceText.slice(this._pos).match(e),r=t&&t[0]}return!(!t||"string"!=typeof e&&0!==t.index)&&(s&&(this._start=this._pos,this._pos+=r.length),t)},t.prototype.backUp=function(t){this._pos-=t},t.prototype.column=function(){return this._pos},t.prototype.indentation=function(){var t=this._sourceText.match(/\s*/),e=0;if(t&&0===t.index)for(var s=t[0],o=0;s.length>o;)9===s.charCodeAt(o)?e+=2:e++,o++;return e},t.prototype.current=function(){return this._sourceText.slice(this._start,this._pos)},t}();exports.default=CharacterStream},{}],36:[function(require,module,exports){"use strict";function opt(t){return{ofRule:t}}function list(t,n){return{ofRule:t,isList:!0,separator:n}}function butNot(t,n){var e=t.match;return t.match=function(t){return e(t)&&n.every(function(n){return!n.match(t)})},t}function t(t,n){return{style:n,match:function(n){return n.kind===t}}}function p(t,n){return{style:n||"punctuation",match:function(n){return"Punctuation"===n.kind&&n.value===t}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.opt=opt,exports.list=list,exports.butNot=butNot,exports.t=t,exports.p=p},{}],37:[function(require,module,exports){"use strict";function word(e){return{style:"keyword",match:function(l){return"Name"===l.kind&&l.value===e}}}function name(e){return{style:e,match:function(e){return"Name"===e.kind},update:function(e,l){e.name=l.value}}}function type(e){return{style:e,match:function(e){return"Name"===e.kind},update:function(e,l){e.name=l.value,e.prevState.prevState.type=l.value}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParseRules=exports.LexRules=exports.isIgnored=void 0;var _RuleHelpers=require("../utils/RuleHelpers");exports.isIgnored=function(e){
return" "===e||"\t"===e||","===e||"\n"===e||"\r"===e||"\ufeff"===e},exports.LexRules={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|@|\[|]|\{|\||\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?/,Comment:/^#.*/},exports.ParseRules={Document:[(0,_RuleHelpers.list)("Definition")],Definition:function(e){switch(e.value){case"{":return"ShortQuery";case"query":return"Query";case"mutation":return"Mutation";case"subscription":return"Subscription";case"fragment":return"FragmentDefinition";case"schema":return"SchemaDef";case"scalar":return"ScalarDef";case"type":return"ObjectTypeDef";case"interface":return"InterfaceDef";case"union":return"UnionDef";case"enum":return"EnumDef";case"input":return"InputDef";case"extend":return"ExtendDef";case"directive":return"DirectiveDef"}},ShortQuery:["SelectionSet"],Query:[word("query"),(0,_RuleHelpers.opt)(name("def")),(0,_RuleHelpers.opt)("VariableDefinitions"),(0,_RuleHelpers.list)("Directive"),"SelectionSet"],Mutation:[word("mutation"),(0,_RuleHelpers.opt)(name("def")),(0,_RuleHelpers.opt)("VariableDefinitions"),(0,_RuleHelpers.list)("Directive"),"SelectionSet"],Subscription:[word("subscription"),(0,_RuleHelpers.opt)(name("def")),(0,_RuleHelpers.opt)("VariableDefinitions"),(0,_RuleHelpers.list)("Directive"),"SelectionSet"],VariableDefinitions:[(0,_RuleHelpers.p)("("),(0,_RuleHelpers.list)("VariableDefinition"),(0,_RuleHelpers.p)(")")],VariableDefinition:["Variable",(0,_RuleHelpers.p)(":"),"Type",(0,_RuleHelpers.opt)("DefaultValue")],Variable:[(0,_RuleHelpers.p)("$","variable"),name("variable")],DefaultValue:[(0,_RuleHelpers.p)("="),"Value"],SelectionSet:[(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("Selection"),(0,_RuleHelpers.p)("}")],Selection:function(e,l){return"..."===e.value?l.match(/[\s\u00a0,]*(on\b|@|{)/,!1)?"InlineFragment":"FragmentSpread":l.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[name("property"),(0,_RuleHelpers.p)(":"),name("qualifier"),(0,_RuleHelpers.opt)("Arguments"),(0,_RuleHelpers.list)("Directive"),(0,_RuleHelpers.opt)("SelectionSet")],Field:[name("property"),(0,_RuleHelpers.opt)("Arguments"),(0,_RuleHelpers.list)("Directive"),(0,_RuleHelpers.opt)("SelectionSet")],Arguments:[(0,_RuleHelpers.p)("("),(0,_RuleHelpers.list)("Argument"),(0,_RuleHelpers.p)(")")],Argument:[name("attribute"),(0,_RuleHelpers.p)(":"),"Value"],FragmentSpread:[(0,_RuleHelpers.p)("..."),name("def"),(0,_RuleHelpers.list)("Directive")],InlineFragment:[(0,_RuleHelpers.p)("..."),(0,_RuleHelpers.opt)("TypeCondition"),(0,_RuleHelpers.list)("Directive"),"SelectionSet"],FragmentDefinition:[word("fragment"),(0,_RuleHelpers.opt)((0,_RuleHelpers.butNot)(name("def"),[word("on")])),"TypeCondition",(0,_RuleHelpers.list)("Directive"),"SelectionSet"],TypeCondition:[word("on"),"NamedType"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable"}return null;case"Name":switch(e.value){case"true":case"false":return"BooleanValue"}return"null"===e.value?"NullValue":"EnumValue"}},NumberValue:[(0,_RuleHelpers.t)("Number","number")],StringValue:[(0,_RuleHelpers.t)("String","string")],BooleanValue:[(0,_RuleHelpers.t)("Name","builtin")],NullValue:[(0,_RuleHelpers.t)("Name","keyword")],EnumValue:[name("string-2")],ListValue:[(0,_RuleHelpers.p)("["),(0,_RuleHelpers.list)("Value"),(0,_RuleHelpers.p)("]")],ObjectValue:[(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("ObjectField"),(0,_RuleHelpers.p)("}")],ObjectField:[name("attribute"),(0,_RuleHelpers.p)(":"),"Value"],Type:function(e){return"["===e.value?"ListType":"NonNullType"},ListType:[(0,_RuleHelpers.p)("["),"Type",(0,_RuleHelpers.p)("]"),(0,_RuleHelpers.opt)((0,_RuleHelpers.p)("!"))],NonNullType:["NamedType",(0,_RuleHelpers.opt)((0,_RuleHelpers.p)("!"))],NamedType:[type("atom")],Directive:[(0,_RuleHelpers.p)("@","meta"),name("meta"),(0,_RuleHelpers.opt)("Arguments")],SchemaDef:[word("schema"),(0,_RuleHelpers.list)("Directive"),(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("OperationTypeDef"),(0,_RuleHelpers.p)("}")],OperationTypeDef:[name("keyword"),(0,_RuleHelpers.p)(":"),name("atom")],ScalarDef:[word("scalar"),name("atom"),(0,_RuleHelpers.list)("Directive")],ObjectTypeDef:[word("type"),name("atom"),(0,_RuleHelpers.opt)("Implements"),(0,_RuleHelpers.list)("Directive"),(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("FieldDef"),(0,_RuleHelpers.p)("}")],Implements:[word("implements"),(0,_RuleHelpers.list)("NamedType")],FieldDef:[name("property"),(0,_RuleHelpers.opt)("ArgumentsDef"),(0,_RuleHelpers.p)(":"),"Type",(0,_RuleHelpers.list)("Directive")],ArgumentsDef:[(0,_RuleHelpers.p)("("),(0,_RuleHelpers.list)("InputValueDef"),(0,_RuleHelpers.p)(")")],InputValueDef:[name("attribute"),(0,_RuleHelpers.p)(":"),"Type",(0,_RuleHelpers.opt)("DefaultValue"),(0,_RuleHelpers.list)("Directive")],InterfaceDef:[word("interface"),name("atom"),(0,_RuleHelpers.list)("Directive"),(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("FieldDef"),(0,_RuleHelpers.p)("}")],UnionDef:[word("union"),name("atom"),(0,_RuleHelpers.list)("Directive"),(0,_RuleHelpers.p)("="),(0,_RuleHelpers.list)("UnionMember",(0,_RuleHelpers.p)("|"))],UnionMember:["NamedType"],EnumDef:[word("enum"),name("atom"),(0,_RuleHelpers.list)("Directive"),(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("EnumValueDef"),(0,_RuleHelpers.p)("}")],EnumValueDef:[name("string-2"),(0,_RuleHelpers.list)("Directive")],InputDef:[word("input"),name("atom"),(0,_RuleHelpers.list)("Directive"),(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("InputValueDef"),(0,_RuleHelpers.p)("}")],ExtendDef:[word("extend"),"ObjectTypeDef"],DirectiveDef:[word("directive"),(0,_RuleHelpers.p)("@","meta"),name("meta"),(0,_RuleHelpers.opt)("ArgumentsDef"),word("on"),(0,_RuleHelpers.list)("DirectiveLocation",(0,_RuleHelpers.p)("|"))],DirectiveLocation:[name("string-2")]}},{"../utils/RuleHelpers":36}],38:[function(require,module,exports){"use strict";function getFieldReference(e){return{kind:"Field",schema:e.schema,field:e.fieldDef,type:isMetaField(e.fieldDef)?null:e.parentType}}function getDirectiveReference(e){return{kind:"Directive",schema:e.schema,directive:e.directiveDef}}function getArgumentReference(e){return e.directiveDef?{kind:"Argument",schema:e.schema,argument:e.argDef,directive:e.directiveDef}:{kind:"Argument",schema:e.schema,argument:e.argDef,field:e.fieldDef,type:isMetaField(e.fieldDef)?null:e.parentType}}function getEnumValueReference(e){return{kind:"EnumValue",value:e.enumValue,type:(0,_graphql.getNamedType)(e.inputType)}}function getTypeReference(e,t){return{kind:"Type",schema:e.schema,type:t||e.type}}function isMetaField(e){return"__"===e.name.slice(0,2)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFieldReference=getFieldReference,exports.getDirectiveReference=getDirectiveReference,exports.getArgumentReference=getArgumentReference,exports.getEnumValueReference=getEnumValueReference,exports.getTypeReference=getTypeReference;var _graphql=require("graphql")},{graphql:74}],39:[function(require,module,exports){"use strict";function forEachState(e,t){for(var r=[],a=e;a&&a.kind;)r.push(a),a=a.prevState;for(var o=r.length-1;o>=0;o--)t(r[o])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=forEachState},{}],40:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getHintsAtPosition(e,t,n,i){var r="Invalid"===i.state.kind?i.state.prevState:i.state,a=r.kind,u=r.step,o=(0,_getTypeInfo2.default)(e,r);if("Document"===a)return(0,_hintList2.default)(n,i,[{text:"query"},{text:"mutation"},{text:"subscription"},{text:"fragment"},{text:"{"}]);if(("SelectionSet"===a||"Field"===a||"AliasedField"===a)&&o.parentType){var p=o.parentType.getFields?(0,_objectValues2.default)(o.parentType.getFields()):[];return(0,_graphql.isAbstractType)(o.parentType)&&p.push(_introspection.TypeNameMetaFieldDef),o.parentType===e.getQueryType()&&p.push(_introspection.SchemaMetaFieldDef,_introspection.TypeMetaFieldDef),(0,_hintList2.default)(n,i,p.map(function(e){return{text:e.name,type:e.type,description:e.description,isDeprecated:e.isDeprecated,deprecationReason:e.deprecationReason}}))}if("Arguments"===a||"Argument"===a&&0===u){var s=o.argDefs;if(s)return(0,_hintList2.default)(n,i,s.map(function(e){return{text:e.name,type:e.type,description:e.description}}))}if(("ObjectValue"===a||"ObjectField"===a&&0===u)&&o.objectFieldDefs){var c=(0,_objectValues2.default)(o.objectFieldDefs);return(0,_hintList2.default)(n,i,c.map(function(e){return{text:e.name,type:e.type,description:e.description}}))}if("EnumValue"===a||"ListValue"===a&&1===u||"ObjectField"===a&&2===u||"Argument"===a&&2===u){var f=function(){var e=(0,_graphql.getNamedType)(o.inputType);if(e instanceof _graphql.GraphQLEnumType){var t=e.getValues(),r=(0,_objectValues2.default)(t);return{v:(0,_hintList2.default)(n,i,r.map(function(t){return{text:t.name,type:e,description:t.description,isDeprecated:t.isDeprecated,deprecationReason:t.deprecationReason}}))}}if(e===_graphql.GraphQLBoolean)return{v:(0,_hintList2.default)(n,i,[{text:"true",type:_graphql.GraphQLBoolean,description:"Not false."},{text:"false",type:_graphql.GraphQLBoolean,description:"Not true."}])}}();if("object"==typeof f)return f.v}if("TypeCondition"===a&&1===u||"NamedType"===a&&"TypeCondition"===r.prevState.kind){var l=void 0;if(o.parentType)(0,_graphql.isAbstractType)(o.parentType)?!function(){var t=e.getPossibleTypes(o.parentType),n=Object.create(null);t.forEach(function(e){e.getInterfaces().forEach(function(e){n[e.name]=e})}),l=t.concat((0,_objectValues2.default)(n))}():l=[o.parentType];else{var d=e.getTypeMap();l=(0,_objectValues2.default)(d).filter(_graphql.isCompositeType)}return(0,_hintList2.default)(n,i,l.map(function(e){return{text:e.name,description:e.description}}))}if("FragmentSpread"===a&&1===u){var _=function(){var r=e.getTypeMap(),a=getDefinitionState(i.state),u=getFragmentDefinitions(t),p=u.filter(function(t){return r[t.typeCondition.name.value]&&!(a&&"FragmentDefinition"===a.kind&&a.name===t.name.value)&&(0,_graphql.doTypesOverlap)(e,o.parentType,r[t.typeCondition.name.value])});return{v:(0,_hintList2.default)(n,i,p.map(function(e){return{text:e.name.value,type:r[e.typeCondition.name.value],description:"fragment "+e.name.value+" on "+e.typeCondition.name.value}}))}}();if("object"==typeof _)return _.v}if("VariableDefinition"===a&&2===u||"ListType"===a&&1===u||"NamedType"===a&&("VariableDefinition"===r.prevState.kind||"ListType"===r.prevState.kind)){var y=e.getTypeMap(),m=(0,_objectValues2.default)(y).filter(_graphql.isInputType);return(0,_hintList2.default)(n,i,m.map(function(e){return{text:e.name,description:e.description}}))}if("Directive"===a){var g=e.getDirectives().filter(function(e){return canUseDirective(r.prevState.kind,e)});return(0,_hintList2.default)(n,i,g.map(function(e){return{text:e.name,description:e.description}}))}}function canUseDirective(e,t){var n=t.locations;switch(e){case"Query":return n.indexOf("QUERY")!==-1;case"Mutation":return n.indexOf("MUTATION")!==-1;case"Subscription":return n.indexOf("SUBSCRIPTION")!==-1;case"Field":case"AliasedField":return n.indexOf("FIELD")!==-1;case"FragmentDefinition":return n.indexOf("FRAGMENT_DEFINITION")!==-1;case"FragmentSpread":return n.indexOf("FRAGMENT_SPREAD")!==-1;case"InlineFragment":return n.indexOf("INLINE_FRAGMENT")!==-1}return!1}function getFragmentDefinitions(e){var t=[];return(0,_runParser2.default)(e,{eatWhitespace:function(e){return e.eatWhile(_Rules.isIgnored)},LexRules:_Rules.LexRules,ParseRules:_Rules.ParseRules},function(e,n){"FragmentDefinition"===n.kind&&n.name&&n.type&&t.push({kind:"FragmentDefinition",name:{kind:"Name",value:n.name},typeCondition:{kind:"NamedType",name:{kind:"Name",value:n.type}}})}),t}function getDefinitionState(e){var t=void 0;return(0,_forEachState2.default)(e,function(e){switch(e.kind){case"Query":case"ShortQuery":case"Mutation":case"Subscription":case"FragmentDefinition":t=e}}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getHintsAtPosition;var _graphql=require("graphql"),_introspection=require("graphql/type/introspection"),_forEachState=require("./forEachState"),_forEachState2=_interopRequireDefault(_forEachState),_getTypeInfo=require("./getTypeInfo"),_getTypeInfo2=_interopRequireDefault(_getTypeInfo),_hintList=require("./hintList"),_hintList2=_interopRequireDefault(_hintList),_objectValues=require("./objectValues"),_objectValues2=_interopRequireDefault(_objectValues),_runParser=require("./runParser"),_runParser2=_interopRequireDefault(_runParser),_Rules=require("./Rules")},{"./Rules":37,"./forEachState":39,"./getTypeInfo":41,"./hintList":42,"./objectValues":46,"./runParser":48,graphql:74,"graphql/type/introspection":94}],41:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getTypeInfo(e,t){var a={schema:e,type:null,parentType:null,inputType:null,directiveDef:null,fieldDef:null,argDef:null,argDefs:null,objectFieldDefs:null};return(0,_forEachState2.default)(t,function(t){switch(t.kind){case"Query":case"ShortQuery":a.type=e.getQueryType();break;case"Mutation":a.type=e.getMutationType();break;case"Subscription":a.type=e.getSubscriptionType();break;case"InlineFragment":case"FragmentDefinition":t.type&&(a.type=e.getType(t.type));break;case"Field":case"AliasedField":a.fieldDef=a.type&&t.name?getFieldDef(e,a.parentType,t.name):null,a.type=a.fieldDef&&a.fieldDef.type;break;case"SelectionSet":a.parentType=(0,_graphql.getNamedType)(a.type);break;case"Directive":a.directiveDef=t.name&&e.getDirective(t.name);break;case"Arguments":var r="Field"===t.prevState.kind?a.fieldDef:"Directive"===t.prevState.kind?a.directiveDef:"AliasedField"===t.prevState.kind?t.prevState.name&&getFieldDef(e,a.parentType,t.prevState.name):null;a.argDefs=r&&r.args;break;case"Argument":if(a.argDef=null,a.argDefs)for(var n=0;n<a.argDefs.length;n++)if(a.argDefs[n].name===t.name){a.argDef=a.argDefs[n];break}a.inputType=a.argDef&&a.argDef.type;break;case"EnumValue":var i=(0,_graphql.getNamedType)(a.inputType);a.enumValue=i instanceof _graphql.GraphQLEnumType?find(i.getValues(),function(e){return e.value===t.name}):null;break;case"ListValue":var p=(0,_graphql.getNullableType)(a.inputType);a.inputType=p instanceof _graphql.GraphQLList?p.ofType:null;break;case"ObjectValue":var l=(0,_graphql.getNamedType)(a.inputType);a.objectFieldDefs=l instanceof _graphql.GraphQLInputObjectType?l.getFields():null;break;case"ObjectField":var u=t.name&&a.objectFieldDefs?a.objectFieldDefs[t.name]:null;a.inputType=u&&u.type;break;case"NamedType":a.type=e.getType(t.name)}}),a}function getFieldDef(e,t,a){return a===_introspection.SchemaMetaFieldDef.name&&e.getQueryType()===t?_introspection.SchemaMetaFieldDef:a===_introspection.TypeMetaFieldDef.name&&e.getQueryType()===t?_introspection.TypeMetaFieldDef:a===_introspection.TypeNameMetaFieldDef.name&&(0,_graphql.isCompositeType)(t)?_introspection.TypeNameMetaFieldDef:t.getFields?t.getFields()[a]:void 0}function find(e,t){for(var a=0;a<e.length;a++)if(t(e[a]))return e[a]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getTypeInfo;var _graphql=require("graphql"),_introspection=require("graphql/type/introspection"),_forEachState=require("./forEachState"),_forEachState2=_interopRequireDefault(_forEachState)},{"./forEachState":39,graphql:74,"graphql/type/introspection":94}],42:[function(require,module,exports){"use strict";function hintList(t,e,n){var r=filterAndSortList(n,normalizeText(e.string));if(r){var i=null!==e.type&&/"|\w/.test(e.string[0])?e.start:e.end;return{list:r,from:{line:t.line,column:i},to:{line:t.line,column:e.end}}}}function filterAndSortList(t,e){if(!e)return filterNonEmpty(t,function(t){return!t.isDeprecated});var n=t.map(function(t){return{proximity:getProximity(normalizeText(t.text),e),entry:t}}),r=filterNonEmpty(filterNonEmpty(n,function(t){return t.proximity<=2}),function(t){return!t.entry.isDeprecated}),i=r.sort(function(t,e){return(t.entry.isDeprecated?1:0)-(e.entry.isDeprecated?1:0)||t.proximity-e.proximity||t.entry.text.length-e.entry.text.length});return i.map(function(t){return t.entry})}function filterNonEmpty(t,e){var n=t.filter(e);return 0===n.length?t:n}function normalizeText(t){return t.toLowerCase().replace(/\W/g,"")}function getProximity(t,e){var n=lexicalDistance(e,t);return t.length>e.length&&(n-=t.length-e.length-1,n+=0===t.indexOf(e)?0:.5),n}function lexicalDistance(t,e){var n=void 0,r=void 0,i=[],o=t.length,l=e.length;for(n=0;n<=o;n++)i[n]=[n];for(r=1;r<=l;r++)i[0][r]=r;for(n=1;n<=o;n++)for(r=1;r<=l;r++){var u=t[n-1]===e[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+u),n>1&&r>1&&t[n-1]===e[r-2]&&t[n-2]===e[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+u))}return i[o][l]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=hintList},{}],43:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createState(e){return{options:e instanceof Function?{render:e}:e===!0?{}:e}}function getHoverTime(e){var o=e.state.info.options;return o&&o.hoverTime||500}function onMouseOver(e,o){var t=e.state.info,r=o.target||o.srcElement;if("SPAN"===r.nodeName&&void 0===t.hoverTimeout){var i=r.getBoundingClientRect(),n=getHoverTime(e);t.hoverTimeout=setTimeout(a,n);var u=function(){clearTimeout(t.hoverTimeout),t.hoverTimeout=setTimeout(a,n)},m=function o(){_codemirror2.default.off(document,"mousemove",u),_codemirror2.default.off(e.getWrapperElement(),"mouseout",o),clearTimeout(t.hoverTimeout),t.hoverTimeout=void 0},a=function(){_codemirror2.default.off(document,"mousemove",u),_codemirror2.default.off(e.getWrapperElement(),"mouseout",m),t.hoverTimeout=void 0,onMouseHover(e,i)};_codemirror2.default.on(document,"mousemove",u),_codemirror2.default.on(e.getWrapperElement(),"mouseout",m)}}function onMouseHover(e,o){var t=e.coordsChar({left:(o.left+o.right)/2,top:(o.top+o.bottom)/2}),r=e.state.info,i=r.options,n=i.render||e.getHelper(t,"info");if(n){var u=e.getTokenAt(t,!0);if(u){var m=n(u,i,e);m&&showPopup(e,o,m)}}}function showPopup(e,o,t){var r=document.createElement("div");r.className="CodeMirror-info",r.appendChild(t),document.body.appendChild(r);var i=r.getBoundingClientRect(),n=r.currentStyle||window.getComputedStyle(r),u=i.right-i.left+parseFloat(n.marginLeft)+parseFloat(n.marginRight),m=i.bottom-i.top+parseFloat(n.marginTop)+parseFloat(n.marginBottom),a=o.bottom;m>window.innerHeight-o.bottom-15&&o.top>window.innerHeight-o.bottom&&(a=o.top-m),a<0&&(a=o.bottom);var d=Math.max(0,window.innerWidth-u-15);d>o.left&&(d=o.left),r.style.opacity=1,r.style.top=a+"px",r.style.left=d+"px";var f=void 0,l=function(){clearTimeout(f)},c=function(){clearTimeout(f),f=setTimeout(s,200)},s=function(){_codemirror2.default.off(r,"mouseover",l),_codemirror2.default.off(r,"mouseout",c),_codemirror2.default.off(e.getWrapperElement(),"mouseout",c),r.style.opacity?(r.style.opacity=0,setTimeout(function(){r.parentNode&&r.parentNode.removeChild(r)},600)):r.parentNode&&r.parentNode.removeChild(r)};_codemirror2.default.on(r,"mouseover",l),_codemirror2.default.on(r,"mouseout",c),_codemirror2.default.on(e.getWrapperElement(),"mouseout",c)}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror);_codemirror2.default.defineOption("info",!1,function(e,o,t){if(t&&t!==_codemirror2.default.Init){var r=e.state.info.onMouseOver;_codemirror2.default.off(e.getWrapperElement(),"mouseover",r),clearTimeout(e.state.info.hoverTimeout),delete e.state.info}if(o){var i=e.state.info=createState(o);i.onMouseOver=onMouseOver.bind(null,e),_codemirror2.default.on(e.getWrapperElement(),"mouseover",i.onMouseOver)}})},{codemirror:64}],44:[function(require,module,exports){"use strict";function jsonParse(e){string=e,strLen=e.length,start=end=lastEnd=-1,ch(),lex();var r=parseObj();return expect("EOF"),r}function parseObj(){var e=start,r=[];if(expect("{"),!skip("}")){do r.push(parseMember());while(skip(","));expect("}")}return{kind:"Object",start:e,end:lastEnd,members:r}}function parseMember(){var e=start,r="String"===kind?curToken():null;expect("String"),expect(":");var t=parseVal();return{kind:"Member",start:e,end:lastEnd,key:r,value:t}}function parseArr(){var e=start,r=[];if(expect("["),!skip("]")){do r.push(parseVal());while(skip(","));expect("]")}return{kind:"Array",start:e,end:lastEnd,values:r}}function parseVal(){switch(kind){case"[":return parseArr();case"{":return parseObj();case"String":case"Number":case"Boolean":case"Null":var e=curToken();return lex(),e}return expect("Value")}function curToken(){return{kind:kind,start:start,end:end,value:JSON.parse(string.slice(start,end))}}function expect(e){if(kind===e)return void lex();var r=void 0;if("EOF"===kind)r="[end of file]";else if(end-start>1)r="`"+string.slice(start,end)+"`";else{var t=string.slice(start).match(/^.+?\b/);r="`"+(t?t[0]:string[start])+"`"}throw syntaxError("Expected "+e+" but found "+r+".")}function syntaxError(e){return{message:e,start:start,end:end}}function skip(e){if(kind===e)return lex(),!0}function ch(){end<strLen&&(end++,code=end===strLen?0:string.charCodeAt(end))}function lex(){for(lastEnd=end;9===code||10===code||13===code||32===code;)ch();if(0===code)return void(kind="EOF");switch(start=end,code){case 34:return kind="String",readString();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return kind="Number",readNumber();case 102:if("false"!==string.slice(start,start+5))break;return end+=4,ch(),void(kind="Boolean");case 110:if("null"!==string.slice(start,start+4))break;return end+=3,ch(),void(kind="Null");case 116:if("true"!==string.slice(start,start+4))break;return end+=3,ch(),void(kind="Boolean")}kind=string[start],ch()}function readString(){for(ch();34!==code&&code>31;)if(92===code)switch(ch(),code){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:ch();break;case 117:ch(),readHex(),readHex(),readHex(),readHex();break;default:throw syntaxError("Bad character escape sequence.")}else{if(end===strLen)throw syntaxError("Unterminated string.");ch()}if(34===code)return void ch();throw syntaxError("Unterminated string.")}function readHex(){if(code>=48&&code<=57||code>=65&&code<=70||code>=97&&code<=102)return ch();throw syntaxError("Expected hexadecimal digit.")}function readNumber(){45===code&&ch(),48===code?ch():readDigits(),46===code&&(ch(),readDigits()),69!==code&&101!==code||(ch(),43!==code&&45!==code||ch(),readDigits())}function readDigits(){if(code<48||code>57)throw syntaxError("Expected decimal digit.");do ch();while(code>=48&&code<=57)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=jsonParse;var string=void 0,strLen=void 0,start=void 0,end=void 0,lastEnd=void 0,code=void 0,kind=void 0},{}],45:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function onMouseOver(e,o){var t=o.target||o.srcElement;if("SPAN"===t.nodeName){var r=t.getBoundingClientRect(),n={left:(r.left+r.right)/2,top:(r.top+r.bottom)/2};e.state.jump.cursor=n,e.state.jump.isHoldingModifier&&enableJumpMode(e)}}function onMouseOut(e){return!e.state.jump.isHoldingModifier&&e.state.jump.cursor?void(e.state.jump.cursor=null):void(e.state.jump.isHoldingModifier&&e.state.jump.marker&&disableJumpMode(e))}function onKeyDown(e,o){if(!e.state.jump.isHoldingModifier&&isJumpModifier(o.key)){e.state.jump.isHoldingModifier=!0,e.state.jump.cursor&&enableJumpMode(e);var t=function t(u){u.code===o.code&&(e.state.jump.isHoldingModifier=!1,e.state.jump.marker&&disableJumpMode(e),_codemirror2.default.off(document,"keyup",t),_codemirror2.default.off(document,"click",r),e.off("mousedown",n))},r=function(o){var t=e.state.jump.destination;t&&e.state.jump.options.onClick(t,o)},n=function(o,t){e.state.jump.destination&&(t.codemirrorIgnore=!0)};_codemirror2.default.on(document,"keyup",t),_codemirror2.default.on(document,"click",r),e.on("mousedown",n)}}function isJumpModifier(e){return e===(isMac?"Meta":"Control")}function enableJumpMode(e){if(!e.state.jump.marker){var o=e.state.jump.cursor,t=e.coordsChar(o),r=e.getTokenAt(t,!0),n=e.state.jump.options,u=n.getDestination||e.getHelper(t,"jump");if(u){var i=u(r,n,e);if(i){var a=e.markText({line:t.line,ch:r.start},{line:t.line,ch:r.end},{className:"CodeMirror-jump-token"});e.state.jump.marker=a,e.state.jump.destination=i}}}}function disableJumpMode(e){var o=e.state.jump.marker;e.state.jump.marker=null,e.state.jump.destination=null,o.clear()}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror);_codemirror2.default.defineOption("jump",!1,function(e,o,t){if(t&&t!==_codemirror2.default.Init){var r=e.state.jump.onMouseOver;_codemirror2.default.off(e.getWrapperElement(),"mouseover",r);var n=e.state.jump.onMouseOut;_codemirror2.default.off(e.getWrapperElement(),"mouseout",n),_codemirror2.default.off(document,"keydown",e.state.jump.onKeyDown),delete e.state.jump}if(o){var u=e.state.jump={options:o,onMouseOver:onMouseOver.bind(null,e),onMouseOut:onMouseOut.bind(null,e),onKeyDown:onKeyDown.bind(null,e)};_codemirror2.default.on(e.getWrapperElement(),"mouseover",u.onMouseOver),_codemirror2.default.on(e.getWrapperElement(),"mouseout",u.onMouseOut),_codemirror2.default.on(document,"keydown",u.onKeyDown)}});var isMac=navigator&&navigator.appVersion.indexOf("Mac")!==-1},{codemirror:64}],46:[function(require,module,exports){"use strict";function objectValues(e){for(var t=Object.keys(e),r=t.length,o=new Array(r),s=0;s<r;++s)o[s]=e[t[s]];return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=objectValues},{}],47:[function(require,module,exports){"use strict";function onlineParser(e){return{startState:function(){var r={level:0};return pushRule(e.ParseRules,r,"Document"),r},token:function(r,t){return getToken(r,t,e)}}}function getToken(e,r,t){var n=t.LexRules,a=t.ParseRules,u=t.eatWhitespace,l=t.editorConfig;if(0===r.rule.length?popRule(r):r.needsAdvance&&(r.needsAdvance=!1,advanceRule(r,!0)),e.sol()){var s=l&&l.tabSize||2;r.indentLevel=Math.floor(e.indentation()/s)}if(u(e))return"ws";var i=lex(n,e);if(!i)return e.match(/\S+/),pushRule(SpecialParseRules,r,"Invalid"),"invalidchar";if("Comment"===i.kind)return pushRule(SpecialParseRules,r,"Comment"),"comment";var o=assign({},r);if("Punctuation"===i.kind)if(/^[{([]/.test(i.value))r.levels=(r.levels||[]).concat(r.indentLevel+1);else if(/^[})\]]/.test(i.value)){var p=r.levels=(r.levels||[]).slice(0,-1);p.length>0&&p[p.length-1]<r.indentLevel&&(r.indentLevel=p[p.length-1])}for(;r.rule;){var v="function"==typeof r.rule?0===r.step?r.rule(i,e):null:r.rule[r.step];if(r.needsSeperator&&(v=v&&v.separator),v){if(v.ofRule&&(v=v.ofRule),"string"==typeof v){pushRule(a,r,v);continue}if(v.match&&v.match(i))return v.update&&v.update(r,i),"Punctuation"===i.kind?advanceRule(r,!0):r.needsAdvance=!0,v.style}unsuccessful(r)}return assign(r,o),pushRule(SpecialParseRules,r,"Invalid"),"invalidchar"}function assign(e,r){for(var t=Object.keys(r),n=0;n<t.length;n++)e[t[n]]=r[t[n]];return e}function pushRule(e,r,t){if(!e[t])throw new TypeError("Unknown rule: "+t);r.prevState=assign({},r),r.kind=t,r.name=null,r.type=null,r.rule=e[t],r.step=0,r.needsSeperator=!1}function popRule(e){e.kind=e.prevState.kind,e.name=e.prevState.name,e.type=e.prevState.type,e.rule=e.prevState.rule,e.step=e.prevState.step,e.needsSeperator=e.prevState.needsSeperator,e.prevState=e.prevState.prevState}function advanceRule(e,r){if(isList(e)){var t=e.rule[e.step].separator;if(t&&(e.needsSeperator=!e.needsSeperator,!e.needsSeperator&&t.ofRule))return;if(r)return}for(e.needsSeperator=!1,e.step++;e.rule&&!(Array.isArray(e.rule)&&e.step<e.rule.length);)popRule(e),e.rule&&(isList(e)?e.rule[e.step].separator&&(e.needsSeperator=!e.needsSeperator):(e.needsSeperator=!1,e.step++))}function isList(e){return Array.isArray(e.rule)&&e.rule[e.step].isList}function unsuccessful(e){for(;e.rule&&(!Array.isArray(e.rule)||!e.rule[e.step].ofRule);)popRule(e);e.rule&&advanceRule(e,!1)}function lex(e,r){for(var t=Object.keys(e),n=0;n<t.length;n++){var a=r.match(e[t[n]]);if(a)return{kind:t[n],value:a[0]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=onlineParser;var SpecialParseRules={Invalid:[],Comment:[]}},{}],48:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function runParser(e,r,a){var t=(0,_onlineParser2.default)(r),n=t.startState(),u=e.split("\n");u.forEach(function(e){for(var r=new _CharacterStream2.default(e);!r.eol();){var u=t.token(r,n);a(r,n,u)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=runParser;var _CharacterStream=require("./CharacterStream"),_CharacterStream2=_interopRequireDefault(_CharacterStream),_onlineParser=require("./onlineParser"),_onlineParser2=_interopRequireDefault(_onlineParser)},{"./CharacterStream":35,"./onlineParser":47}],49:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getVariablesHint(e,t,r){var i="Invalid"===t.state.kind?t.state.prevState:t.state,a=i.kind,n=i.step;if("Document"===a&&0===n)return(0,_hintList2.default)(e,t,[{text:"{"}]);var l=r.variableToType;if(l){var u=getTypeInfo(l,t.state);if("Document"===a||"Variable"===a&&0===n){var o=Object.keys(l);return(0,_hintList2.default)(e,t,o.map(function(e){return{text:'"'+e+'": ',type:l[e]}}))}if(("ObjectValue"===a||"ObjectField"===a&&0===n)&&u.fields){var f=Object.keys(u.fields).map(function(e){return u.fields[e]});return(0,_hintList2.default)(e,t,f.map(function(e){return{text:'"'+e.name+'": ',type:e.type,description:e.description}}))}if("StringValue"===a||"NumberValue"===a||"BooleanValue"===a||"NullValue"===a||"ListValue"===a&&1===n||"ObjectField"===a&&2===n||"Variable"===a&&2===n){var p=function(){var r=(0,_graphql.getNamedType)(u.type);if(r instanceof _graphql.GraphQLInputObjectType)return{v:(0,_hintList2.default)(e,t,[{text:"{"}])};if(r instanceof _graphql.GraphQLEnumType){var i=function(){var i=r.getValues(),a=Object.keys(i).map(function(e){return i[e]});return{v:{v:(0,_hintList2.default)(e,t,a.map(function(e){return{text:'"'+e.name+'"',type:r,description:e.description}}))}}}();if("object"==typeof i)return i.v}else if(r===_graphql.GraphQLBoolean)return{v:(0,_hintList2.default)(e,t,[{text:"true",type:_graphql.GraphQLBoolean,description:"Not false."},{text:"false",type:_graphql.GraphQLBoolean,description:"Not true."}])}}();if("object"==typeof p)return p.v}}}function getTypeInfo(e,t){var r={type:null,fields:null};return(0,_forEachState2.default)(t,function(t){if("Variable"===t.kind)r.type=e[t.name];else if("ListValue"===t.kind){var i=(0,_graphql.getNullableType)(r.type);r.type=i instanceof _graphql.GraphQLList?i.ofType:null}else if("ObjectValue"===t.kind){var a=(0,_graphql.getNamedType)(r.type);r.fields=a instanceof _graphql.GraphQLInputObjectType?a.getFields():null}else if("ObjectField"===t.kind){var n=t.name&&r.fields?r.fields[t.name]:null;r.type=n&&n.type}}),r}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_graphql=require("graphql"),_forEachState=require("../utils/forEachState"),_forEachState2=_interopRequireDefault(_forEachState),_hintList=require("../utils/hintList"),_hintList2=_interopRequireDefault(_hintList);_codemirror2.default.registerHelper("hint","graphql-variables",function(e,t){var r=e.getCursor(),i=e.getTokenAt(r),a=getVariablesHint(r,i,t);return a&&a.list&&a.list.length>0&&(a.from=_codemirror2.default.Pos(a.from.line,a.from.column),a.to=_codemirror2.default.Pos(a.to.line,a.to.column),_codemirror2.default.signal(e,"hasCompletion",e,a,i)),a})},{"../utils/forEachState":39,"../utils/hintList":42,codemirror:64,
graphql:74}],50:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validateVariables(e,r,a){var n=[];return a.members.forEach(function(a){var t=a.key.value,i=r[t];i?validateValue(i,a.value).forEach(function(r){var a=r[0],t=r[1];n.push(lintError(e,a,t))}):n.push(lintError(e,a.key,'Variable "$'+t+'" does not appear in any GraphQL query.'))}),n}function validateValue(e,r){if(e instanceof _graphql.GraphQLNonNull)return"Null"===r.kind?[[r,'Type "'+e+'" is non-nullable and cannot be null.']]:validateValue(e.ofType,r);if("Null"===r.kind)return[];if(e instanceof _graphql.GraphQLList){var a=function(){var a=e.ofType;return"Array"===r.kind?{v:mapCat(r.values,function(e){return validateValue(a,e)})}:{v:validateValue(a,r)}}();if("object"==typeof a)return a.v}if(e instanceof _graphql.GraphQLInputObjectType){var n=function(){if("Object"!==r.kind)return{v:[[r,'Type "'+e+'" must be an Object.']]};var a=Object.create(null),n=mapCat(r.members,function(r){var n=r.key.value;a[n]=!0;var t=e.getFields()[n];if(!t)return[[r.key,'Type "'+e+'" does not have a field "'+n+'".']];var i=t?t.type:void 0;return validateValue(i,r.value)});return Object.keys(e.getFields()).forEach(function(t){if(!a[t]){var i=e.getFields()[t].type;i instanceof _graphql.GraphQLNonNull&&n.push([r,'Object of type "'+e+'" is missing required field "'+t+'".'])}}),{v:n}}();if("object"==typeof n)return n.v}return"Boolean"===e.name&&"Boolean"!==r.kind||"String"===e.name&&"String"!==r.kind||"ID"===e.name&&"Number"!==r.kind&&"String"!==r.kind||"Float"===e.name&&"Number"!==r.kind||"Int"===e.name&&("Number"!==r.kind||(0|r.value)!==r.value)?[[r,'Expected value of type "'+e+'".']]:(e instanceof _graphql.GraphQLEnumType||e instanceof _graphql.GraphQLScalarType)&&("String"!==r.kind&&"Number"!==r.kind&&"Boolean"!==r.kind&&"Null"!==r.kind||isNullish(e.parseValue(r.value)))?[[r,'Expected value of type "'+e+'".']]:[]}function lintError(e,r,a){return{message:a,severity:"error",type:"validation",from:e.posFromIndex(r.start),to:e.posFromIndex(r.end)}}function isNullish(e){return null===e||void 0===e||e!==e}function mapCat(e,r){return Array.prototype.concat.apply([],e.map(r))}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_graphql=require("graphql"),_jsonParse=require("../utils/jsonParse"),_jsonParse2=_interopRequireDefault(_jsonParse);_codemirror2.default.registerHelper("lint","graphql-variables",function(e,r,a){if(!e)return[];var n=void 0;try{n=(0,_jsonParse2.default)(e)}catch(e){if(e.stack)throw e;return[lintError(a,e,e.message)]}var t=r.variableToType;return t?validateVariables(a,t,n):[]})},{"../utils/jsonParse":44,codemirror:64,graphql:74}],51:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function indent(e,r){var l=e.levels,u=l&&0!==l.length?l[l.length-1]-(this.electricInput.test(r)?1:0):e.indentLevel;return u*this.config.indentUnit}function namedKey(e){return{style:e,match:function(e){return"String"===e.kind},update:function(e,r){e.name=r.value.slice(1,-1)}}}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_onlineParser=require("../utils/onlineParser"),_onlineParser2=_interopRequireDefault(_onlineParser),_RuleHelpers=require("../utils/RuleHelpers");_codemirror2.default.defineMode("graphql-variables",function(e){var r=(0,_onlineParser2.default)({eatWhitespace:function(e){return e.eatSpace()},LexRules:LexRules,ParseRules:ParseRules,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:r.startState,token:r.token,indent:indent,electricInput:/^\s*[}\]]/,fold:"brace",closeBrackets:{pairs:'[]{}""',explode:"[]{}"}}});var LexRules={Punctuation:/^\[|]|\{|\}|:|,/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?/,Keyword:/^true|false|null/},ParseRules={Document:[(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("Variable",(0,_RuleHelpers.opt)((0,_RuleHelpers.p)(","))),(0,_RuleHelpers.p)("}")],Variable:[namedKey("variable"),(0,_RuleHelpers.p)(":"),"Value"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue"}return null;case"Keyword":switch(e.value){case"true":case"false":return"BooleanValue";case"null":return"NullValue"}return null}},NumberValue:[(0,_RuleHelpers.t)("Number","number")],StringValue:[(0,_RuleHelpers.t)("String","string")],BooleanValue:[(0,_RuleHelpers.t)("Keyword","builtin")],NullValue:[(0,_RuleHelpers.t)("Keyword","keyword")],ListValue:[(0,_RuleHelpers.p)("["),(0,_RuleHelpers.list)("Value",(0,_RuleHelpers.opt)((0,_RuleHelpers.p)(","))),(0,_RuleHelpers.p)("]")],ObjectValue:[(0,_RuleHelpers.p)("{"),(0,_RuleHelpers.list)("ObjectField",(0,_RuleHelpers.opt)((0,_RuleHelpers.p)(","))),(0,_RuleHelpers.p)("}")],ObjectField:[namedKey("attribute"),(0,_RuleHelpers.p)(":"),"Value"]}},{"../utils/RuleHelpers":36,"../utils/onlineParser":47,codemirror:64}],52:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function n(e){var n=e.search(l);return n==-1?0:n}function t(e,n,t){return/\bstring\b/.test(e.getTokenTypeAt(o(n.line,0)))&&!/^[\'\"`]/.test(t)}var i={},l=/[^\s\u00a0]/,o=e.Pos;e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=i);for(var n=this,t=1/0,l=this.listSelections(),r=null,a=l.length-1;a>=0;a--){var m=l[a].from(),c=l[a].to();m.line>=t||(c.line>=t&&(c=o(t,0)),t=m.line,null==r?n.uncomment(m,c,e)?r="un":(n.lineComment(m,c,e),r="line"):"un"==r?n.uncomment(m,c,e):n.lineComment(m,c,e))}}),e.defineExtension("lineComment",function(e,r,a){a||(a=i);var m=this,c=m.getModeAt(e),f=m.getLine(e.line);if(null!=f&&!t(m,e,f)){var g=a.lineComment||c.lineComment;if(!g)return void((a.blockCommentStart||c.blockCommentStart)&&(a.fullLines=!0,m.blockComment(e,r,a)));var s=Math.min(0!=r.ch||r.line==e.line?r.line+1:r.line,m.lastLine()+1),d=null==a.padding?" ":a.padding,u=a.commentBlankLines||e.line==r.line;m.operation(function(){if(a.indent){for(var t=null,i=e.line;i<s;++i){var r=m.getLine(i),c=r.slice(0,n(r));(null==t||t.length>c.length)&&(t=c)}for(var i=e.line;i<s;++i){var r=m.getLine(i),f=t.length;(u||l.test(r))&&(r.slice(0,f)!=t&&(f=n(r)),m.replaceRange(t+g+d,o(i,0),o(i,f)))}}else for(var i=e.line;i<s;++i)(u||l.test(m.getLine(i)))&&m.replaceRange(g+d,o(i,0))})}}),e.defineExtension("blockComment",function(e,n,t){t||(t=i);var r=this,a=r.getModeAt(e),m=t.blockCommentStart||a.blockCommentStart,c=t.blockCommentEnd||a.blockCommentEnd;if(!m||!c)return void((t.lineComment||a.lineComment)&&0!=t.fullLines&&r.lineComment(e,n,t));if(!/\bcomment\b/.test(r.getTokenTypeAt(o(e.line,0)))){var f=Math.min(n.line,r.lastLine());f!=e.line&&0==n.ch&&l.test(r.getLine(f))&&--f;var g=null==t.padding?" ":t.padding;e.line>f||r.operation(function(){if(0!=t.fullLines){var i=l.test(r.getLine(f));r.replaceRange(g+c,o(f)),r.replaceRange(m+g,o(e.line,0));var s=t.blockCommentLead||a.blockCommentLead;if(null!=s)for(var d=e.line+1;d<=f;++d)(d!=f||i)&&r.replaceRange(s+g,o(d,0))}else r.replaceRange(c,n),r.replaceRange(m,e)})}}),e.defineExtension("uncomment",function(e,n,t){t||(t=i);var r,a=this,m=a.getModeAt(e),c=Math.min(0!=n.ch||n.line==e.line?n.line:n.line-1,a.lastLine()),f=Math.min(e.line,c),g=t.lineComment||m.lineComment,s=[],d=null==t.padding?" ":t.padding;e:if(g){for(var u=f;u<=c;++u){var h=a.getLine(u),v=h.indexOf(g);if(v>-1&&!/comment/.test(a.getTokenTypeAt(o(u,v+1)))&&(v=-1),v==-1&&l.test(h))break e;if(v>-1&&l.test(h.slice(0,v)))break e;s.push(h)}if(a.operation(function(){for(var e=f;e<=c;++e){var n=s[e-f],t=n.indexOf(g),i=t+g.length;t<0||(n.slice(i,i+d.length)==d&&(i+=d.length),r=!0,a.replaceRange("",o(e,t),o(e,i)))}}),r)return!0}var p=t.blockCommentStart||m.blockCommentStart,C=t.blockCommentEnd||m.blockCommentEnd;if(!p||!C)return!1;var b=t.blockCommentLead||m.blockCommentLead,k=a.getLine(f),L=k.indexOf(p);if(L==-1)return!1;var x=c==f?k:a.getLine(c),R=x.indexOf(C,c==f?L+p.length:0);if(R==-1&&f!=c&&(x=a.getLine(--c),R=x.indexOf(C)),R==-1||!/comment/.test(a.getTokenTypeAt(o(f,L+1)))||!/comment/.test(a.getTokenTypeAt(o(c,R+1))))return!1;var O=k.lastIndexOf(p,e.ch),T=O==-1?-1:k.slice(0,e.ch).indexOf(C,O+p.length);if(O!=-1&&T!=-1&&T+C.length!=e.ch)return!1;T=x.indexOf(C,n.ch);var y=x.slice(n.ch).lastIndexOf(p,T-n.ch);return O=T==-1||y==-1?-1:n.ch+y,(T==-1||O==-1||O==n.ch)&&(a.operation(function(){a.replaceRange("",o(c,R-(d&&x.slice(R-d.length,R)==d?d.length:0)),o(c,R+C.length));var e=L+p.length;if(d&&k.slice(e,e+d.length)==d&&(e+=d.length),a.replaceRange("",o(f,L),o(f,e)),b)for(var n=f+1;n<=c;++n){var t=a.getLine(n),i=t.indexOf(b);if(i!=-1&&!l.test(t.slice(0,i))){var r=i+b.length;d&&t.slice(r,r+d.length)==d&&(r+=d.length),a.replaceRange("",o(n,i),o(n,r))}}}),!0)})})},{"../../lib/codemirror":64}],53:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function o(e,o,n){var t,i=e.getWrapperElement();return t=i.appendChild(document.createElement("div")),n?t.className="CodeMirror-dialog CodeMirror-dialog-bottom":t.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof o?t.innerHTML=o:t.appendChild(o),t}function n(e,o){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=o}e.defineExtension("openDialog",function(t,i,r){function u(e){if("string"==typeof e)s.value=e;else{if(f)return;f=!0,c.parentNode.removeChild(c),a.focus(),r.onClose&&r.onClose(c)}}r||(r={}),n(this,null);var l,c=o(this,t,r.bottom),f=!1,a=this,s=c.getElementsByTagName("input")[0];return s?(s.focus(),r.value&&(s.value=r.value,r.selectValueOnOpen!==!1&&s.select()),r.onInput&&e.on(s,"input",function(e){r.onInput(e,s.value,u)}),r.onKeyUp&&e.on(s,"keyup",function(e){r.onKeyUp(e,s.value,u)}),e.on(s,"keydown",function(o){r&&r.onKeyDown&&r.onKeyDown(o,s.value,u)||((27==o.keyCode||r.closeOnEnter!==!1&&13==o.keyCode)&&(s.blur(),e.e_stop(o),u()),13==o.keyCode&&i(s.value,o))}),r.closeOnBlur!==!1&&e.on(s,"blur",u)):(l=c.getElementsByTagName("button")[0])&&(e.on(l,"click",function(){u(),a.focus()}),r.closeOnBlur!==!1&&e.on(l,"blur",u),l.focus()),u}),e.defineExtension("openConfirm",function(t,i,r){function u(){f||(f=!0,l.parentNode.removeChild(l),a.focus())}n(this,null);var l=o(this,t,r&&r.bottom),c=l.getElementsByTagName("button"),f=!1,a=this,s=1;c[0].focus();for(var d=0;d<c.length;++d){var p=c[d];!function(o){e.on(p,"click",function(n){e.e_preventDefault(n),u(),o&&o(a)})}(i[d]),e.on(p,"blur",function(){--s,setTimeout(function(){s<=0&&u()},200)}),e.on(p,"focus",function(){++s})}}),e.defineExtension("openNotification",function(t,i){function r(){c||(c=!0,clearTimeout(u),l.parentNode.removeChild(l))}n(this,r);var u,l=o(this,t,i&&i.bottom),c=!1,f=i&&"undefined"!=typeof i.duration?i.duration:5e3;return e.on(l,"click",function(o){e.e_preventDefault(o),r()}),f&&(u=setTimeout(r,f)),r})})},{"../../lib/codemirror":64}],54:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:u[t]}function n(e){return function(t){return s(t,e)}}function r(e){var t=e.state.closeBrackets;if(!t||t.override)return t;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function i(n){var i=r(n);if(!i||n.getOption("disableInput"))return e.Pass;for(var a=t(i,"pairs"),o=n.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var c=l(n,o[s].head);if(!c||a.indexOf(c)%2!=0)return e.Pass}for(var s=o.length-1;s>=0;s--){var f=o[s].head;n.replaceRange("",d(f.line,f.ch-1),d(f.line,f.ch+1),"+delete")}}function a(n){var i=r(n),a=i&&t(i,"explode");if(!a||n.getOption("disableInput"))return e.Pass;for(var o=n.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var c=l(n,o[s].head);if(!c||a.indexOf(c)%2!=0)return e.Pass}n.operation(function(){n.replaceSelection("\n\n",null),n.execCommand("goCharLeft"),o=n.listSelections();for(var e=0;e<o.length;e++){var t=o[e].head.line;n.indentLine(t,null,!0),n.indentLine(t+1,null,!0)}})}function o(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new d(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new d(t.head.line,t.head.ch+(n?1:-1))}}function s(n,i){var a=r(n);if(!a||n.getOption("disableInput"))return e.Pass;var s=t(a,"pairs"),l=s.indexOf(i);if(l==-1)return e.Pass;for(var u,g=t(a,"triples"),p=s.charAt(l+1)==i,v=n.listSelections(),m=l%2==0,b=0;b<v.length;b++){var x,C=v[b],k=C.head,P=n.getRange(k,d(k.line,k.ch+1));if(m&&!C.empty())x="surround";else if(!p&&m||P!=i)if(p&&k.ch>1&&g.indexOf(i)>=0&&n.getRange(d(k.line,k.ch-2),k)==i+i&&(k.ch<=2||n.getRange(d(k.line,k.ch-3),d(k.line,k.ch-2))!=i))x="addFour";else if(p){if(e.isWordChar(P)||!f(n,k,i))return e.Pass;x="both"}else{if(!m||n.getLine(k.line).length!=k.ch&&!c(P,s)&&!/\s/.test(P))return e.Pass;x="both"}else x=p&&h(n,k)?"both":g.indexOf(i)>=0&&n.getRange(k,d(k.line,k.ch+3))==i+i+i?"skipThree":"skip";if(u){if(u!=x)return e.Pass}else u=x}var S=l%2?s.charAt(l-1):i,y=l%2?i:s.charAt(l+1);n.operation(function(){if("skip"==u)n.execCommand("goCharRight");else if("skipThree"==u)for(var e=0;e<3;e++)n.execCommand("goCharRight");else if("surround"==u){for(var t=n.getSelections(),e=0;e<t.length;e++)t[e]=S+t[e]+y;n.replaceSelections(t,"around"),t=n.listSelections().slice();for(var e=0;e<t.length;e++)t[e]=o(t[e]);n.setSelections(t)}else"both"==u?(n.replaceSelection(S+y,null),n.triggerElectric(S+y),n.execCommand("goCharLeft")):"addFour"==u&&(n.replaceSelection(S+S+S+S,"before"),n.execCommand("goCharRight"))})}function c(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function l(e,t){var n=e.getRange(d(t.line,t.ch-1),d(t.line,t.ch+1));return 2==n.length?n:null}function f(t,n,r){var i=t.getLine(n.line),a=t.getTokenAt(n);if(/\bstring2?\b/.test(a.type))return!1;var o=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(o.pos=o.start=a.start;;){var s=t.getMode().token(o,a.state);if(o.pos>=n.ch+1)return/\bstring2?\b/.test(s);o.start=o.pos}}function h(e,t){var n=e.getTokenAt(d(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch}var u={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},d=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.removeKeyMap(p),t.state.closeBrackets=null),n&&(t.state.closeBrackets=n,t.addKeyMap(p))});for(var g=u.pairs+"`",p={Backspace:i,Enter:a},v=0;v<g.length;v++)p["'"+g.charAt(v)+"'"]=n(g.charAt(v))})},{"../../lib/codemirror":64}],55:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,i,r){var o=e.getLineHandle(t.line),l=t.ch-1,f=l>=0&&c[o.text.charAt(l)]||c[o.text.charAt(++l)];if(!f)return null;var u=">"==f.charAt(1)?1:-1;if(i&&u>0!=(l==t.ch))return null;var h=e.getTokenTypeAt(a(t.line,l+1)),s=n(e,a(t.line,l+(u>0?1:0)),u,h||null,r);return null==s?null:{from:a(t.line,l),to:s&&s.pos,match:s&&s.ch==f.charAt(0),forward:u>0}}function n(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,f=[],u=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,h=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),s=t.line;s!=h;s+=n){var m=e.getLine(s);if(m){var d=n>0?0:m.length-1,g=n>0?m.length:-1;if(!(m.length>o))for(s==t.line&&(d=t.ch-(n<0?1:0));d!=g;d+=n){var p=m.charAt(d);if(u.test(p)&&(void 0===i||e.getTokenTypeAt(a(s,d+1))==i)){var v=c[p];if(">"==v.charAt(1)==n>0)f.push(p);else{if(!f.length)return{pos:a(s,d),ch:p};f.pop()}}}}}return s-n!=(n>0?e.lastLine():e.firstLine())&&null}function i(e,n,i){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,c=[],l=e.listSelections(),f=0;f<l.length;f++){var u=l[f].empty()&&t(e,l[f].head,!1,i);if(u&&e.getLine(u.from.line).length<=r){var h=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";c.push(e.markText(u.from,a(u.from.line,u.from.ch+1),{className:h})),u.to&&e.getLine(u.to.line).length<=r&&c.push(e.markText(u.to,a(u.to.line,u.to.ch+1),{className:h}))}}if(c.length){o&&e.state.focused&&e.focus();var s=function(){e.operation(function(){for(var e=0;e<c.length;e++)c[e].clear()})};if(!n)return s;setTimeout(s,800)}}function r(e){e.operation(function(){l&&(l(),l=null),l=i(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),a=e.Pos,c={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&(t.off("cursorActivity",r),l&&(l(),l=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",r))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,i){return t(this,e,n,i)}),e.defineExtension("scanForBracket",function(e,t,i,r){return n(this,e,t,i,r)})})},{"../../lib/codemirror":64}],56:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(r,n){function t(t){for(var f=n.ch,s=0;;){var u=f<=0?-1:l.lastIndexOf(t,f-1);if(u!=-1){if(1==s&&u<n.ch)break;if(i=r.getTokenTypeAt(e.Pos(o,u+1)),!/^(comment|string)/.test(i))return u+1;f=u-1}else{if(1==s)break;s=1,f=l.length}}}var i,o=n.line,l=r.getLine(o),f="{",s="}",u=t("{");if(null==u&&(f="[",s="]",u=t("[")),null!=u){var a,d,c=1,g=r.lastLine();e:for(var v=o;v<=g;++v)for(var p=r.getLine(v),m=v==o?u:0;;){var P=p.indexOf(f,m),k=p.indexOf(s,m);if(P<0&&(P=p.length),k<0&&(k=p.length),m=Math.min(P,k),m==p.length)break;if(r.getTokenTypeAt(e.Pos(v,m+1))==i)if(m==P)++c;else if(!--c){a=v,d=m;break e}++m}if(null!=a&&(o!=a||d!=u))return{from:e.Pos(o,u),to:e.Pos(a,d)}}}),e.registerHelper("fold","import",function(r,n){function t(n){if(n<r.firstLine()||n>r.lastLine())return null;var t=r.getTokenAt(e.Pos(n,1));if(/\S/.test(t.string)||(t=r.getTokenAt(e.Pos(n,t.end+1))),"keyword"!=t.type||"import"!=t.string)return null;for(var i=n,o=Math.min(r.lastLine(),n+10);i<=o;++i){var l=r.getLine(i),f=l.indexOf(";");if(f!=-1)return{startCh:t.end,end:e.Pos(i,f)}}}var i,o=n.line,l=t(o);if(!l||t(o-1)||(i=t(o-2))&&i.end.line==o-1)return null;for(var f=l.end;;){var s=t(f.line+1);if(null==s)break;f=s.end}return{from:r.clipPos(e.Pos(o,l.startCh+1)),to:f}}),e.registerHelper("fold","include",function(r,n){function t(n){if(n<r.firstLine()||n>r.lastLine())return null;var t=r.getTokenAt(e.Pos(n,1));return/\S/.test(t.string)||(t=r.getTokenAt(e.Pos(n,t.end+1))),"meta"==t.type&&"#include"==t.string.slice(0,8)?t.start+8:void 0}var i=n.line,o=t(i);if(null==o||null!=t(i-1))return null;for(var l=i;;){var f=t(l+1);if(null==f)break;++l}return{from:e.Pos(i,o+1),to:r.clipPos(e.Pos(l))}})})},{"../../lib/codemirror":64}],57:[function(require,module,exports){!function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function o(o,i,t,l){function f(n){var e=d(o,i);if(!e||e.to.line-e.from.line<u)return null;for(var r=o.findMarksAt(e.from),t=0;t<r.length;++t)if(r[t].__isFold&&"fold"!==l){if(!n)return null;e.cleared=!0,r[t].clear()}return e}if(t&&t.call){var d=t;t=null}else var d=r(o,t,"rangeFinder");"number"==typeof i&&(i=n.Pos(i,0));var u=r(o,t,"minFoldSize"),a=f(!0);if(r(o,t,"scanUp"))for(;!a&&i.line>o.firstLine();)i=n.Pos(i.line-1,0),a=f(!1);if(a&&!a.cleared&&"unfold"!==l){var c=e(o,t);n.on(c,"mousedown",function(o){s.clear(),n.e_preventDefault(o)});var s=o.markText(a.from,a.to,{replacedWith:c,clearOnEnter:r(o,t,"clearOnEnter"),__isFold:!0});s.on("clear",function(e,r){n.signal(o,"unfold",o,e,r)}),n.signal(o,"fold",o,a.from,a.to)}}function e(n,o){var e=r(n,o,"widget");if("string"==typeof e){var i=document.createTextNode(e);e=document.createElement("span"),e.appendChild(i),e.className="CodeMirror-foldmarker"}return e}function r(n,o,e){if(o&&void 0!==o[e])return o[e];var r=n.options.foldOptions;return r&&void 0!==r[e]?r[e]:i[e]}n.newFoldFunction=function(n,e){return function(r,i){o(r,i,{rangeFinder:n,widget:e})}},n.defineExtension("foldCode",function(n,e,r){o(this,n,e,r)}),n.defineExtension("isFolded",function(n){for(var o=this.findMarksAt(n),e=0;e<o.length;++e)if(o[e].__isFold)return!0}),n.commands.toggleFold=function(n){n.foldCode(n.getCursor())},n.commands.fold=function(n){n.foldCode(n.getCursor(),null,"fold")},n.commands.unfold=function(n){n.foldCode(n.getCursor(),null,"unfold")},n.commands.foldAll=function(o){o.operation(function(){for(var e=o.firstLine(),r=o.lastLine();e<=r;e++)o.foldCode(n.Pos(e,0),null,"fold")})},n.commands.unfoldAll=function(o){o.operation(function(){for(var e=o.firstLine(),r=o.lastLine();e<=r;e++)o.foldCode(n.Pos(e,0),null,"unfold")})},n.registerHelper("fold","combine",function(){var n=Array.prototype.slice.call(arguments,0);return function(o,e){for(var r=0;r<n.length;++r){var i=n[r](o,e);if(i)return i}}}),n.registerHelper("fold","auto",function(n,o){for(var e=n.getHelpers(o,"fold"),r=0;r<e.length;r++){var i=e[r](n,o);if(i)return i}});var i={rangeFinder:n.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};n.defineOption("foldOptions",null),n.defineExtension("foldOption",function(n,o){return r(this,n,o)})})},{"../../lib/codemirror":64}],58:[function(require,module,exports){!function(o){"object"==typeof exports&&"object"==typeof module?o(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],o):o(CodeMirror)}(function(o){"use strict";function t(o){this.options=o,this.from=this.to=0}function e(o){return o===!0&&(o={}),null==o.gutter&&(o.gutter="CodeMirror-foldgutter"),null==o.indicatorOpen&&(o.indicatorOpen="CodeMirror-foldgutter-open"),null==o.indicatorFolded&&(o.indicatorFolded="CodeMirror-foldgutter-folded"),o}function r(o,t){for(var e=o.findMarks(c(t,0),c(t+1,0)),r=0;r<e.length;++r)if(e[r].__isFold&&e[r].find().from.line==t)return e[r]}function n(o){if("string"==typeof o){var t=document.createElement("div");return t.className=o+" CodeMirror-guttermarker-subtle",t}return o.cloneNode(!0)}function i(o,t,e){var i=o.state.foldGutter.options,f=t,d=o.foldOption(i,"minFoldSize"),a=o.foldOption(i,"rangeFinder");o.eachLine(t,e,function(t){var e=null;if(r(o,f))e=n(i.indicatorFolded);else{var u=c(f,0),l=a&&a(o,u);l&&l.to.line-l.from.line>=d&&(e=n(i.indicatorOpen))}o.setGutterMarker(t,i.gutter,e),++f})}function f(o){var t=o.getViewport(),e=o.state.foldGutter;e&&(o.operation(function(){i(o,t.from,t.to)}),e.from=t.from,e.to=t.to)}function d(o,t,e){var n=o.state.foldGutter;if(n){var i=n.options;if(e==i.gutter){var f=r(o,t);f?f.clear():o.foldCode(c(t,0),i.rangeFinder)}}}function a(o){var t=o.state.foldGutter;if(t){var e=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){f(o)},e.foldOnChangeTimeSpan||600)}}function u(o){var t=o.state.foldGutter;if(t){var e=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var e=o.getViewport();t.from==t.to||e.from-t.to>20||t.from-e.to>20?f(o):o.operation(function(){e.from<t.from&&(i(o,e.from,t.from),t.from=e.from),e.to>t.to&&(i(o,t.to,e.to),t.to=e.to)})},e.updateViewportTimeSpan||400)}}function l(o,t){var e=o.state.foldGutter;if(e){var r=t.line;r>=e.from&&r<e.to&&i(o,r,r+1)}}o.defineOption("foldGutter",!1,function(r,n,i){i&&i!=o.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",d),r.off("change",a),r.off("viewportChange",u),r.off("fold",l),r.off("unfold",l),r.off("swapDoc",a)),n&&(r.state.foldGutter=new t(e(n)),f(r),r.on("gutterClick",d),r.on("change",a),r.on("viewportChange",u),r.on("fold",l),r.on("unfold",l),r.on("swapDoc",a))});var c=o.Pos})},{"../../lib/codemirror":64,"./foldcode":57}],59:[function(require,module,exports){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function i(t,i){this.cm=t,this.options=i,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var e=this;t.on("cursorActivity",this.activityFunc=function(){e.cursorActivity()})}function e(i,e){var n=t.cmpPos(e.from,i.from);return n>0&&i.to.ch-i.from.ch!=e.to.ch-e.from.ch}function n(t,i,e){var n=t.options.hintOptions,o={};for(var s in m)o[s]=m[s];if(n)for(var s in n)void 0!==n[s]&&(o[s]=n[s]);if(e)for(var s in e)void 0!==e[s]&&(o[s]=e[s]);return o.hint.resolve&&(o.hint=o.hint.resolve(t,i)),o}function o(t){return"string"==typeof t?t:t.text}function s(t,i){function e(t,e){var o;o="string"!=typeof e?function(t){return e(t,i)}:n.hasOwnProperty(e)?n[e]:e,s[t]=o}var n={Up:function(){i.moveFocus(-1)},Down:function(){i.moveFocus(1)},PageUp:function(){i.moveFocus(-i.menuSize()+1,!0)},PageDown:function(){i.moveFocus(i.menuSize()-1,!0)},Home:function(){i.setFocus(0)},End:function(){i.setFocus(i.length-1)},Enter:i.pick,Tab:i.pick,Esc:i.close},o=t.options.customKeys,s=o?{}:n;if(o)for(var c in o)o.hasOwnProperty(c)&&e(c,o[c]);var r=t.options.extraKeys;if(r)for(var c in r)r.hasOwnProperty(c)&&e(c,r[c]);return s}function c(t,i){for(;i&&i!=t;){if("LI"===i.nodeName.toUpperCase()&&i.parentNode==t)return i;i=i.parentNode}}function r(i,e){this.completion=i,this.data=e,this.picked=!1;var n=this,r=i.cm,h=this.hints=document.createElement("ul");h.className="CodeMirror-hints",this.selectedHint=e.selectedHint||0;for(var l=e.list,a=0;a<l.length;++a){var d=h.appendChild(document.createElement("li")),p=l[a],m=u+(a!=this.selectedHint?"":" "+f);null!=p.className&&(m=p.className+" "+m),d.className=m,p.render?p.render(d,e,p):d.appendChild(document.createTextNode(p.displayText||o(p))),d.hintId=a}var g=r.cursorCoords(i.options.alignWithWord?e.from:null),v=g.left,y=g.bottom,w=!0;h.style.left=v+"px",h.style.top=y+"px";var H=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),k=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(i.options.container||document.body).appendChild(h);var C=h.getBoundingClientRect(),b=C.bottom-k,x=h.scrollHeight>h.clientHeight+1,A=r.getScrollInfo();if(b>0){var S=C.bottom-C.top,T=g.top-(g.bottom-C.top);if(T-S>0)h.style.top=(y=g.top-S)+"px",w=!1;else if(S>k){h.style.height=k-5+"px",h.style.top=(y=g.bottom-C.top)+"px";var M=r.getCursor();e.from.ch!=M.ch&&(g=r.cursorCoords(M),h.style.left=(v=g.left)+"px",C=h.getBoundingClientRect())}}var F=C.right-H;if(F>0&&(C.right-C.left>H&&(h.style.width=H-5+"px",F-=C.right-C.left-H),h.style.left=(v=g.left-F)+"px"),x)for(var N=h.firstChild;N;N=N.nextSibling)N.style.paddingRight=r.display.nativeBarWidth+"px";if(r.addKeyMap(this.keyMap=s(i,{moveFocus:function(t,i){n.changeActive(n.selectedHint+t,i)},setFocus:function(t){n.changeActive(t)},menuSize:function(){return n.screenAmount()},length:l.length,close:function(){i.close()},pick:function(){n.pick()},data:e})),i.options.closeOnUnfocus){var E;r.on("blur",this.onBlur=function(){E=setTimeout(function(){i.close()},100)}),r.on("focus",this.onFocus=function(){clearTimeout(E)})}return r.on("scroll",this.onScroll=function(){var t=r.getScrollInfo(),e=r.getWrapperElement().getBoundingClientRect(),n=y+A.top-t.top,o=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return w||(o+=h.offsetHeight),o<=e.top||o>=e.bottom?i.close():(h.style.top=n+"px",void(h.style.left=v+A.left-t.left+"px"))}),t.on(h,"dblclick",function(t){var i=c(h,t.target||t.srcElement);i&&null!=i.hintId&&(n.changeActive(i.hintId),n.pick())}),t.on(h,"click",function(t){var e=c(h,t.target||t.srcElement);e&&null!=e.hintId&&(n.changeActive(e.hintId),i.options.completeOnSingleClick&&n.pick())}),t.on(h,"mousedown",function(){setTimeout(function(){r.focus()},20)}),t.signal(e,"select",l[0],h.firstChild),!0}function h(t,i){if(!t.somethingSelected())return i;for(var e=[],n=0;n<i.length;n++)i[n].supportsSelection&&e.push(i[n]);return e}function l(t,i,e,n){if(t.async)t(i,n,e);else{var o=t(i,e);o&&o.then?o.then(n):n(o)}}function a(i,e){var n,o=i.getHelpers(e,"hint");if(o.length){var s=function(t,i,e){function n(o){return o==s.length?i(null):void l(s[o],t,e,function(t){t&&t.list.length>0?i(t):n(o+1)})}var s=h(t,o);n(0)};return s.async=!0,s.supportsSelection=!0,s}return(n=i.getHelper(i.getCursor(),"hintWords"))?function(i){return t.hint.fromList(i,{words:n})}:t.hint.anyword?function(i,e){return t.hint.anyword(i,e)}:function(){}}var u="CodeMirror-hint",f="CodeMirror-hint-active";t.showHint=function(t,i,e){if(!i)return t.showHint(e);e&&e.async&&(i.async=!0);var n={hint:i};if(e)for(var o in e)n[o]=e[o];return t.showHint(n)},t.defineExtension("showHint",function(e){e=n(this,this.getCursor("start"),e);var o=this.listSelections();if(!(o.length>1)){if(this.somethingSelected()){if(!e.hint.supportsSelection)return;for(var s=0;s<o.length;s++)if(o[s].head.line!=o[s].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var c=this.state.completionActive=new i(this,e);c.options.hint&&(t.signal(this,"startCompletion",this),c.update(!0))}});var d=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;i.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(i,e){var n=i.list[e];n.hint?n.hint(this.cm,i,n):this.cm.replaceRange(o(n),n.from||i.from,n.to||i.to,"complete"),t.signal(i,"pick",n),this.close()},cursorActivity:function(){this.debounce&&(p(this.debounce),this.debounce=0);var t=this.cm.getCursor(),i=this.cm.getLine(t.line);if(t.line!=this.startPos.line||i.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(i.charAt(t.ch-1)))this.close();else{var e=this;this.debounce=d(function(){e.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var i=this,e=++this.tick;l(this.options.hint,this.cm,this.options,function(n){i.tick==e&&i.finishUpdate(n,t)})}},finishUpdate:function(i,n){this.data&&t.signal(this.data,"update");var o=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),i&&this.data&&e(this.data,i)||(this.data=i,i&&i.list.length&&(o&&1==i.list.length?this.pick(i,0):(this.widget=new r(this,i),t.signal(i,"shown"))))}},r.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap);
},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,e){if(i>=this.data.list.length?i=e?this.data.list.length-1:0:i<0&&(i=e?0:this.data.list.length-1),this.selectedHint!=i){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+f,""),n=this.hints.childNodes[this.selectedHint=i],n.className+=" "+f,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:a}),t.registerHelper("hint","fromList",function(i,e){var n=i.getCursor(),o=i.getTokenAt(n),s=t.Pos(n.line,o.end);if(o.string&&/\w/.test(o.string[o.string.length-1]))var c=o.string,r=t.Pos(n.line,o.start);else var c="",r=s;for(var h=[],l=0;l<e.words.length;l++){var a=e.words[l];a.slice(0,c.length)==c&&h.push(a)}if(h.length)return{list:h,from:r,to:s}}),t.commands.autocomplete=t.showHint;var m={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)})},{"../../lib/codemirror":64}],60:[function(require,module,exports){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(e,n){function o(e){return r.parentNode?(r.style.top=Math.max(0,e.clientY-r.offsetHeight-5)+"px",void(r.style.left=e.clientX+5+"px")):t.off(document,"mousemove",o)}var r=document.createElement("div");return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),t.on(document,"mousemove",o),o(e),null!=r.style.opacity&&(r.style.opacity=1),r}function n(t){t.parentNode&&t.parentNode.removeChild(t)}function o(t){t.parentNode&&(null==t.style.opacity&&n(t),t.style.opacity=0,setTimeout(function(){n(t)},600))}function r(n,r,i){function a(){t.off(i,"mouseout",a),l&&(o(l),l=null)}var l=e(n,r),s=setInterval(function(){if(l)for(var t=i;;t=t.parentNode){if(t&&11==t.nodeType&&(t=t.host),t==document.body)return;if(!t){a();break}}if(!l)return clearInterval(s)},400);t.on(i,"mouseout",a)}function i(t,e,n){this.marked=[],this.options=e,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(e){g(t,e)},this.waitingFor=0}function a(t,e){return e instanceof Function?{getAnnotations:e}:(e&&e!==!0||(e={}),e)}function l(t){var e=t.state.lint;e.hasGutter&&t.clearGutter(y);for(var n=0;n<e.marked.length;++n)e.marked[n].clear();e.marked.length=0}function s(e,n,o,i){var a=document.createElement("div"),l=a;return a.className="CodeMirror-lint-marker-"+n,o&&(l=a.appendChild(document.createElement("div")),l.className="CodeMirror-lint-marker-multiple"),0!=i&&t.on(l,"mouseover",function(t){r(t,e,l)}),a}function u(t,e){return"error"==t?t:e}function c(t){for(var e=[],n=0;n<t.length;++n){var o=t[n],r=o.from.line;(e[r]||(e[r]=[])).push(o)}return e}function f(t){var e=t.severity;e||(e="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+e,n.appendChild(document.createTextNode(t.message)),n}function m(e,n,o){function r(){a=-1,e.off("change",r)}var i=e.state.lint,a=++i.waitingFor;e.on("change",r),n(e.getValue(),function(n,o){e.off("change",r),i.waitingFor==a&&(o&&n instanceof t&&(n=o),p(e,n))},o,e)}function d(e){var n=e.state.lint,o=n.options,r=o.options||o,i=o.getAnnotations||e.getHelper(t.Pos(0,0),"lint");i&&(o.async||i.async?m(e,i,r):p(e,i(e.getValue(),r,e)))}function p(t,e){l(t);for(var n=t.state.lint,o=n.options,r=c(e),i=0;i<r.length;++i){var a=r[i];if(a){for(var m=null,d=n.hasGutter&&document.createDocumentFragment(),p=0;p<a.length;++p){var h=a[p],v=h.severity;v||(v="error"),m=u(m,v),o.formatAnnotation&&(h=o.formatAnnotation(h)),n.hasGutter&&d.appendChild(f(h)),h.to&&n.marked.push(t.markText(h.from,h.to,{className:"CodeMirror-lint-mark-"+v,__annotation:h}))}n.hasGutter&&t.setGutterMarker(i,y,s(d,m,a.length>1,n.options.tooltips))}}o.onUpdateLinting&&o.onUpdateLinting(e,r,t)}function h(t){var e=t.state.lint;e&&(clearTimeout(e.timeout),e.timeout=setTimeout(function(){d(t)},e.options.delay||500))}function v(t,e){for(var n=e.target||e.srcElement,o=document.createDocumentFragment(),i=0;i<t.length;i++){var a=t[i];o.appendChild(f(a))}r(e,o,n)}function g(t,e){var n=e.target||e.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var o=n.getBoundingClientRect(),r=(o.left+o.right)/2,i=(o.top+o.bottom)/2,a=t.findMarksAt(t.coordsChar({left:r,top:i},"client")),l=[],s=0;s<a.length;++s){var u=a[s].__annotation;u&&l.push(u)}l.length&&v(l,e)}}var y="CodeMirror-lint-markers";t.defineOption("lint",!1,function(e,n,o){if(o&&o!=t.Init&&(l(e),e.state.lint.options.lintOnChange!==!1&&e.off("change",h),t.off(e.getWrapperElement(),"mouseover",e.state.lint.onMouseOver),clearTimeout(e.state.lint.timeout),delete e.state.lint),n){for(var r=e.getOption("gutters"),s=!1,u=0;u<r.length;++u)r[u]==y&&(s=!0);var c=e.state.lint=new i(e,a(e,n),s);c.options.lintOnChange!==!1&&e.on("change",h),0!=c.options.tooltips&&"gutter"!=c.options.tooltips&&t.on(e.getWrapperElement(),"mouseover",c.onMouseOver),d(e)}}),t.defineExtension("performLint",function(){this.state.lint&&d(this)})})},{"../../lib/codemirror":64}],61:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function o(e,o){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),o?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(o){e.lastIndex=o.pos;var n=e.exec(o.string);return n&&n.index==o.pos?(o.pos+=n[0].length||1,"searching"):void(n?o.pos=n.index:o.skipToEnd())}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function t(e){return e.state.search||(e.state.search=new n)}function r(e){return"string"==typeof e&&e==e.toLowerCase()}function i(e,o,n){return e.getSearchCursor(o,n,r(o))}function a(e,o,n,t,r){e.openDialog(o,t,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){y(e)},onKeyDown:r})}function s(e,o,n,t,r){e.openDialog?e.openDialog(o,r,{value:t,selectValueOnOpen:!0}):r(prompt(n,t))}function c(e,o,n,t){e.openConfirm?e.openConfirm(o,t):confirm(n)&&t[0]()}function u(e){return e.replace(/\\(.)/g,function(e,o){return"n"==o?"\n":"r"==o?"\r":o})}function l(e){var o=e.match(/^\/(.*)\/([a-z]*)$/);if(o)try{e=new RegExp(o[1],o[2].indexOf("i")==-1?"":"i")}catch(e){}else e=u(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function f(e,n,t){n.queryText=t,n.query=l(t),e.removeOverlay(n.overlay,r(n.query)),n.overlay=o(n.query,r(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,r(n.query)))}function p(o,n,r,i){var c=t(o);if(c.query)return d(o,n);var u=o.getSelection()||c.lastQuery;if(r&&o.openDialog){var l=null,p=function(n,t){e.e_stop(t),n&&(n!=c.queryText&&(f(o,c,n),c.posFrom=c.posTo=o.getCursor()),l&&(l.style.opacity=1),d(o,t.shiftKey,function(e,n){var t;n.line<3&&document.querySelector&&(t=o.display.wrapper.querySelector(".CodeMirror-dialog"))&&t.getBoundingClientRect().bottom-4>o.cursorCoords(n,"window").top&&((l=t).style.opacity=.4)}))};a(o,h,u,p,function(n,r){var i=e.keyName(n),a=e.keyMap[o.getOption("keyMap")][i];a||(a=o.getOption("extraKeys")[i]),"findNext"==a||"findPrev"==a||"findPersistentNext"==a||"findPersistentPrev"==a?(e.e_stop(n),f(o,t(o),r),o.execCommand(a)):"find"!=a&&"findPersistent"!=a||(e.e_stop(n),p(r,n))}),i&&u&&(f(o,c,u),d(o,n))}else s(o,h,"Search for:",u,function(e){e&&!c.query&&o.operation(function(){f(o,c,e),c.posFrom=c.posTo=o.getCursor(),d(o,n)})})}function d(o,n,r){o.operation(function(){var a=t(o),s=i(o,a.query,n?a.posFrom:a.posTo);(s.find(n)||(s=i(o,a.query,n?e.Pos(o.lastLine()):e.Pos(o.firstLine(),0)),s.find(n)))&&(o.setSelection(s.from(),s.to()),o.scrollIntoView({from:s.from(),to:s.to()},20),a.posFrom=s.from(),a.posTo=s.to(),r&&r(s.from(),s.to()))})}function y(e){e.operation(function(){var o=t(e);o.lastQuery=o.query,o.query&&(o.query=o.queryText=null,e.removeOverlay(o.overlay),o.annotate&&(o.annotate.clear(),o.annotate=null))})}function m(e,o,n){e.operation(function(){for(var t=i(e,o);t.findNext();)if("string"!=typeof o){var r=e.getRange(t.from(),t.to()).match(o);t.replace(n.replace(/\$(\d)/g,function(e,o){return r[o]}))}else t.replace(n)})}function g(e,o){if(!e.getOption("readOnly")){var n=e.getSelection()||t(e).lastQuery,r=o?"Replace all:":"Replace:";s(e,r+v,r,n,function(n){n&&(n=l(n),s(e,x,"Replace with:","",function(t){if(t=u(t),o)m(e,n,t);else{y(e);var r=i(e,n,e.getCursor("from")),a=function(){var o,u=r.from();!(o=r.findNext())&&(r=i(e,n),!(o=r.findNext())||u&&r.from().line==u.line&&r.from().ch==u.ch)||(e.setSelection(r.from(),r.to()),e.scrollIntoView({from:r.from(),to:r.to()}),c(e,q,"Replace?",[function(){s(o)},a,function(){m(e,n,t)}]))},s=function(e){r.replace("string"==typeof n?t:t.replace(/\$(\d)/g,function(o,n){return e[n]})),a()};a()}}))})}}var h='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',v=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',x='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',q="Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>";e.commands.find=function(e){y(e),p(e)},e.commands.findPersistent=function(e){y(e),p(e,!1,!0)},e.commands.findPersistentNext=function(e){p(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){p(e,!0,!0,!0)},e.commands.findNext=p,e.commands.findPrev=function(e){p(e,!0)},e.commands.clearSearch=y,e.commands.replace=g,e.commands.replaceAll=function(e){g(e,!0)}})},{"../../lib/codemirror":64,"../dialog/dialog":53,"./searchcursor":62}],62:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,r,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),r=r?e.clipPos(r):i(0,0),this.pos={from:r,to:r},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,r){if(n){t.lastIndex=0;for(var o,s,l=e.getLine(r.line).slice(0,r.ch),f=0;;){t.lastIndex=f;var h=t.exec(l);if(!h)break;if(o=h,s=o.index,f=o.index+(o[0].length||1),f==l.length)break}var c=o&&o[0].length||0;c||(0==s&&0==l.length?o=void 0:s!=e.getLine(r.line).length&&c++)}else{t.lastIndex=r.ch;var l=e.getLine(r.line),o=t.exec(l),c=o&&o[0].length||0,s=o&&o.index;s+c==l.length||c||(c=1)}if(o&&c)return{from:i(r.line,s),to:i(r.line,s+c),match:o}};else{var s=t;o&&(t=t.toLowerCase());var l=o?function(e){return e.toLowerCase()}:function(e){return e},f=t.split("\n");if(1==f.length)t.length?this.matches=function(r,o){if(r){var f=e.getLine(o.line).slice(0,o.ch),h=l(f),c=h.lastIndexOf(t);if(c>-1)return c=n(f,h,c),{from:i(o.line,c),to:i(o.line,c+s.length)}}else{var f=e.getLine(o.line).slice(o.ch),h=l(f),c=h.indexOf(t);if(c>-1)return c=n(f,h,c)+o.ch,{from:i(o.line,c),to:i(o.line,c+s.length)}}}:this.matches=function(){};else{var h=s.split("\n");this.matches=function(t,n){var r=f.length-1;if(t){if(n.line-(f.length-1)<e.firstLine())return;if(l(e.getLine(n.line).slice(0,h[r].length))!=f[f.length-1])return;for(var o=i(n.line,h[r].length),s=n.line-1,c=r-1;c>=1;--c,--s)if(f[c]!=l(e.getLine(s)))return;var u=e.getLine(s),a=u.length-h[0].length;if(l(u.slice(a))!=f[0])return;return{from:i(s,a),to:o}}if(!(n.line+(f.length-1)>e.lastLine())){var u=e.getLine(n.line),a=u.length-h[0].length;if(l(u.slice(a))==f[0]){for(var g=i(n.line,a),s=n.line+1,c=1;c<r;++c,++s)if(f[c]!=l(e.getLine(s)))return;if(l(e.getLine(s).slice(0,h[r].length))==f[r])return{from:g,to:i(s,h[r].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var i=Math.min(n,e.length);;){var r=e.slice(0,i).toLowerCase().length;if(r<n)++i;else{if(!(r>n))return i;--i}}}var i=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=i(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return t(0);r=i(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return t(o);r=i(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=i(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,i){return new t(this.doc,e,n,i)}),e.defineDocExtension("getSearchCursor",function(e,n,i){return new t(this,e,n,i)}),e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})})},{"../../lib/codemirror":64}],63:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){if(r<0&&0==n.ch)return t.clipPos(h(n.line-1));var o=t.getLine(n.line);if(r>0&&n.ch>=o.length)return t.clipPos(h(n.line+1,0));for(var i,a="start",l=n.ch,s=r<0?0:o.length,c=0;l!=s;l+=r,c++){var f=o.charAt(r<0?l-1:l),u="_"!=f&&e.isWordChar(f)?"w":"o";if("w"==u&&f.toUpperCase()==f&&(u="W"),"start"==a)"o"!=u&&(a="in",i=u);else if("in"==a&&i!=u){if("w"==i&&"W"==u&&r<0&&l--,"W"==i&&"w"==u&&r>0){i="w";continue}break}}return h(n.line,l)}function n(e,n){e.extendSelectionsBy(function(r){return e.display.shift||e.doc.extend||r.empty()?t(e.doc,r.head,n):n<0?r.from():r.to()})}function r(t,n){return t.isReadOnly()?e.Pass:(t.operation(function(){for(var e=t.listSelections().length,r=[],o=-1,i=0;i<e;i++){var a=t.listSelections()[i].head;if(!(a.line<=o)){var l=h(a.line+(n?0:1),0);t.replaceRange("\n",l,null,"+insertLine"),t.indentLine(l.line,null,!0),r.push({head:l,anchor:l}),o=a.line+1}}t.setSelections(r)}),void t.execCommand("indentAuto"))}function o(t,n){for(var r=n.ch,o=r,i=t.getLine(n.line);r&&e.isWordChar(i.charAt(r-1));)--r;for(;o<i.length&&e.isWordChar(i.charAt(o));)++o;return{from:h(n.line,r),to:h(n.line,o),word:i.slice(r,o)}}function i(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var o=t[r],i=o.head,a=e.scanForBracket(i,-1);if(!a)return!1;for(;;){var l=e.scanForBracket(i,1);if(!l)return!1;if(l.ch==v.charAt(v.indexOf(a.ch)+1)){n.push({anchor:h(a.pos.line,a.pos.ch+1),head:l.pos});break}i=h(l.pos.line,l.pos.ch+1)}}return e.setSelections(n),!0}function a(t,n){if(t.isReadOnly())return e.Pass;for(var r,o=t.listSelections(),i=[],a=0;a<o.length;a++){var l=o[a];if(!l.empty()){for(var s=l.from().line,c=l.to().line;a<o.length-1&&o[a+1].from().line==c;)c=o[++a].to().line;o[a].to().ch||c--,i.push(s,c)}}i.length?r=!0:i.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var e=[],o=0;o<i.length;o+=2){var a=i[o],l=i[o+1],s=h(a,0),c=h(l),f=t.getRange(s,c,!1);n?f.sort():f.sort(function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-1:e==t?0:1}),t.replaceRange(f,s,c),r&&e.push({anchor:s,head:h(l+1,0)})}r&&t.setSelections(e,0)})}function l(t,n){t.operation(function(){for(var r=t.listSelections(),i=[],a=[],l=0;l<r.length;l++){var s=r[l];s.empty()?(i.push(l),a.push("")):a.push(n(t.getRange(s.from(),s.to())))}t.replaceSelections(a,"around","case");for(var c,l=i.length-1;l>=0;l--){var s=r[i[l]];if(!(c&&e.cmpPos(s.head,c)>0)){var f=o(t,s.head);c=f.from,t.replaceRange(n(f.word),f.from,f.to)}}})}function s(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var i=o(t,n);if(!i.word)return;n=i.from,r=i.to}return{from:n,to:r,query:t.getRange(n,r),word:i}}function c(e,t){var n=s(e);if(n){var r=n.query,o=e.getSearchCursor(r,t?n.to:n.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(r,t?h(e.firstLine(),0):e.clipPos(h(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):n.word&&e.setSelection(n.from,n.to))}}var f=e.keyMap.sublime={fallthrough:"default"},u=e.commands,h=e.Pos,d=e.keyMap.default==e.keyMap.macDefault,p=d?"Cmd-":"Ctrl-",m=d?"Ctrl-":"Alt-";u[f[m+"Left"]="goSubwordLeft"]=function(e){n(e,-1)},u[f[m+"Right"]="goSubwordRight"]=function(e){n(e,1)},d&&(f["Cmd-Left"]="goLineStartSmart");var g=d?"Ctrl-Alt-":"Ctrl-";u[f[g+"Up"]="scrollLineUp"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},u[f[g+"Down"]="scrollLineDown"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},u[f["Shift-"+p+"L"]="splitSelectionByLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)for(var o=t[r].from(),i=t[r].to(),a=o.line;a<=i.line;++a)i.line>o.line&&a==i.line&&0==i.ch||n.push({anchor:a==o.line?o:h(a,0),head:a==i.line?i:h(a)});e.setSelections(n,0)},f["Shift-Tab"]="indentLess",u[f.Esc="singleSelectionTop"]=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},u[f[p+"L"]="selectLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var o=t[r];n.push({anchor:h(o.from().line,0),head:h(o.to().line+1,0)})}e.setSelections(n)},f["Shift-Ctrl-K"]="deleteLine",u[f[p+"Enter"]="insertLineAfter"]=function(e){return r(e,!1)},u[f["Shift-"+p+"Enter"]="insertLineBefore"]=function(e){return r(e,!0)},u[f[p+"D"]="selectNextOccurrence"]=function(t){var n=t.getCursor("from"),r=t.getCursor("to"),i=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,r)){var a=o(t,n);if(!a.word)return;t.setSelection(a.from,a.to),i=!0}else{var l=t.getRange(n,r),s=i?new RegExp("\\b"+l+"\\b"):l,c=t.getSearchCursor(s,r);c.findNext()?t.addSelection(c.from(),c.to()):(c=t.getSearchCursor(s,h(t.firstLine(),0)),c.findNext()&&t.addSelection(c.from(),c.to()))}i&&(t.state.sublimeFindFullWord=t.doc.sel)};var v="(){}[]";u[f["Shift-"+p+"Space"]="selectScope"]=function(e){i(e)||e.execCommand("selectAll")},u[f["Shift-"+p+"M"]="selectBetweenBrackets"]=function(t){if(!i(t))return e.Pass},u[f[p+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(n){var r=t.scanForBracket(n.head,1);if(r&&0!=e.cmpPos(r.pos,n.head))return r.pos;var o=t.scanForBracket(n.head,-1);return o&&h(o.pos.line,o.pos.ch+1)||n.head})};var S=d?"Cmd-Ctrl-":"Shift-Ctrl-";u[f[S+"Up"]="swapLineUp"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),r=[],o=t.firstLine()-1,i=[],a=0;a<n.length;a++){var l=n[a],s=l.from().line-1,c=l.to().line;i.push({anchor:h(l.anchor.line-1,l.anchor.ch),head:h(l.head.line-1,l.head.ch)}),0!=l.to().ch||l.empty()||--c,s>o?r.push(s,c):r.length&&(r[r.length-1]=c),o=c}t.operation(function(){for(var e=0;e<r.length;e+=2){var n=r[e],o=r[e+1],a=t.getLine(n);t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+a,h(t.lastLine()),null,"+swapLine"):t.replaceRange(a+"\n",h(o,0),null,"+swapLine")}t.setSelections(i),t.scrollIntoView()})},u[f[S+"Down"]="swapLineDown"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),r=[],o=t.lastLine()+1,i=n.length-1;i>=0;i--){var a=n[i],l=a.to().line+1,s=a.from().line;0!=a.to().ch||a.empty()||l--,l<o?r.push(l,s):r.length&&(r[r.length-1]=s),o=s}t.operation(function(){for(var e=r.length-2;e>=0;e-=2){var n=r[e],o=r[e+1],i=t.getLine(n);n==t.lastLine()?t.replaceRange("",h(n-1),h(n),"+swapLine"):t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),t.replaceRange(i+"\n",h(o,0),null,"+swapLine")}t.scrollIntoView()})},u[f[p+"/"]="toggleCommentIndented"]=function(e){e.toggleComment({indent:!0})},u[f[p+"J"]="joinLines"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){for(var o=t[r],i=o.from(),a=i.line,l=o.to().line;r<t.length-1&&t[r+1].from().line==l;)l=t[++r].to().line;n.push({start:a,end:l,anchor:!o.empty()&&i})}e.operation(function(){for(var t=0,r=[],o=0;o<n.length;o++){for(var i,a=n[o],l=a.anchor&&h(a.anchor.line-t,a.anchor.ch),s=a.start;s<=a.end;s++){var c=s-t;s==a.end&&(i=h(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",h(c),h(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}r.push({anchor:l||i,head:i})}e.setSelections(r,0)})},u[f["Shift-"+p+"D"]="duplicateLine"]=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;n<t;n++){var r=e.listSelections()[n];r.empty()?e.replaceRange(e.getLine(r.head.line)+"\n",h(r.head.line,0)):e.replaceRange(e.getRange(r.from(),r.to()),r.from())}e.scrollIntoView()})},d||(f[p+"T"]="transposeChars"),u[f.F9="sortLines"]=function(e){a(e,!0)},u[f[p+"F9"]="sortLinesInsensitive"]=function(e){a(e,!1)},u[f.F2="nextBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},u[f["Shift-F2"]="prevBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},u[f[p+"F2"]="toggleBookmark"]=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var o=t[r].from(),i=t[r].to(),a=e.findMarks(o,i),l=0;l<a.length;l++)if(a[l].sublimeBookmark){a[l].clear();for(var s=0;s<n.length;s++)n[s]==a[l]&&n.splice(s--,1);break}l==a.length&&n.push(e.markText(o,i,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},u[f["Shift-"+p+"F2"]="clearBookmarks"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},u[f["Alt-F2"]="selectBookmarks"]=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var o=t[r].find();o?n.push({anchor:o.from,head:o.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},f["Alt-Q"]="wrapLines";var k=p+"K ";f[k+p+"Backspace"]="delLineLeft",u[f.Backspace="smartBackspace"]=function(t){return t.somethingSelected()?e.Pass:void t.operation(function(){for(var n=t.listSelections(),r=t.getOption("indentUnit"),o=n.length-1;o>=0;o--){var i=n[o].head,a=t.getRange({line:i.line,ch:0},i),l=e.countColumn(a,null,t.getOption("tabSize")),s=t.findPosH(i,-1,"char",!1);if(a&&!/\S/.test(a)&&l%r==0){var c=new h(i.line,e.findColumn(a,l-r,r));c.ch!=i.ch&&(s=c)}t.replaceRange("",s,i,"+delete")}})},u[f[k+p+"K"]="delLineRight"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,h(t[n].to().line),"+delete");e.scrollIntoView()})},u[f[k+p+"U"]="upcaseAtCursor"]=function(e){l(e,function(e){return e.toUpperCase()})},u[f[k+p+"L"]="downcaseAtCursor"]=function(e){l(e,function(e){return e.toLowerCase()})},u[f[k+p+"Space"]="setSublimeMark"]=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},u[f[k+p+"A"]="selectToSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},u[f[k+p+"W"]="deleteToSublimeMark"]=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),o=n;if(e.cmpPos(r,o)>0){var i=o;o=r,r=i}t.state.sublimeKilled=t.getRange(r,o),t.replaceRange("",r,o)}},u[f[k+p+"X"]="swapWithSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},u[f[k+p+"Y"]="sublimeYank"]=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},f[k+p+"G"]="clearBookmarks",u[f[k+p+"C"]="showInCenter"]=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)};var L=d?"Ctrl-Shift-":"Ctrl-Alt-";u[f[L+"Up"]="selectLinesUpward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line>e.firstLine()&&e.addSelection(h(r.head.line-1,r.head.ch))}})},u[f[L+"Down"]="selectLinesDownward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line<e.lastLine()&&e.addSelection(h(r.head.line+1,r.head.ch))}})},u[f[p+"F3"]="findUnder"]=function(e){c(e,!0)},u[f["Shift-"+p+"F3"]="findUnderPrevious"]=function(e){c(e,!1)},u[f["Alt-F3"]="findAllUnder"]=function(e){var t=s(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],o=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&o++;e.setSelections(r,o)}},f["Shift-"+p+"["]="fold",f["Shift-"+p+"]"]="unfold",f[k+p+"0"]=f[k+p+"J"]="unfoldAll",f[p+"I"]="findIncremental",f["Shift-"+p+"I"]="findIncrementalReverse",f[p+"H"]="replace",f.F3="findNext",f["Shift-F3"]="findPrev",e.normalizeKeyMap(f)})},{"../addon/edit/matchbrackets":55,"../addon/search/searchcursor":62,"../lib/codemirror":64}],64:[function(require,module,exports){!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function r(e,r){return t(e).appendChild(r)}function n(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function o(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function l(t,r){var n=t.className;e(r).test(n)||(t.className+=(n?" ":"")+r)}function s(t,r){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!e(n[i]).test(r)&&(r+=" "+n[i]);return r}function a(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function u(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function c(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}function f(){this.id=null}function h(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function d(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);o==-1&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}function p(e){for(;Al.length<=e;)Al.push(g(Al)+" ");return Al[e]}function g(e){return e[e.length-1]}function v(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function m(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function y(){}function b(e,t){var r;return Object.create?r=Object.create(e):(y.prototype=e,r=new y),t&&u(t,r),r}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ol.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function S(e){return e.charCodeAt(0)>=768&&Wl.test(e)}function L(e,t,r){var i=this;this.input=r,i.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=n("div",null,"CodeMirror-code"),i.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=n("div",null,"CodeMirror-cursors"),i.measure=n("div",null,"CodeMirror-measure"),i.lineMeasure=n("div",null,"CodeMirror-measure"),i.lineSpace=n("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=n("div",[n("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=n("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=n("div",null,null,"position: absolute; height: "+Ll+"px; width: 1px;"),i.gutters=n("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=n("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=n("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),rl&&nl<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),il||Jo&&hl||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}function T(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function M(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function k(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function N(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function A(e){if(null==e.parent)return null;for(var t=e.parent,r=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function O(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l],a=s.height;if(t<a)break;t-=a}return r+l}function W(e,t){return t>=e.first&&t<e.first+e.size}function D(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function H(e,t){return this instanceof H?(this.line=e,void(this.ch=t)):new H(e,t)}function P(e,t){return e.line-t.line||e.ch-t.ch}function E(e){return H(e.line,e.ch)}function I(e,t){return P(e,t)<0?t:e}function z(e,t){return P(e,t)<0?e:t}function F(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1));
}function R(e,t){if(t.line<e.first)return H(e.first,0);var r=e.first+e.size-1;return t.line>r?H(r,T(e,r).text.length):B(t,T(e,t.line).text.length)}function B(e,t){var r=e.ch;return null==r||r>t?H(e.line,t):r<0?H(e.line,0):e}function G(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=R(e,t[n]);return r}function U(){Dl=!0}function V(){Hl=!0}function K(e,t,r){this.marker=e,this.from=t,this.to=r}function j(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function X(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Y(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function _(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new K(l,o.from,a?null:o.to))}}return n}function $(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new K(l,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function q(e,t){if(t.full)return null;var r=W(e,t.from.line)&&T(e,t.from.line).markedSpans,n=W(e,t.to.line)&&T(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==P(t.from,t.to),s=_(r,i,l),a=$(n,o,l),u=1==t.text.length,c=g(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=j(a,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(a)for(var p=0;p<a.length;++p){var v=a[p];if(null!=v.to&&(v.to+=c),null==v.from){var m=j(s,v.marker);m||(v.from=c,u&&(s||(s=[])).push(v))}else v.from+=c,u&&(s||(s=[])).push(v)}s&&(s=Z(s)),a&&a!=s&&(a=Z(a));var y=[s];if(!u){var b,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(b||(b=[])).push(new K(s[x].marker,null,null));for(var C=0;C<w;++C)y.push(b);y.push(a)}return y}function Z(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Q(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&h(n,r)!=-1||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(P(u.to,s.from)<0||P(u.from,s.to)>0)){var c=[a,1],f=P(u.from,s.from),d=P(u.to,s.to);(f<0||!l.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!l.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-1}}return i}function J(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ee(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function te(e){return e.inclusiveLeft?-1:0}function re(e){return e.inclusiveRight?1:0}function ne(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=P(n.from,i.from)||te(e)-te(t);if(o)return-o;var l=P(n.to,i.to)||re(e)-re(t);return l?l:t.id-e.id}function ie(e,t){var r,n=Hl&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||ne(r,i.marker)<0)&&(r=i.marker);return r}function oe(e){return ie(e,!0)}function le(e){return ie(e,!1)}function se(e,t,r,n,i){var o=T(e,t),l=Hl&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=P(u.from,r)||te(a.marker)-te(i),f=P(u.to,n)||re(a.marker)-re(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?P(u.to,r)>=0:P(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?P(u.from,n)<=0:P(u.from,n)<0)))return!0}}}function ae(e){for(var t;t=oe(e);)e=t.find(-1,!0).line;return e}function ue(e){for(var t,r;t=le(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function ce(e,t){var r=T(e,t),n=ae(r);return r==n?t:A(n)}function fe(e,t){if(t>e.lastLine())return t;var r,n=T(e,t);if(!he(e,n))return t;for(;r=le(n);)n=r.find(1,!0).line;return A(n)+1}function he(e,t){var r=Hl&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&de(e,t,n))return!0}}function de(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return de(e,n.line,j(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&de(e,t,i))return!0}function pe(e){e=ae(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function ge(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=oe(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=le(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,n=o.to.line,r+=n.text.length-o.to.ch}return r}function ve(e){var t=e.display,r=e.doc;t.maxLine=T(r,r.first),t.maxLineLength=ge(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=ge(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function me(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function ye(e){return e.level%2?e.to:e.from}function be(e){return e.level%2?e.from:e.to}function we(e){var t=ke(e);return t?ye(t[0]):0}function xe(e){var t=ke(e);return t?be(g(t)):e.text.length}function Ce(e,t,r){var n=e[0].level;return t==n||r!=n&&t<r}function Se(e,t){var r;Pl=null;for(var n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return Ce(e,i.level,e[r].level)?(i.from!=i.to&&(Pl=r),n):(i.from!=i.to&&(Pl=n),r);r=n}}return r}function Le(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&S(e.text.charAt(t)));return t}function Te(e,t,r,n){var i=ke(e);if(!i)return Me(e,t,r,n);for(var o=Se(i,t),l=i[o],s=Le(e,t,l.level%2?-r:r,n);;){if(s>l.from&&s<l.to)return s;if(s==l.from||s==l.to)return Se(i,s)==o?s:(l=i[o+=r],r>0==l.level%2?l.to:l.from);if(l=i[o+=r],!l)return null;s=r>0==l.level%2?Le(e,l.to,-1,n):Le(e,l.from,1,n)}}function Me(e,t,r,n){var i=t+r;if(n)for(;i>0&&S(e.text.charAt(i));)i+=r;return i<0||i>e.text.length?null:i}function ke(e){var t=e.order;return null==t&&(t=e.order=El(e.text)),t}function Ne(e,t){return e._handlers&&e._handlers[t]||Il}function Ae(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=h(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Oe(e,t){var r=Ne(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function We(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Oe(e,r||t.type,e,t),ze(t)||t.codemirrorIgnore}function De(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)h(r,t[n])==-1&&r.push(t[n])}function He(e,t){return Ne(e,t).length>0}function Pe(e){e.prototype.on=function(e,t){zl(this,e,t)},e.prototype.off=function(e,t){Ae(this,e,t)}}function Ee(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ie(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ze(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Fe(e){Ee(e),Ie(e)}function Re(e){return e.target||e.srcElement}function Be(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),dl&&e.ctrlKey&&1==t&&(t=3),t}function Ge(e){if(null==Cl){var t=n("span","​");r(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Cl=t.offsetWidth<=1&&t.offsetHeight>2&&!(rl&&nl<8))}var i=Cl?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Ue(e){if(null!=Sl)return Sl;var n=r(e,document.createTextNode("AخA")),i=ml(n,0,1).getBoundingClientRect(),o=ml(n,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(Sl=o.right-i.right<3)}function Ve(e){if(null!=Ul)return Ul;var t=r(e,n("span","x")),i=t.getBoundingClientRect(),o=ml(t,0,1).getBoundingClientRect();return Ul=Math.abs(i.left-o.left)>1}function Ke(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Vl[e]=t}function je(e,t){Kl[e]=t}function Xe(e){if("string"==typeof e&&Kl.hasOwnProperty(e))e=Kl[e];else if(e&&"string"==typeof e.name&&Kl.hasOwnProperty(e.name)){var t=Kl[e.name];"string"==typeof t&&(t={name:t}),e=b(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Xe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Xe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ye(e,t){t=Xe(t);var r=Vl[t.name];if(!r)return Ye(e,"text/plain");var n=r(e,t);if(jl.hasOwnProperty(t.name)){var i=jl[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}function _e(e,t){var r=jl.hasOwnProperty(e)?jl[e]:jl[e]={};u(t,r)}function $e(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function qe(e,t){for(var r;e.innerMode&&(r=e.innerMode(t),r&&r.mode!=e);)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Ze(e,t,r){return!e.startState||e.startState(t,r)}function Qe(e,t,r,n){var i=[e.state.modeGen],o={};lt(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var l=function(r){var n=e.state.overlays[r],l=1,s=0;lt(e,t.text,n.mode,!0,function(e,t){for(var r=l;s<e;){var o=i[l];o>e&&i.splice(l,1,e,i[l+1],o),l+=2,s=Math.min(e,o)}if(t)if(n.opaque)i.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var a=i[r+1];i[r+1]=(a?a+" ":"")+"overlay "+t}},o)},s=0;s<e.state.overlays.length;++s)l(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Je(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=et(e,A(t)),i=Qe(e,t,t.text.length>e.options.maxHighlightLength?$e(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function et(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var o=st(e,t,r),l=o>n.first&&T(n,o-1).stateAfter;return l=l?$e(n.mode,l):Ze(n.mode),n.iter(o,t,function(r){tt(e,r.text,l);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;r.stateAfter=s?$e(n.mode,l):null,++o}),r&&(n.frontier=o),l}function tt(e,t,r,n){var i=e.doc.mode,o=new Xl(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&rt(i,r);!o.eol();)nt(i,o,r),o.start=o.pos}function rt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=qe(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function nt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=qe(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function it(e,t,r,n){var i,o=function(e){return{start:f.start,end:f.pos,string:f.current(),type:i||null,state:e?$e(l.mode,c):c}},l=e.doc,s=l.mode;t=R(l,t);var a,u=T(l,t.line),c=et(e,t.line,r),f=new Xl(u.text,e.options.tabSize);for(n&&(a=[]);(n||f.pos<t.ch)&&!f.eol();)f.start=f.pos,i=nt(s,f,c),n&&a.push(o(!0));return n?a:o()}function ot(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function lt(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,f=new Xl(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&ot(rt(r,n),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,l&&tt(e,t,n,f.pos),f.pos=t.length,a=null):a=ot(nt(r,f,n,h),o),h){var d=h[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<f.start;)u=Math.min(f.start,u+5e3),i(u,c);c=a}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,c),u=p}}function st(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=T(o,s-1);if(a.stateAfter&&(!r||s<=o.frontier))return s;var u=c(a.text,null,e.options.tabSize);(null==i||n>u)&&(i=s-1,n=u)}return i}function at(e,t,r){this.text=e,ee(this,t),this.height=r?r(this):1}function ut(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),J(e),ee(e,r);var i=n?n(e):1;i!=e.height&&N(e,i)}function ct(e){e.parent=null,J(e)}function ft(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?$l:_l;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function ht(e,t){var r=n("span",null,null,il?"padding-right: .1px":null),i={pre:n("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(rl||il)&&e.getOption("lineWrapping")};r.setAttribute("role","presentation"),i.pre.setAttribute("role","presentation"),t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,a=void 0;i.pos=0,i.addToken=pt,Ue(e.display.measure)&&(a=ke(l))&&(i.addToken=vt(i.addToken,a)),i.map=[];var u=t!=e.display.externalMeasured&&A(l);yt(l,i,Je(e,l,u)),l.styleClasses&&(l.styleClasses.bgClass&&(i.bgClass=s(l.styleClasses.bgClass,i.bgClass||"")),l.styleClasses.textClass&&(i.textClass=s(l.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Ge(e.display.measure))),0==o?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(il){var c=i.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Oe(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=s(i.pre.className,i.textClass||"")),i}function dt(e){var t=n("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function pt(e,t,r,i,o,l,s){if(t){var a,u=e.splitSpaces?gt(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){a=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var d=c.exec(t),g=d?d.index-h:t.length-h;if(g){var v=document.createTextNode(u.slice(h,h+g));rl&&nl<9?a.appendChild(n("span",[v])):a.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!d)break;h+=g+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=a.appendChild(n("span",p(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?(m=a.appendChild(n("span","\r"==d[0]?"␍":"␤","cm-invalidchar")),m.setAttribute("cm-text",d[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(d[0]),m.setAttribute("cm-text",d[0]),rl&&nl<9?a.appendChild(n("span",[m])):a.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,a=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,a),rl&&nl<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||i||o||f||s){var w=r||"";i&&(w+=i),o&&(w+=o);var x=n("span",[a],w,s);return l&&(x.title=l),e.content.appendChild(x)}e.content.appendChild(a)}}function gt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function vt(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=void 0,h=0;h<t.length&&(f=t[h],!(f.to>u&&f.from<=u));h++);if(f.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,f.to-u),i,o,null,s,a),o=null,n=n.slice(f.to-u),u=f.to}}}function mt(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function yt(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,f,h,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=f=s="",h=null,m=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?y.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&!f&&(f=C.title),C.collapsed&&(!h||ne(h.marker,C)<0)&&(h=x)):x.from>p&&m>x.from&&(m=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(u+=" "+b[S]);if(!h||h.from==p)for(var L=0;L<y.length;++L)mt(t,0,y[L]);if(h&&(h.from||0)==p){if(mt(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var T=Math.min(d,m);;){if(v){var M=p+v.length;if(!h){var k=M>T?v.slice(0,T-p):v;t.addToken(t,k,l?l+a:a,c,p+k.length==m?u:"",f,s)}if(M>=T){v=v.slice(T-p),p=T;break}p=M,c=""}v=i.slice(o,o=r[g++]),l=ft(r[g++],t.cm.options)}}else for(var N=1;N<r.length;N+=2)t.addToken(t,i.slice(o,o=r[N]),ft(r[N+1],t.cm.options))}function bt(e,t,r){this.line=t,this.rest=ue(t),this.size=this.rest?A(g(this.rest))-r+1:1,this.node=this.text=null,this.hidden=he(e,t)}function wt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new bt(e.doc,T(e.doc,o),o);n=o+l.size,i.push(l)}return i}function xt(e){ql?ql.ops.push(e):e.ownsGroup=ql={ops:[e],delayedCallbacks:[]}}function Ct(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function St(e,t){var r=e.ownsGroup;if(r)try{Ct(r)}finally{ql=null,t(r)}}function Lt(e,t){var r=Ne(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);ql?n=ql.delayedCallbacks:Zl?n=Zl:(n=Zl=[],setTimeout(Tt,0));for(var o=function(e){n.push(function(){return r[e].apply(null,i)})},l=0;l<r.length;++l)o(l)}}function Tt(){var e=Zl;Zl=null;for(var t=0;t<e.length;++t)e[t]()}function Mt(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Ot(e,t):"gutter"==o?Dt(e,t,r,n):"class"==o?Wt(t):"widget"==o&&Ht(e,t,n)}t.changes=null}function kt(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),rl&&nl<8&&(e.node.style.zIndex=2)),e.node}function Nt(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=kt(e);e.background=r.insertBefore(n("div",null,t),r.firstChild)}}function At(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):ht(e,t)}function Ot(e,t){var r=t.text.className,n=At(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Wt(t)):r&&(t.text.className=r)}function Wt(e){Nt(e),e.line.wrapClass?kt(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function Dt(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=kt(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=kt(t),a=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(n("div",D(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],f=l.hasOwnProperty(c)&&l[c];f&&a.appendChild(n("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Ht(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);Et(e,t,r)}function Pt(e,t,r,n){var i=At(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Wt(t),Dt(e,t,r,n),Et(e,t,n),t.node}function Et(e,t,r){if(It(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)It(e,t.rest[n],t,r,!1)}function It(e,t,r,i,o){if(t.widgets)for(var l=kt(r),s=0,a=t.widgets;s<a.length;++s){var u=a[s],c=n("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),zt(u,c,r,i),e.display.input.setUneditable(c),o&&u.above?l.insertBefore(c,r.gutter||r.text):l.appendChild(c),Lt(u,"redraw")}}function zt(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ft(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!i(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+t.display.wrapper.clientWidth+"px;"),r(t.display.measure,n("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function Rt(e,t){for(var r=Re(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Bt(e){return e.lineSpace.offsetTop}function Gt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ut(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=r(e.measure,n("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Vt(e){return Ll-e.display.nativeBarWidth}function Kt(e){return e.display.scroller.clientWidth-Vt(e)-e.display.barWidth}function jt(e){return e.display.scroller.clientHeight-Vt(e)-e.display.barHeight}function Xt(e,t,r){var n=e.options.lineWrapping,i=n&&Kt(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Yt(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(A(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function _t(e,t){t=ae(t);var n=A(t),i=e.display.externalMeasured=new bt(e.doc,t,n);i.lineN=n;var o=i.built=ht(e,i);return i.text=o.pre,r(e.display.lineMeasure,o.pre),i}function $t(e,t,r,n){return Qt(e,Zt(e,t),r,n)}function qt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Sr(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Zt(e,t){var r=A(t),n=qt(e,r);n&&!n.text?n=null:n&&n.changes&&(Mt(e,n,r,yr(e)),e.curOp.forceUpdate=!0),n||(n=_t(e,t));var i=Yt(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Qt(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xt(e,t.view,t.rect),t.hasHeights=!0),o=tr(e,t,r,n),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Jt(e,t,r){for(var n,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?(i=t-s,o=i+1):(u==e.length-3||t==a&&e[u+3]>t)&&(o=a-s,i=o-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[(u-=3)+2],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function er(e,t){var r=Ql;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function tr(e,t,r,n){var i,o=Jt(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&S(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&S(t.line.text.charAt(o.coverStart+a));)++a;if(i=rl&&nl<9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():er(ml(l,s,a).getClientRects(),n),i.left||i.right||0==s)break;a=s,s-=1,u="right"}rl&&nl<11&&(i=rr(e.display.measure,i))}else{s>0&&(u=n="right");var f;i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(rl&&nl<9&&!s&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+mr(e.display),top:h.top,bottom:h.bottom}:Ql}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=p),w}function rr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ve(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function nr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ir(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var r=0;r<e.display.view.length;r++)nr(e.display.view[r])}function or(e){ir(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lr(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function sr(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ar(e,t,r,n,i){if(!i&&t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var l=Ft(t.widgets[o]);r.top+=l,r.bottom+=l}if("line"==n)return r;n||(n="local");var s=pe(t);if("local"==n?s+=Bt(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:sr());var u=a.left+("window"==n?0:lr());r.left+=u,r.right+=u}return r.top+=s,r.bottom+=s,r}function ur(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=lr(),i-=sr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function cr(e,t,r,n,i){return n||(n=T(e.doc,t.line)),ar(e,n,$t(e,n,t.ch,i),r)}function fr(e,t,r,n,i,o){function l(t,l){var s=Qt(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,ar(e,n,s,r)}function s(e,t){var r=a[t],n=r.level%2;return e==ye(r)&&t&&r.level<a[t-1].level?(r=a[--t],e=be(r)-(r.level%2?0:1),n=!0):e==be(r)&&t<a.length-1&&r.level<a[t+1].level&&(r=a[++t],e=ye(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?l(e-1):l(e,n)}n=n||T(e.doc,t.line),i||(i=Zt(e,n));var a=ke(n),u=t.ch;if(!a)return l(u);var c=Se(a,u),f=s(u,c);return null!=Pl&&(f.other=s(u,Pl)),f}function hr(e,t){var r=0;t=R(e.doc,t),e.options.lineWrapping||(r=mr(e.display)*t.ch);var n=T(e.doc,t.line),i=pe(n)+Bt(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function dr(e,t,r,n){var i=H(e,t);return i.xRel=n,r&&(i.outside=!0),i}function pr(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return dr(n.first,0,!0,-1);var i=O(n,r),o=n.first+n.size-1;if(i>o)return dr(n.first+n.size-1,T(n,o).text.length,!0,1);t<0&&(t=0);for(var l=T(n,i);;){var s=gr(e,l,i,t,r),a=le(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=A(l=u.to.line)}}function gr(e,t,r,n,i){function o(n){var i=fr(e,H(r,n),"line",t,u);return s=!0,l>i.bottom?i.left-a:l<i.top?i.left+a:(s=!1,i.left)}var l=i-pe(t),s=!1,a=2*e.display.wrapper.clientWidth,u=Zt(e,t),c=ke(t),f=t.text.length,h=we(t),d=xe(t),p=o(h),g=s,v=o(d),m=s;if(n>v)return dr(r,d,m,1);for(;;){if(c?d==h||d==Te(t,h,1):d-h<=1){var y=n<p||n-p<=v-n?h:d,b=y==h?g:m,w=n-(y==h?p:v);if(m&&!c&&!/\s/.test(t.text.charAt(y))&&w>0&&y<t.text.length&&u.view.measure.heights.length>1){var x=Qt(e,u,y,"right");l<=x.bottom&&l>=x.top&&Math.abs(n-x.right)<w&&(b=!1,y++,w=n-x.right)}for(;S(t.text.charAt(y));)++y;var C=dr(r,y,b,w<-1?-1:w>1?1:0);return C}var L=Math.ceil(f/2),T=h+L;if(c){T=h;for(var M=0;M<L;++M)T=Te(t,T,1)}var k=o(T);k>n?(d=T,v=k,(m=s)&&(v+=1e3),f=L):(h=T,p=k,g=s,f-=L)}}function vr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Yl){Yl=n("pre");for(var i=0;i<49;++i)Yl.appendChild(document.createTextNode("x")),Yl.appendChild(n("br"));Yl.appendChild(document.createTextNode("x"))}r(e.measure,Yl);var o=Yl.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function mr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),i=n("pre",[t]);r(e.measure,i);var o=t.getBoundingClientRect(),l=(o.right-o.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function yr(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:br(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function br(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function wr(e){var t=vr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/mr(e.display)-3);return function(i){if(he(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function xr(e){var t=e.doc,r=wr(e);t.iter(function(e){var t=r(e);
t!=e.height&&N(e,t)})}function Cr(e,t,r,n){var i=e.display;if(!r&&"true"==Re(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(e){return null}var a,u=pr(e,o,l);if(n&&1==u.xRel&&(a=T(e.doc,u.line).text).length==u.ch){var f=c(a,a.length,e.options.tabSize)-a.length;u=H(u.line,Math.max(0,Math.round((o-Ut(e.display).left)/mr(e.display))-f))}return u}function Sr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function Lr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Tr(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t!==!1||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Mr(e,s.head,i),a||kr(e,s,o)}}return n}function Mr(e,t,r){var i=fr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(n("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var l=r.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=i.other.left+"px",l.style.top=i.other.top+"px",l.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function kr(e,t,r){function i(e,t,r,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?f-e:r)+"px;\n                             height: "+(i-t)+"px"))}function o(t,r,n){function o(r,n){return cr(e,H(t,r),"div",u,n)}var l,a,u=T(s,t),h=u.text.length;return me(ke(u),r||0,null==n?h:n,function(e,t,s){var u,d,p,g=o(e,"left");if(e==t)u=g,d=p=g.left;else{if(u=o(t-1,"right"),"rtl"==s){var v=g;g=u,u=v}d=g.left,p=u.right}null==r&&0==e&&(d=c),u.top-g.top>3&&(i(d,g.top,null,g.bottom),d=c,g.bottom<u.top&&i(d,g.bottom,null,u.top)),null==n&&t==h&&(p=f),(!l||g.top<l.top||g.top==l.top&&g.left<l.left)&&(l=g),(!a||u.bottom>a.bottom||u.bottom==a.bottom&&u.right>a.right)&&(a=u),d<c+1&&(d=c),i(d,u.top,p-d,u.bottom)}),{start:l,end:a}}var l=e.display,s=e.doc,a=document.createDocumentFragment(),u=Ut(e.display),c=u.left,f=Math.max(l.sizerWidth,Kt(e)-l.sizer.offsetLeft)-u.right,h=t.from(),d=t.to();if(h.line==d.line)o(h.line,h.ch,d.ch);else{var p=T(s,h.line),g=T(s,d.line),v=ae(p)==ae(g),m=o(h.line,h.ch,v?p.text.length+1:null).end,y=o(d.line,v?0:null,d.ch).start;v&&(m.top<y.top-2?(i(m.right,m.top,null,m.bottom),i(c,y.top,y.left,y.bottom)):i(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&i(c,m.bottom,null,y.top)}r.appendChild(a)}function Nr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ar(e){e.state.focused||(e.display.input.focus(),Wr(e))}function Or(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Dr(e))},100)}function Wr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Oe(e,"focus",e,t),e.state.focused=!0,l(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),il&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Nr(e))}function Dr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Oe(e,"blur",e,t),e.state.focused=!1,wl(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Hr(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=br(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Pr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=D(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var o=i.measure.appendChild(n("div",[n("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(l,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Mn(e),!0}return!1}function Er(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=void 0;if(!i.hidden){if(rl&&nl<8){var l=i.node.offsetTop+i.node.offsetHeight;o=l-r,r=l}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var a=i.line.height-o;if(o<2&&(o=vr(t)),(a>.001||a<-.001)&&(N(i.line,o),Ir(i.line),i.rest))for(var u=0;u<i.rest.length;u++)Ir(i.rest[u])}}}function Ir(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function zr(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Bt(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=O(t,n),l=O(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=O(t,pe(T(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=O(t,pe(T(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function Fr(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Jo||Ln(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),Jo&&Ln(e),bn(e,100))}function Rr(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,Hr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Br(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function Gr(e){var t=Br(e);return t.x*=es,t.y*=es,t}function Ur(e,t){var r=Br(t),n=r.x,i=r.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(n&&s||i&&a){if(i&&dl&&il)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(n&&!Jo&&!sl&&null!=es)return i&&a&&Fr(e,Math.max(0,Math.min(l.scrollTop+i*es,l.scrollHeight-l.clientHeight))),Rr(e,Math.max(0,Math.min(l.scrollLeft+n*es,l.scrollWidth-l.clientWidth))),(!i||i&&a)&&Ee(t),void(o.wheelStartX=null);if(i&&null!=es){var h=i*es,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;h<0?d=Math.max(0,d+h-50):p=Math.min(e.doc.height,p+h+50),Ln(e,{top:d,bottom:p})}Jl<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(es=(es*Jl+r)/(Jl+1),++Jl)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function Vr(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Gt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Vt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function Kr(e,t){t||(t=Vr(e));var r=e.display.barWidth,n=e.display.barHeight;jr(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Er(e),jr(e,Vr(e)),r=e.display.barWidth,n=e.display.barHeight}function jr(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function Xr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&wl(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ns[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),zl(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?Rr(e,t):Fr(e,t)},e),e.display.scrollbars.addClass&&l(e.display.wrapper,e.display.scrollbars.addClass)}function Yr(e,t){if(!We(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!cl){var l=n("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Bt(e.display))+"px;\n                         height: "+(t.bottom-t.top+Vt(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}function _r(e,t,r,n){null==n&&(n=0);for(var i,o=0;o<5;o++){var l=!1;i=fr(e,t);var s=r&&r!=t?fr(e,r):i,a=qr(e,Math.min(i.left,s.left),Math.min(i.top,s.top)-n,Math.max(i.left,s.left),Math.max(i.bottom,s.bottom)+n),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=a.scrollTop&&(Fr(e,a.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(l=!0)),null!=a.scrollLeft&&(Rr(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(l=!0)),!l)break}return i}function $r(e,t,r,n,i){var o=qr(e,t,r,n,i);null!=o.scrollTop&&Fr(e,o.scrollTop),null!=o.scrollLeft&&Rr(e,o.scrollLeft)}function qr(e,t,r,n,i){var o=e.display,l=vr(e.display);r<0&&(r=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,a=jt(e),u={};i-r>a&&(i=r+a);var c=e.doc.height+Gt(o),f=r<l,h=i>c-l;if(r<s)u.scrollTop=f?0:r;else if(i>s+a){var d=Math.min(r,(h?c:i)-a);d!=s&&(u.scrollTop=d)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Kt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=n-t>g;return v&&(n=t+g),t<10?u.scrollLeft=0:t<p?u.scrollLeft=Math.max(0,t-(v?0:10)):n>g+p-3&&(u.scrollLeft=n+(v?0:10)-g),u}function Zr(e,t,r){null==t&&null==r||Jr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function Qr(e){Jr(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?H(t.line,t.ch-1):t,n=H(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function Jr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=hr(e,t.from),n=hr(e,t.to),i=qr(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function en(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++is},xt(e.curOp)}function tn(e){var t=e.curOp;St(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;rn(e)})}function rn(e){for(var t=e.ops,r=0;r<t.length;r++)nn(t[r]);for(var n=0;n<t.length;n++)on(t[n]);for(var i=0;i<t.length;i++)ln(t[i]);for(var o=0;o<t.length;o++)sn(t[o]);for(var l=0;l<t.length;l++)an(t[l])}function nn(e){var t=e.cm,r=t.display;xn(t),e.updateMaxLine&&ve(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new os(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function on(e){e.updatedDisplay=e.mustUpdate&&Cn(e.cm,e.update)}function ln(e){var t=e.cm,r=t.display;e.updatedDisplay&&Er(t),e.barMeasure=Vr(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=$t(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Vt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Kt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection(e.focus))}function sn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Rr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==o()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Kr(t,e.barMeasure),e.updatedDisplay&&kn(t,e.barMeasure),e.selectionChanged&&Nr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Ar(e.cm)}function an(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&Sn(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,Hr(t)),e.scrollToPos){var i=_r(t,R(n,e.scrollToPos.from),R(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Yr(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Oe(o[s],"hide");if(l)for(var a=0;a<l.length;++a)l[a].lines.length&&Oe(l[a],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Oe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function un(e,t){if(e.curOp)return t();en(e);try{return t()}finally{tn(e)}}function cn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);en(e);try{return t.apply(e,arguments)}finally{tn(e)}}}function fn(e){return function(){if(this.curOp)return e.apply(this,arguments);en(this);try{return e.apply(this,arguments)}finally{tn(this)}}}function hn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);en(t);try{return e.apply(this,arguments)}finally{tn(t)}}}function dn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Hl&&ce(e.doc,t)<i.viewTo&&gn(e);else if(r<=i.viewFrom)Hl&&fe(e.doc,r+n)>i.viewFrom?gn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)gn(e);else if(t<=i.viewFrom){var o=vn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):gn(e)}else if(r>=i.viewTo){var l=vn(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):gn(e)}else{var s=vn(e,t,t,-1),a=vn(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(wt(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):gn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function pn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Sr(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);h(l,r)==-1&&l.push(r)}}}function gn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function vn(e,t,r,n){var i,o=Sr(e,t),l=e.display.view;if(!Hl||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;ce(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function mn(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=wt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=wt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Sr(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(wt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Sr(e,r)))),n.viewTo=r}function yn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function bn(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,a(wn,e))}function wn(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=$e(t.mode,et(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength,a=Qe(e,o,s?$e(t.mode,n):n,!0);o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<l.length;++h)f=l[h]!=o.styles[h];f&&i.push(t.frontier),o.stateAfter=s?n:$e(t.mode,n)}else o.text.length<=e.options.maxHighlightLength&&tt(e,o.text,n),o.stateAfter=t.frontier%5==0?$e(t.mode,n):null;if(++t.frontier,+new Date>r)return bn(e,e.options.workDelay),!0}),i.length&&un(e,function(){for(var t=0;t<i.length;t++)pn(e,i[t],"text")})}}function xn(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Vt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Vt(e)+"px",t.scrollbarsClipped=!0)}function Cn(e,r){var n=e.display,i=e.doc;if(r.editorIsHidden)return gn(e),!1;if(!r.force&&r.visible.from>=n.viewFrom&&r.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==yn(e))return!1;Pr(e)&&(gn(e),r.dims=yr(e));var l=i.first+i.size,s=Math.max(r.visible.from-e.options.viewportMargin,i.first),a=Math.min(l,r.visible.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(i.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(l,n.viewTo)),Hl&&(s=ce(e.doc,s),a=fe(e.doc,a));var u=s!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=r.wrapperHeight||n.lastWrapWidth!=r.wrapperWidth;mn(e,s,a),n.viewOffset=pe(T(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=yn(e);if(!u&&0==c&&!r.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var f=o();return c>4&&(n.lineDiv.style.display="none"),Tn(e,n.updateLineNumbers,r.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,f&&o()!=f&&f.offsetHeight&&f.focus(),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,u&&(n.lastWrapHeight=r.wrapperHeight,n.lastWrapWidth=r.wrapperWidth,bn(e,400)),n.updateLineNumbers=null,!0}function Sn(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Kt(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Gt(e.display)-jt(e),r.top)}),t.visible=zr(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Cn(e,t);n=!1){Er(e);var i=Vr(e);Lr(e),Kr(e,i),kn(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ln(e,t){var r=new os(e,t);if(Cn(e,r)){Er(e),Sn(e,r);var n=Vr(e);Lr(e),Kr(e,n),kn(e,n),r.finish()}}function Tn(e,r,n){function i(t){var r=t.nextSibling;return il&&dl&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var o=e.display,l=e.options.lineNumbers,s=o.lineDiv,a=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var d=u[f];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var p=l&&null!=r&&r<=c&&d.lineNumber;d.changes&&(h(d.changes,"gutter")>-1&&(p=!1),Mt(e,d,c,n)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(D(e.options,c)))),a=d.node.nextSibling}else{var g=Pt(e,d,c,n);s.insertBefore(g,a)}c+=d.size}for(;a;)a=i(a)}function Mn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function kn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Vt(e)+"px"}function Nn(e){var r=e.display.gutters,i=e.options.gutters;t(r);for(var o=0;o<i.length;++o){var l=i[o],s=r.appendChild(n("div",null,"CodeMirror-gutter "+l));"CodeMirror-linenumbers"==l&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}r.style.display=o?"":"none",Mn(e)}function An(e){var t=h(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function On(e,t){this.ranges=e,this.primIndex=t}function Wn(e,t){this.anchor=e,this.head=t}function Dn(e,t){var r=e[t];e.sort(function(e,t){return P(e.from(),t.from())}),t=h(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(P(o.to(),i.from())>=0){var l=z(o.from(),i.from()),s=I(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new Wn(a?s:l,a?l:s))}}return new On(e,t)}function Hn(e,t){return new On([new Wn(e,t||e)],0)}function Pn(e){return e.text?H(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function En(e,t){if(P(e,t.from)<0)return e;if(P(e,t.to)<=0)return Pn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Pn(t).ch-t.to.ch),H(r,n)}function In(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Wn(En(i.anchor,t),En(i.head,t)))}return Dn(r,e.sel.primIndex)}function zn(e,t,r){return e.line==t.line?H(r.line,e.ch-t.ch+r.ch):H(r.line+(e.line-t.line),e.ch)}function Fn(e,t,r){for(var n=[],i=H(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=zn(s.from,i,o),u=zn(Pn(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],f=P(c.head,c.anchor)<0;n[l]=new Wn(f?u:a,f?a:u)}else n[l]=new Wn(a,a)}return new On(n,e.sel.primIndex)}function Rn(e){e.doc.mode=Ye(e.options,e.doc.modeOption),Bn(e)}function Bn(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,bn(e,100),e.state.modeGen++,e.curOp&&dn(e)}function Gn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Un(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){ut(e,r,i,n),Lt(e,"change",e,t)}function l(e,t){for(var r=[],o=e;o<t;++o)r.push(new at(u[o],i(o),n));return r}var s=t.from,a=t.to,u=t.text,c=T(e,s.line),f=T(e,a.line),h=g(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Gn(e,t)){var v=l(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),d);else{var m=l(1,u.length-1);m.push(new at(h+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(a.ch),d);var y=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}Lt(e,"change",e,t)}function Vn(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function Kn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,xr(e),Rn(e),e.options.lineWrapping||ve(e),e.options.mode=t.modeOption,dn(e)}function jn(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Xn(e,t){var r={from:E(t.from),to:Pn(t),text:M(e,t.from,t.to)};return Jn(e,r,t.from.line,t.to.line+1),Vn(e,function(e){return Jn(e,r,t.from.line,t.to.line+1)},!0),r}function Yn(e){for(;e.length;){var t=g(e);if(!t.ranges)break;e.pop()}}function _n(e,t){return t?(Yn(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function $n(e,t,r,n){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=_n(i,i.lastOp==n)))l=g(o.changes),0==P(t.from,t.to)&&0==P(t.from,l.to)?l.to=Pn(t):o.changes.push(Xn(e,t));else{var a=g(i.done);for(a&&a.ranges||Qn(e.sel,i.done),o={changes:[Xn(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||Oe(e,"historyAdded")}function qn(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Zn(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||qn(e,o,g(i.done),t))?i.done[i.done.length-1]=t:Qn(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&Yn(i.undone)}function Qn(e,t){var r=g(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Jn(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function ei(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function ti(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(ei(r[i]));return n}function ri(e,t){var r=ti(e,t),n=q(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function ni(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?On.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&h(t,Number(c[1]))>-1&&(g(s)[f]=u[f],delete u[f])}}}return n}function ii(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var o=P(r,i)<0;o!=P(n,i)<0?(i=r,r=n):o!=P(r,n)<0&&(r=n)}return new Wn(i,r)}return new Wn(n||r,r)}function oi(e,t,r,n){fi(e,new On([ii(e,e.sel.primary(),t,r)],0),n)}function li(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=ii(e,e.sel.ranges[i],t[i],null);var o=Dn(n,e.sel.primIndex);fi(e,o,r)}function si(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,fi(e,Dn(i,e.sel.primIndex),n)}function ai(e,t,r,n){fi(e,Hn(t,r),n)}function ui(e,t,r){var n={ranges:t.ranges,update:function(t){var r=this;this.ranges=[];for(var n=0;n<t.length;n++)r.ranges[n]=new Wn(R(e,t[n].anchor),R(e,t[n].head))},origin:r&&r.origin};return Oe(e,"beforeSelectionChange",e,n),e.cm&&Oe(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Dn(n.ranges,n.ranges.length-1):t}function ci(e,t,r){var n=e.history.done,i=g(n);i&&i.ranges?(n[n.length-1]=t,hi(e,t,r)):fi(e,t,r)}function fi(e,t,r){hi(e,t,r),Zn(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function hi(e,t,r){(He(e,"beforeSelectionChange")||e.cm&&He(e.cm,"beforeSelectionChange"))&&(t=ui(e,t,r));var n=r&&r.bias||(P(t.primary().head,e.sel.primary().head)<0?-1:1);di(e,gi(e,t,n,!0)),r&&r.scroll===!1||!e.cm||Qr(e.cm)}function di(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,De(e.cm)),Lt(e,"cursorActivity",e))}function pi(e){di(e,gi(e,e.sel,null,!1),Ml)}function gi(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=mi(e,l.anchor,s&&s.anchor,r,n),u=mi(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Wn(a,u))}return i?Dn(i,t.primIndex):t}function vi(e,t,r,n,i){var o=T(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Oe(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u=a.find(n<0?1:-1),c=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(u=yi(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=P(u,r))&&(n<0?c<0:c>0))return vi(e,u,t,n,i)}var f=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(f=yi(e,f,n,f.line==t.line?o:null)),f?vi(e,f,t,n,i):null}}return t}function mi(e,t,r,n,i){var o=n||1,l=vi(e,t,r,o,i)||!i&&vi(e,t,r,o,!0)||vi(e,t,r,-o,i)||!i&&vi(e,t,r,-o,!0);return l?l:(e.cantEdit=!0,H(e.first,0))}function yi(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?R(e,H(t.line-1)):null:r>0&&t.ch==(n||T(e,t.line)).text.length?t.line<e.first+e.size-1?H(t.line+1,0):null:new H(t.line,t.ch+r)}function bi(e){e.setSelection(H(e.firstLine(),0),H(e.lastLine()),Ml)}function wi(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=R(e,t)),r&&(n.to=R(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),Oe(e,"beforeChange",e,n),e.cm&&Oe(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function xi(e,t,r){if(e.cm){if(!e.cm.curOp)return cn(e.cm,xi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(He(e,"beforeChange")||e.cm&&He(e.cm,"beforeChange"))||(t=wi(e,t,!0))){var n=Dl&&!r&&Q(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Ci(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else Ci(e,t)}}function Ci(e,t){if(1!=t.text.length||""!=t.text[0]||0!=P(t.from,t.to)){var r=In(e,t);$n(e,t,r,e.cm?e.cm.curOp.id:NaN),Ti(e,t,r,q(e,t));var n=[];Vn(e,function(e,r){r||h(n,e.history)!=-1||(Oi(e.history,t),
n.push(e.history)),Ti(e,t,null,q(e,t))})}}function Si(e,t,r){if(!e.cm||!e.cm.state.suppressEdits||r){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,a=0;a<l.length&&(n=l[a],r?!n.ranges||n.equals(e.sel):n.ranges);a++);if(a!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;n=l.pop(),n.ranges;){if(Qn(n,s),r&&!n.equals(e.sel))return void fi(e,n,{clearRedo:!1});o=n}var u=[];Qn(o,s),s.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=He(e,"beforeChange")||e.cm&&He(e.cm,"beforeChange"),f=function(r){var i=n.changes[r];if(i.origin=t,c&&!wi(e,i,!1))return l.length=0,{};u.push(Xn(e,i));var o=r?In(e,i):g(l);Ti(e,i,o,ri(e,i)),!r&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Pn(i)});var s=[];Vn(e,function(e,t){t||h(s,e.history)!=-1||(Oi(e.history,i),s.push(e.history)),Ti(e,i,null,ri(e,i))})},d=n.changes.length-1;d>=0;--d){var p=f(d);if(p)return p.v}}}}function Li(e,t){if(0!=t&&(e.first+=t,e.sel=new On(v(e.sel.ranges,function(e){return new Wn(H(e.anchor.line+t,e.anchor.ch),H(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){dn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)pn(e.cm,n,"gutter")}}function Ti(e,t,r,n){if(e.cm&&!e.cm.curOp)return cn(e.cm,Ti)(e,t,r,n);if(t.to.line<e.first)return void Li(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Li(e,i),t={from:H(e.first,0),to:H(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:H(o,T(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=M(e,t.from,t.to),r||(r=In(e,t)),e.cm?Mi(e.cm,t,n):Un(e,t,n),hi(e,r,Ml)}}function Mi(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=A(ae(T(n,o.line))),n.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&De(e),Un(n,t,r,wr(e)),e.options.lineWrapping||(n.iter(a,o.line+t.text.length,function(e){var t=ge(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),bn(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?dn(e):o.line!=l.line||1!=t.text.length||Gn(e.doc,t)?dn(e,o.line,l.line+1,u):pn(e,o.line,"text");var c=He(e,"changes"),f=He(e,"change");if(f||c){var h={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};f&&Lt(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function ki(e,t,r,n,i){if(n||(n=r),P(n,r)<0){var o=n;n=r,r=o}"string"==typeof t&&(t=e.splitLines(t)),xi(e,{from:r,to:n,text:t,origin:i})}function Ni(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Ai(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Ni(o.ranges[s].anchor,t,r,n),Ni(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=H(u.from.line+n,u.from.ch),u.to=H(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function Oi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Ai(e.done,r,n,i),Ai(e.undone,r,n,i)}function Wi(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=T(e,F(e,t)):i=A(t),null==i?null:(n(o,i)&&e.cm&&pn(e.cm,i,r),o)}function Di(e){var t=this;this.lines=e,this.parent=null;for(var r=0,n=0;n<e.length;++n)e[n].parent=t,r+=e[n].height;this.height=r}function Hi(e){var t=this;this.children=e;for(var r=0,n=0,i=0;i<e.length;++i){var o=e[i];r+=o.chunkSize(),n+=o.height,o.parent=t}this.size=r,this.height=n,this.parent=null}function Pi(e,t,r){var n=this;if(r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this.doc=e,this.node=t}function Ei(e,t,r){pe(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Zr(e,null,r)}function Ii(e,t,r,n){var i=new Pi(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Wi(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!he(e,t)){var n=pe(t)<e.scrollTop;N(t,t.height+Ft(i)),n&&Zr(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function zi(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ls}function Fi(e,t,r,i,o){if(i&&i.shared)return Bi(e,t,r,i,o);if(e.cm&&!e.cm.curOp)return cn(e.cm,Fi)(e,t,r,i,o);var l=new zi(e,o),s=P(t,r);if(i&&u(i,l,!1),s>0||0==s&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=n("span",[l.replacedWith],"CodeMirror-widget"),l.widgetNode.setAttribute("role","presentation"),i.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(se(e,t.line,t,r,l)||t.line!=r.line&&se(e,r.line,t,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");V()}l.addToHistory&&$n(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,c=t.line,f=e.cm;if(e.iter(c,r.line+1,function(e){f&&l.collapsed&&!f.options.lineWrapping&&ae(e)==f.display.maxLine&&(a=!0),l.collapsed&&c!=t.line&&N(e,0),Y(e,new K(l,c==t.line?t.ch:null,c==r.line?r.ch:null)),++c}),l.collapsed&&e.iter(t.line,r.line+1,function(t){he(e,t)&&N(t,0)}),l.clearOnEnter&&zl(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(U(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++ls,l.atomic=!0),f){if(a&&(f.curOp.updateMaxLine=!0),l.collapsed)dn(f,t.line,r.line+1);else if(l.className||l.title||l.startStyle||l.endStyle||l.css)for(var h=t.line;h<=r.line;h++)pn(f,h,"text");l.atomic&&pi(f.doc),Lt(f,"markerAdded",f,l)}return l}function Ri(e,t){var r=this;this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=r}function Bi(e,t,r,n,i){n=u(n),n.shared=!1;var o=[Fi(e,t,r,n,i)],l=o[0],s=n.widgetNode;return Vn(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Fi(e,R(e,t),R(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=g(o)}),new Ri(o,l)}function Gi(e){return e.findMarks(H(e.first,0),e.clipPos(H(e.lastLine())),function(e){return e.parent})}function Ui(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(P(o,l)){var s=Fi(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function Vi(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Vn(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];h(n,o.doc)==-1&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}function Ki(e){var t=this;if(Yi(t),!We(t,e)&&!Rt(t.display,e)){Ee(e),rl&&(us=+new Date);var r=Cr(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=function(e,n){if(!t.options.allowDropFileTypes||h(t.options.allowDropFileTypes,e.type)!=-1){var s=new FileReader;s.onload=cn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++l==i){r=R(t.doc,r);var a={from:r,to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};xi(t.doc,a),ci(t.doc,Hn(r,Pn(a)))}}),s.readAsText(e)}},a=0;a<i;++a)s(n[a],a);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),hi(t.doc,Hn(r,r)),c)for(var f=0;f<c.length;++f)ki(t.doc,"",c[f].anchor,c[f].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function ji(e,t){if(rl&&(!e.state.draggingText||+new Date-us<100))return void Fe(t);if(!We(e,t)&&!Rt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!al)){var r=n("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",sl&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),sl&&r.parentNode.removeChild(r)}}function Xi(e,t){var i=Cr(e,t);if(i){var o=document.createDocumentFragment();Mr(e,i,o),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),r(e.display.dragCursor,o)}}function Yi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function _i(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function $i(){cs||(qi(),cs=!0)}function qi(){var e;zl(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,_i(Zi)},100))}),zl(window,"blur",function(){return _i(Dr)})}function Zi(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Qi(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,l=0;l<t.length-1;l++){var s=t[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Ji(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=v(r.split(" "),Qi),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function eo(e,t,r,n){t=no(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return eo(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=eo(e,t.fallthrough[o],r,n);if(l)return l}}}function to(e){var t="string"==typeof e?e:fs[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function ro(e,t){if(sl&&34==e.keyCode&&e.char)return!1;var r=fs[e.keyCode],n=r;return null!=n&&!e.altGraphKey&&(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(yl?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(yl?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)}function no(e){return"string"==typeof e?gs[e]:e}function io(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&P(o.from,g(n).to)<=0;){var l=n.pop();if(P(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}un(e,function(){for(var t=n.length-1;t>=0;t--)ki(e.doc,"",n[t].from,n[t].to,"+delete");Qr(e)})}function oo(e,t){var r=T(e.doc,t),n=ae(r);n!=r&&(t=A(n));var i=ke(n),o=i?i[0].level%2?xe(n):we(n):0;return H(t,o)}function lo(e,t){for(var r,n=T(e.doc,t);r=le(n);)n=r.find(1,!0).line,t=null;var i=ke(n),o=i?i[0].level%2?we(n):xe(n):n.text.length;return H(null==t?A(n):t,o)}function so(e,t){var r=oo(e,t.line),n=T(e.doc,r.line),i=ke(n);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return H(r.line,l?0:o)}return r}function ao(e,t,r){if("string"==typeof t&&(t=ys[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Tl}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function uo(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=eo(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&eo(t,e.options.extraKeys,r,e)||eo(t,e.options.keyMap,r,e)}function co(e,t,r,n){var i=e.state.keySeq;if(i){if(to(t))return"handled";bs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=uo(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Lt(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(Ee(r),Nr(e)),i&&!o&&/\'$/.test(t)?(Ee(r),!0):!!o}function fo(e,t){var r=ro(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?co(e,"Shift-"+r,t,function(t){return ao(e,t,!0)})||co(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ao(e,t)}):co(e,r,t,function(t){return ao(e,t)}))}function ho(e,t,r){return co(e,"'"+r+"'",t,function(t){return ao(e,t,!0)})}function po(e){var t=this;if(t.curOp.focus=o(),!We(t,e)){rl&&nl<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=fo(t,e);sl&&(ws=n?r:null,!n&&88==r&&!Gl&&(dl?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||go(t)}}function go(e){function t(e){18!=e.keyCode&&e.altKey||(wl(r,"CodeMirror-crosshair"),Ae(document,"keyup",t),Ae(document,"mouseover",t))}var r=e.display.lineDiv;l(r,"CodeMirror-crosshair"),zl(document,"keyup",t),zl(document,"mouseover",t)}function vo(e){16==e.keyCode&&(this.doc.sel.shift=!1),We(this,e)}function mo(e){var t=this;if(!(Rt(t.display,e)||We(t,e)||e.ctrlKey&&!e.altKey||dl&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(sl&&r==ws)return ws=null,void Ee(e);if(!sl||e.which&&!(e.which<10)||!fo(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(ho(t,e,i)||t.display.input.onKeyPress(e))}}}function yo(e){var t=this,r=t.display;if(!(We(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Rt(r,e))return void(il||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100)));if(!So(t,e)){var n=Cr(t,e);switch(window.focus(),Be(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?bo(t,e,n):Re(e)==r.scroller&&Ee(e);break;case 2:il&&(t.state.lastMiddleDown=+new Date),n&&oi(t.doc,n),setTimeout(function(){return r.input.focus()},20),Ee(e);break;case 3:bl?Lo(t,e):Or(t)}}}}function bo(e,t,r){rl?setTimeout(a(Ar,e),0):e.curOp.focus=o();var n,i=+new Date;ms&&ms.time>i-400&&0==P(ms.pos,r)?n="triple":vs&&vs.time>i-400&&0==P(vs.pos,r)?(n="double",ms={time:i,pos:r}):(n="single",vs={time:i,pos:r});var l,s=e.doc.sel,u=dl?t.metaKey:t.ctrlKey;e.options.dragDrop&&Fl&&!e.isReadOnly()&&"single"==n&&(l=s.contains(r))>-1&&(P((l=s.ranges[l]).from(),r)<0||r.xRel>0)&&(P(l.to(),r)>0||r.xRel<0)?wo(e,t,r,u):xo(e,t,r,n,u)}function wo(e,t,r,n){var i=e.display,o=+new Date,l=cn(e,function(s){il&&(i.scroller.draggable=!1),e.state.draggingText=!1,Ae(document,"mouseup",l),Ae(i.scroller,"drop",l),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Ee(s),!n&&+new Date-200<o&&oi(e.doc,r),il||rl&&9==nl?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});il&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=dl?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),zl(document,"mouseup",l),zl(i.scroller,"drop",l)}function xo(e,t,r,n,i){function l(t){if(0!=P(b,t))if(b=t,"rect"==n){for(var i=[],o=e.options.tabSize,l=c(T(f,r.line).text,r.ch,o),s=c(T(f,t.line).text,t.ch,o),a=Math.min(l,s),u=Math.max(l,s),v=Math.min(r.line,t.line),m=Math.min(e.lastLine(),Math.max(r.line,t.line));v<=m;v++){var y=T(f,v).text,w=d(y,a,o);a==u?i.push(new Wn(H(v,w),H(v,w))):y.length>w&&i.push(new Wn(H(v,w),H(v,d(y,u,o))))}i.length||i.push(new Wn(r,r)),fi(f,Dn(g.ranges.slice(0,p).concat(i),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x=h,C=x.anchor,S=t;if("single"!=n){var L;L="double"==n?e.findWordAt(t):new Wn(H(t.line,0),R(f,H(t.line+1,0))),P(L.anchor,C)>0?(S=L.head,C=z(x.from(),L.anchor)):(S=L.anchor,C=I(x.to(),L.head))}var M=g.ranges.slice(0);M[p]=new Wn(R(f,C),S),fi(f,Dn(M,p),kl)}}function s(t){var r=++x,i=Cr(e,t,!0,"rect"==n);if(i)if(0!=P(i,b)){e.curOp.focus=o(),l(i);var a=zr(u,f);(i.line>=a.to||i.line<a.from)&&setTimeout(cn(e,function(){x==r&&s(t)}),150)}else{var c=t.clientY<w.top?-20:t.clientY>w.bottom?20:0;c&&setTimeout(cn(e,function(){x==r&&(u.scroller.scrollTop+=c,s(t))}),50)}}function a(t){e.state.selectingText=!1,x=1/0,Ee(t),u.input.focus(),Ae(document,"mousemove",C),Ae(document,"mouseup",S),f.history.lastSelOrigin=null}var u=e.display,f=e.doc;Ee(t);var h,p,g=f.sel,v=g.ranges;if(i&&!t.shiftKey?(p=f.sel.contains(r),h=p>-1?v[p]:new Wn(r,r)):(h=f.sel.primary(),p=f.sel.primIndex),pl?t.shiftKey&&t.metaKey:t.altKey)n="rect",i||(h=new Wn(r,r)),r=Cr(e,t,!0,!0),p=-1;else if("double"==n){var m=e.findWordAt(r);h=e.display.shift||f.extend?ii(f,h,m.anchor,m.head):m}else if("triple"==n){var y=new Wn(H(r.line,0),R(f,H(r.line+1,0)));h=e.display.shift||f.extend?ii(f,h,y.anchor,y.head):y}else h=ii(f,h,r);i?p==-1?(p=v.length,fi(f,Dn(v.concat([h]),p),{scroll:!1,origin:"*mouse"})):v.length>1&&v[p].empty()&&"single"==n&&!t.shiftKey?(fi(f,Dn(v.slice(0,p).concat(v.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),g=f.sel):si(f,p,h,kl):(p=0,fi(f,new On([h],0),kl),g=f.sel);var b=r,w=u.wrapper.getBoundingClientRect(),x=0,C=cn(e,function(e){Be(e)?s(e):a(e)}),S=cn(e,a);e.state.selectingText=S,zl(document,"mousemove",C),zl(document,"mouseup",S)}function Co(e,t,r,n){var i,o;try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Ee(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!He(e,r))return ze(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i){var c=O(e.doc,o),f=e.options.gutters[a];return Oe(e,r,e,c,f,t),ze(t)}}}function So(e,t){return Co(e,t,"gutterClick",!0)}function Lo(e,t){Rt(e.display,t)||To(e,t)||We(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function To(e,t){return!!He(e,"gutterContextMenu")&&Co(e,t,"gutterContextMenu",!1)}function Mo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),or(e)}function ko(e){function t(t,n,i,o){e.defaults[t]=n,i&&(r[t]=o?function(e,t,r){r!=xs&&i(e,t,r)}:i)}var r=e.optionHandlers;e.defineOption=t,e.Init=xs,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Rn(e)},!0),t("indentUnit",2,Rn,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Bn(e),or(e),dn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(o==-1)break;i=o+t.length,r.push(H(n,o))}n++});for(var i=r.length-1;i>=0;i--)ki(e.doc,t,r[i],H(r[i].line,r[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=xs&&e.refresh()}),t("specialCharPlaceholder",dt,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",hl?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!gl),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Mo(e),No(e)},!0),t("keyMap","default",function(e,t,r){var n=no(t),i=r!=xs&&no(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),t("extraKeys",null),t("lineWrapping",!1,Oo,!0),t("gutters",[],function(e){An(e.options),No(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?br(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return Kr(e)},!0),t("scrollbarStyle","native",function(e){Xr(e),Kr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){An(e.options),No(e)},!0),t("firstLineNumber",1,No,!0),t("lineNumberFormatter",function(e){return e},No,!0),t("showCursorWhenSelecting",!1,Lr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("readOnly",!1,function(e,t){"nocursor"==t?(Dr(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Ao),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Lr,!0),t("singleCursorHeightPerLine",!0,Lr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Bn,!0),t("addModeClass",!1,Bn,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Bn,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null)}function No(e){Nn(e),dn(e),Hr(e)}function Ao(e,t,r){var n=r&&r!=xs;if(!t!=!n){var i=e.display.dragFunctions,o=t?zl:Ae;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Oo(e){e.options.lineWrapping?(l(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(wl(e.display.wrapper,"CodeMirror-wrap"),ve(e)),xr(e),dn(e),or(e),setTimeout(function(){return Kr(e)},100)}function Wo(e,t){var r=this;if(!(this instanceof Wo))return new Wo(e,t);this.options=t=t?u(t):{},u(Cs,t,!1),An(t);var n=t.value;"string"==typeof n&&(n=new as(n,t.mode,null,t.lineSeparator)),this.doc=n;var i=new Wo.inputStyles[t.inputStyle](this),o=this.display=new L(e,n,i);o.wrapper.CodeMirror=this,Nn(this),Mo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Xr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new f,keySeq:null,specialChars:null},t.autofocus&&!hl&&o.input.focus(),rl&&nl<11&&setTimeout(function(){return r.display.input.reset(!0)},20),Do(this),$i(),en(this),this.curOp.forceUpdate=!0,Kn(this,n),t.autofocus&&!hl||this.hasFocus()?setTimeout(a(Wr,this),20):Dr(this);for(var l in Ss)Ss.hasOwnProperty(l)&&Ss[l](r,t[l],xs);Pr(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Ls.length;++s)Ls[s](r);tn(this),il&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Do(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),l=i.activeTouch,l.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;zl(i.scroller,"mousedown",cn(e,yo)),rl&&nl<11?zl(i.scroller,"dblclick",cn(e,function(t){if(!We(e,t)){var r=Cr(e,t);if(r&&!So(e,t)&&!Rt(e.display,t)){Ee(t);var n=e.findWordAt(r);oi(e.doc,n.anchor,n.head)}}})):zl(i.scroller,"dblclick",function(t){return We(e,t)||Ee(t)}),bl||zl(i.scroller,"contextmenu",function(t){return Lo(e,t)});var o,l={end:0};zl(i.scroller,"touchstart",function(t){if(!We(e,t)&&!r(t)){i.input.ensurePolled(),clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),zl(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),zl(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Rt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new Wn(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new Wn(H(s.line,0),R(e.doc,H(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),Ee(r)}t()}),zl(i.scroller,"touchcancel",t),zl(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Fr(e,i.scroller.scrollTop),Rr(e,i.scroller.scrollLeft,!0),Oe(e,"scroll",e))}),zl(i.scroller,"mousewheel",function(t){return Ur(e,t)}),zl(i.scroller,"DOMMouseScroll",function(t){return Ur(e,t)}),zl(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){We(e,t)||Fe(t)},over:function(t){We(e,t)||(Xi(e,t),Fe(t))},start:function(t){return ji(e,t)},drop:cn(e,Ki),leave:function(t){We(e,t)||Yi(e)}};var s=i.input.getField();zl(s,"keyup",function(t){return vo.call(e,t)}),zl(s,"keydown",cn(e,po)),zl(s,"keypress",cn(e,mo)),zl(s,"focus",function(t){return Wr(e,t)}),zl(s,"blur",function(t){return Dr(e,t)})}function Ho(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=et(e,t):r="prev");var l=e.options.tabSize,s=T(o,t),a=c(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,f=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(u=o.mode.indent(i,s.text.slice(f.length),s.text),u==Tl||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?c(T(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var g=Math.floor(u/l);g;--g)d+=l,h+="\t";if(d<u&&(h+=p(u-d)),h!=f)return ki(o,h,H(t,0),H(t,f.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var m=o.sel.ranges[v];if(m.head.line==t&&m.head.ch<f.length){var y=H(t,f.length);si(o,v,new Wn(y,y));break}}}function Po(e){Ts=e}function Eo(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=e.state.pasteIncoming||"paste"==i,s=Rl(t),a=null;if(l&&n.ranges.length>1)if(Ts&&Ts.text.join("\n")==t){if(n.ranges.length%Ts.text.length==0){a=[];for(var u=0;u<Ts.text.length;u++)a.push(o.splitLines(Ts.text[u]))}}else s.length==n.ranges.length&&(a=v(s,function(e){return[e]}));for(var c,f=n.ranges.length-1;f>=0;f--){var h=n.ranges[f],d=h.from(),p=h.to();h.empty()&&(r&&r>0?d=H(d.line,d.ch-r):e.state.overwrite&&!l?p=H(p.line,Math.min(T(o,p.line).text.length,p.ch+g(s).length)):Ts&&Ts.lineWise&&Ts.text.join("\n")==t&&(d=p=H(d.line,0))),c=e.curOp.updateInput;var m={from:d,to:p,text:a?a[f%a.length]:s,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};xi(e.doc,m),Lt(e,"inputRead",e,m)}t&&!l&&zo(e,t),Qr(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Io(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||un(t,function(){return Eo(t,r,0,null,"paste")}),!0}function zo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Ho(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(T(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Ho(e,i.head.line,"smart"));l&&Lt(e,"electricInput",e,i.head.line)}}}function Fo(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:H(i,0),head:H(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Ro(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Bo(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return il?e.style.width="1000px":e.setAttribute("wrap","off"),fl&&(e.style.border="1px solid black"),Ro(e),t}function Go(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&cn(this,t[e])(this,r,i),Oe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](no(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:fn(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,dn(this)}),removeOverlay:fn(function(e){for(var t=this,r=this.state.overlays,n=0;n<r.length;++n){var i=r[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return r.splice(n,1),t.state.modeGen++,void dn(t)}}),indentLine:fn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),W(this.doc,e)&&Ho(this,e,t,r)}),indentSelection:fn(function(e){for(var t=this,r=this.doc.sel.ranges,n=-1,i=0;i<r.length;i++){var o=r[i];if(o.empty())o.head.line>n&&(Ho(t,o.head.line,e,!0),n=o.head.line,i==t.doc.sel.primIndex&&Qr(t));else{var l=o.from(),s=o.to(),a=Math.max(n,l.line);n=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<n;++u)Ho(t,u,e);var c=t.doc.sel.ranges;0==l.ch&&r.length==c.length&&c[i].from().ch>0&&si(t.doc,i,new Wn(l,c[i].to()),Ml)}}}),getTokenAt:function(e,t){return it(this,e,t)},getLineTokens:function(e,t){return it(this,H(e),t,!0)},getTokenTypeAt:function(e){e=R(this.doc,e);var t,r=Je(this,T(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this,i=[];if(!r.hasOwnProperty(t))return i;var o=r[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&i.push(o[l[t]]);else if(l[t])for(var s=0;s<l[t].length;s++){var a=o[l[t][s]];a&&i.push(a)}else l.helperType&&o[l.helperType]?i.push(o[l.helperType]):o[l.name]&&i.push(o[l.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(l,n)&&h(i,c.val)==-1&&i.push(c.val)}return i},getStateAfter:function(e,t){var r=this.doc;return e=F(r,null==e?r.first+r.size-1:e),et(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?R(this.doc,e):e?n.from():n.to(),fr(this,r,t||"page")},charCoords:function(e,t){return cr(this,R(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ur(this,e,t||"page"),pr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ur(this,{top:e,left:0},t||"page").top,O(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=T(this.doc,e)}else n=e;return ar(this,n,{top:0,left:0},t||"page",r).top+(i?this.doc.height-pe(n):0)},defaultTextHeight:function(){return vr(this.display)},defaultCharWidth:function(){return mr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=fr(this,R(this.doc,e));var l=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),
s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&$r(this,s,l,s+t.offsetWidth,l+t.offsetHeight)},triggerOnKeyDown:fn(po),triggerOnKeyPress:fn(mo),triggerOnKeyUp:vo,execCommand:function(e){if(ys.hasOwnProperty(e))return ys[e].call(null,this)},triggerElectric:fn(function(e){zo(this,e)}),findPosH:function(e,t,r,n){var i=this,o=1;t<0&&(o=-1,t=-t);for(var l=R(this.doc,e),s=0;s<t&&(l=Uo(i.doc,l,o,r,n),!l.hitSide);++s);return l},moveH:fn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Uo(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},Nl)}),deleteH:fn(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):io(this,function(r){var i=Uo(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=this,o=1,l=n;t<0&&(o=-1,t=-t);for(var s=R(this.doc,e),a=0;a<t;++a){var u=fr(i,s,"div");if(null==l?l=u.left:u.left=l,s=Vo(i,u,o,r),s.hitSide)break}return s},moveV:fn(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=fr(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=Vo(r,s,e,t);return"page"==t&&l==n.sel.primary()&&Zr(r,null,cr(r,a,"div").top-s.top),a},Nl),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=this.doc,r=T(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var l=r.charAt(n),s=x(l,o)?function(e){return x(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new Wn(H(e.line,n),H(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?l(this.display.cursorDiv,"CodeMirror-overwrite"):wl(this.display.cursorDiv,"CodeMirror-overwrite"),Oe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==o()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:fn(function(e,t){null==e&&null==t||Jr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Vt(this)-this.display.barHeight,width:e.scrollWidth-Vt(this)-this.display.barWidth,clientHeight:jt(this),clientWidth:Kt(this)}},scrollIntoView:fn(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:H(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Jr(this),this.curOp.scrollToPos=e;else{var r=qr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:fn(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&ir(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){pn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Oe(this,"refresh",this)}),operation:function(e){return un(this,e)},refresh:fn(function(){var e=this.display.cachedTextHeight;dn(this),this.curOp.forceUpdate=!0,or(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),Mn(this),(null==e||Math.abs(e-vr(this.display))>.5)&&xr(this),Oe(this,"refresh",this)}),swapDoc:fn(function(e){var t=this.doc;return t.cm=null,Kn(this,e),or(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Lt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pe(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}function Uo(e,t,r,n,i){function o(){var t=s+r;return!(t<e.first||t>=e.first+e.size)&&(s=t,c=T(e,t))}function l(e){var t=(i?Te:Me)(c,a,r,!0);if(null==t){if(e||!o())return!1;a=i?(r<0?xe:we)(c):r<0?c.text.length:0}else a=t;return!0}var s=t.line,a=t.ch,u=r,c=T(e,s);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var f=null,h="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||l(!p);p=!1){var g=c.text.charAt(a)||"\n",v=x(g,d)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||p||v||(v="s"),f&&f!=v){r<0&&(r=1,l());break}if(v&&(f=v),r>0&&!l(!p))break}var m=mi(e,H(s,a),t,u,!0);return P(t,m)||(m.hitSide=!0),m}function Vo(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*vr(e.display),3);i=(r>0?t.bottom:t.top)+r*a}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(var u;u=pr(e,l,i),u.outside;){if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}function Ko(e,t){var r=qt(e,t.line);if(!r||r.hidden)return null;var n=T(e.doc,t.line),i=Yt(r,n,t.line),o=ke(n),l="left";if(o){var s=Se(o,t.ch);l=s%2?"right":"left"}var a=Jt(i.map,t.ch,l);return a.offset="right"==a.collapse?a.end:a.start,a}function jo(e,t){return t&&(e.bad=!0),e}function Xo(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return void(s+=""==r?t.textContent.replace(/\u200b/g,""):r);var c,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(H(n,0),H(i+1,0),o(+f));return void(h.length&&(c=h[0].find())&&(s+=M(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)l(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;a&&(s+=u,a=!1),s+=p}}for(var s="",a=!1,u=e.doc.lineSeparator();l(t),t!=r;)t=t.nextSibling;return s}function Yo(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return jo(e.clipPos(H(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return _o(o,t,r)}}function _o(e,t,r){function n(t,r,n){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=A(i<0?e.line:e.rest[i]),u=o[l]+n;return(n<0||s!=t)&&(u=o[l+(n?1:0)]),H(a,u)}}}var o=e.text.firstChild,l=!1;if(!t||!i(o,t))return jo(H(A(e.line),0),!0);if(t==o&&(l=!0,t=o.childNodes[r],r=0,!t)){var s=e.rest?g(e.rest):e.line;return jo(H(A(s),s.text.length),l)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));u.parentNode!=o;)u=u.parentNode;var c=e.measure,f=c.maps,h=n(a,u,r);if(h)return jo(h,l);for(var d=u.nextSibling,p=a?a.nodeValue.length-r:0;d;d=d.nextSibling){if(h=n(d,d.firstChild,0))return jo(H(h.line,h.ch-p),l);p+=d.textContent.length}for(var v=u.previousSibling,m=r;v;v=v.previousSibling){if(h=n(v,v.firstChild,-1))return jo(H(h.line,h.ch+m),l);m+=v.textContent.length}}function $o(e,t){function r(){e.value=a.getValue()}if(t=t?u(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=o();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var i;if(e.form&&(zl(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var l=e.form;i=l.submit;try{var s=l.submit=function(){r(),l.submit=i,l.submit(),l.submit=s}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ae(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var a=Wo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a}function qo(e){e.off=Ae,e.on=zl,e.wheelEventPixels=Gr,e.Doc=as,e.splitLines=Rl,e.countColumn=c,e.findColumn=d,e.isWordChar=w,e.Pass=Tl,e.signal=Oe,e.Line=at,e.changeEnd=Pn,e.scrollbarModel=ns,e.Pos=H,e.cmpPos=P,e.modes=Vl,e.mimeModes=Kl,e.resolveMode=Xe,e.getMode=Ye,e.modeExtensions=jl,e.extendMode=_e,e.copyState=$e,e.startState=Ze,e.innerMode=qe,e.commands=ys,e.keyMap=gs,e.keyName=ro,e.isModifierKey=to,e.lookupKey=eo,e.normalizeKeyMap=Ji,e.StringStream=Xl,e.SharedTextMarker=Ri,e.TextMarker=zi,e.LineWidget=Pi,e.e_preventDefault=Ee,e.e_stopPropagation=Ie,e.e_stop=Fe,e.addClass=l,e.contains=i,e.rmClass=wl,e.keyNames=fs}var Zo=navigator.userAgent,Qo=navigator.platform,Jo=/gecko\/\d/i.test(Zo),el=/MSIE \d/.test(Zo),tl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zo),rl=el||tl,nl=rl&&(el?document.documentMode||6:tl[1]),il=/WebKit\//.test(Zo),ol=il&&/Qt\/\d+\.\d+/.test(Zo),ll=/Chrome\//.test(Zo),sl=/Opera\//.test(Zo),al=/Apple Computer/.test(navigator.vendor),ul=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Zo),cl=/PhantomJS/.test(Zo),fl=/AppleWebKit/.test(Zo)&&/Mobile\/\w+/.test(Zo),hl=fl||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Zo),dl=fl||/Mac/.test(Qo),pl=/\bCrOS\b/.test(Zo),gl=/win/i.test(Qo),vl=sl&&Zo.match(/Version\/(\d*\.\d*)/);vl&&(vl=Number(vl[1])),vl&&vl>=15&&(sl=!1,il=!0);var ml,yl=dl&&(ol||sl&&(null==vl||vl<12.11)),bl=Jo||rl&&nl>=9,wl=function(t,r){var n=t.className,i=e(r).exec(n);if(i){var o=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(o?i[1]+o:"")}};ml=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var xl=function(e){e.select()};fl?xl=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:rl&&(xl=function(e){try{e.select()}catch(e){}}),f.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Cl,Sl,Ll=30,Tl={toString:function(){return"CodeMirror.Pass"}},Ml={scroll:!1},kl={origin:"*mouse"},Nl={origin:"+move"},Al=[""],Ol=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Wl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Dl=!1,Hl=!1,Pl=null,El=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,u="L";return function(r){if(!i.test(r))return!1;for(var n=r.length,c=[],f=0;f<n;++f)c.push(e(r.charCodeAt(f)));for(var h=0,d=u;h<n;++h){var p=c[h];"m"==p?c[h]=d:d=p}for(var v=0,m=u;v<n;++v){var y=c[v];"1"==y&&"r"==m?c[v]="n":l.test(y)&&(m=y,"r"==y&&(c[v]="R"))}for(var b=1,w=c[0];b<n-1;++b){var x=c[b];"+"==x&&"1"==w&&"1"==c[b+1]?c[b]="1":","!=x||w!=c[b+1]||"1"!=w&&"n"!=w||(c[b]=w),w=x}for(var C=0;C<n;++C){var S=c[C];if(","==S)c[C]="N";else if("%"==S){var L=void 0;for(L=C+1;L<n&&"%"==c[L];++L);for(var T=C&&"!"==c[C-1]||L<n&&"1"==c[L]?"1":"N",M=C;M<L;++M)c[M]=T;C=L-1}}for(var k=0,N=u;k<n;++k){var A=c[k];"L"==N&&"1"==A?c[k]="L":l.test(A)&&(N=A)}for(var O=0;O<n;++O)if(o.test(c[O])){var W=void 0;for(W=O+1;W<n&&o.test(c[W]);++W);for(var D="L"==(O?c[O-1]:u),H="L"==(W<n?c[W]:u),P=D||H?"L":"R",E=O;E<W;++E)c[E]=P;O=W-1}for(var I,z=[],F=0;F<n;)if(s.test(c[F])){var R=F;for(++F;F<n&&s.test(c[F]);++F);z.push(new t(0,R,F))}else{var B=F,G=z.length;for(++F;F<n&&"L"!=c[F];++F);for(var U=B;U<F;)if(a.test(c[U])){B<U&&z.splice(G,0,new t(1,B,U));var V=U;for(++U;U<F&&a.test(c[U]);++U);z.splice(G,0,new t(2,V,U)),B=U}else++U;B<F&&z.splice(G,0,new t(1,B,F))}return 1==z[0].level&&(I=r.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new t(0,0,I[0].length))),1==g(z).level&&(I=r.match(/\s+$/))&&(g(z).to-=I[0].length,z.push(new t(0,n-I[0].length,n))),2==z[0].level&&z.unshift(new t(1,z[0].to,z[0].to)),z[0].level!=g(z).level&&z.push(new t(z[0].level,n,n)),z}}(),Il=[],zl=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Il).concat(r)}},Fl=function(){if(rl&&nl<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),Rl=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");l!=-1?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Bl=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Gl=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ul=null,Vl={},Kl={},jl={},Xl=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Xl.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t,r=this.string.charAt(this.pos);if(t="string"==typeof e?r==e:r&&(e.test?e.test(r):e(r)))return++this.pos,r},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=c(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return c(this.string,null,this.tabSize)-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}},Pe(at),at.prototype.lineNo=function(){return A(this)};var Yl,_l={},$l={},ql=null,Zl=null,Ql={left:0,right:0,top:0,bottom:0},Jl=0,es=null;rl?es=-.53:Jo?es=15:ll?es=-.7:al&&(es=-1/3);var ts=function(e,t,r){this.cm=r;var i=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),zl(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),zl(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,rl&&nl<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ts.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},ts.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},ts.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},ts.prototype.zeroWidthHack=function(){var e=dl&&!ul?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new f,this.disableVert=new f},ts.prototype.enableZeroWidthBar=function(e,t){function r(){var n=e.getBoundingClientRect(),i=document.elementFromPoint(n.left+1,n.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},ts.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var rs=function(){};rs.prototype.update=function(){return{bottom:0,right:0}},rs.prototype.setScrollLeft=function(){},rs.prototype.setScrollTop=function(){},rs.prototype.clear=function(){};var ns={native:ts,null:rs},is=0,os=function(e,t,r){var n=e.display;this.viewport=t,this.visible=zr(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Kt(e),this.force=r,this.dims=yr(e),this.events=[]};os.prototype.signal=function(e,t){He(e,t)&&this.events.push(arguments)},os.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Oe.apply(null,e.events[t])},On.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var n=t.ranges[r],i=e.ranges[r];if(0!=P(n.anchor,i.anchor)||0!=P(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=this,t=[],r=0;r<this.ranges.length;r++)t[r]=new Wn(E(e.ranges[r].anchor),E(e.ranges[r].head));return new On(t,this.primIndex)},somethingSelected:function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},contains:function(e,t){var r=this;t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=r.ranges[n];if(P(t,i.from())>=0&&P(e,i.to())<=0)return n}return-1}},Wn.prototype={from:function(){return z(this.anchor,this.head)},to:function(){return I(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}},Di.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=this,n=e,i=e+t;n<i;++n){var o=r.lines[n];r.height-=o.height,ct(o),Lt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){var n=this;this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=n},iterN:function(e,t,r){for(var n=this,i=e+t;e<i;++e)if(r(n.lines[e]))return!0}},Hi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var r=this;this.size-=t;for(var n=0;n<this.children.length;++n){var i=r.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),s=i.height;if(i.removeInner(e,l),r.height-=s-i.height,o==l&&(r.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Di))){var a=[];this.collapse(a),this.children=[new Di(a)],this.children[0].parent=this}},collapse:function(e){for(var t=this,r=0;r<this.children.length;++r)t.children[r].collapse(e)},insertInner:function(e,t,r){var n=this;this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var u=new Di(o.lines.slice(a,a+=25));o.height-=u.height,n.children.splice(++i,0,u),u.parent=n}o.lines=o.lines.slice(0,s),n.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Hi(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=h(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Hi(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=this,i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<l){var s=Math.min(t,l-e);if(o.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=l}}},Pe(Pi),Pi.prototype.clear=function(){var e=this,t=this.doc.cm,r=this.line.widgets,n=this.line,i=A(n);if(null!=i&&r){for(var o=0;o<r.length;++o)r[o]==e&&r.splice(o--,1);r.length||(n.widgets=null);var l=Ft(this);N(n,Math.max(0,n.height-l)),t&&un(t,function(){Ei(t,n,-l),pn(t,i,"widget")})}},Pi.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=Ft(this)-e;n&&(N(r,r.height+n),t&&un(t,function(){t.curOp.forceUpdate=!0,Ei(t,r,n)}))};var ls=0;Pe(zi),zi.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&en(t),He(this,"clear")){var n=this.find();n&&Lt(this,"clear",n.from,n.to)}for(var i=null,o=null,l=0;l<this.lines.length;++l){var s=e.lines[l],a=j(s.markedSpans,e);t&&!e.collapsed?pn(t,A(s),"text"):t&&(null!=a.to&&(o=A(s)),null!=a.from&&(i=A(s))),s.markedSpans=X(s.markedSpans,a),null==a.from&&e.collapsed&&!he(e.doc,s)&&t&&N(s,vr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=ae(e.lines[u]),f=ge(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&dn(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&pi(t.doc)),t&&Lt(t,"markerCleared",t,this),r&&tn(t),this.parent&&this.parent.clear()}},zi.prototype.find=function(e,t){var r=this;null==e&&"bookmark"==this.type&&(e=1);for(var n,i,o=0;o<this.lines.length;++o){var l=r.lines[o],s=j(l.markedSpans,r);if(null!=s.from&&(n=H(t?l:A(l),s.from),e==-1))return n;if(null!=s.to&&(i=H(t?l:A(l),s.to),1==e))return i}return n&&{from:n,to:i}},zi.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&un(r,function(){var n=e.line,i=A(e.line),o=qt(r,i);if(o&&(nr(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!he(t.doc,n)&&null!=t.height){var l=t.height;t.height=null;var s=Ft(t)-l;s&&N(n,n.height+s)}})},zi.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&h(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},zi.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Pe(Ri),Ri.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();Lt(this,"clear")}},Ri.prototype.find=function(e,t){return this.primary.find(e,t)};var ss=0,as=function(e,t,r,n){if(!(this instanceof as))return new as(e,t,r,n);null==r&&(r=0),Hi.call(this,[new Di([new at("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=H(r,0);this.sel=Hn(i),this.history=new jn(null),this.id=++ss,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Un(this,{from:i,to:i,text:e}),fi(this,Hn(i),Ml)};as.prototype=b(Hi.prototype,{constructor:as,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=k(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:hn(function(e){var t=H(this.first,0),r=this.first+this.size-1;xi(this,{from:t,to:H(r,T(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),fi(this,Hn(t))}),replaceRange:function(e,t,r,n){t=R(this,t),r=r?R(this,r):t,ki(this,e,t,r,n)},getRange:function(e,t,r){var n=M(this,R(this,e),R(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(W(this,e))return T(this,e)},getLineNumber:function(e){return A(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=T(this,e)),ae(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return R(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:hn(function(e,t,r){ai(this,R(this,"number"==typeof e?H(e,t||0):e),null,r)}),setSelection:hn(function(e,t,r){ai(this,R(this,e),R(this,t||e),r)}),extendSelection:hn(function(e,t,r){oi(this,R(this,e),t&&R(this,t),r)}),extendSelections:hn(function(e,t){li(this,G(this,e),t)}),extendSelectionsBy:hn(function(e,t){var r=v(this.sel.ranges,e);li(this,G(this,r),t)}),setSelections:hn(function(e,t,r){var n=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Wn(R(n,e[o].anchor),R(n,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),fi(this,Dn(i,t),r)}}),addSelection:hn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Wn(R(this,e),R(this,t||e))),fi(this,Dn(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this,n=this.sel.ranges,i=0;i<n.length;i++){var o=M(r,n[i].from(),n[i].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,r=[],n=this.sel.ranges,i=0;i<n.length;i++){var o=M(t,n[i].from(),n[i].to());e!==!1&&(o=o.join(e||t.lineSeparator())),r[i]=o}return r},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:hn(function(e,t,r){for(var n=this,i=[],o=this.sel,l=0;l<o.ranges.length;l++){var s=o.ranges[l];i[l]={from:s.from(),to:s.to(),text:n.splitLines(e[l]),origin:r}}for(var a=t&&"end"!=t&&Fn(this,i,t),u=i.length-1;u>=0;u--)xi(n,i[u]);a?ci(this,a):this.cm&&Qr(this.cm)}),undo:hn(function(){Si(this,"undo")}),redo:hn(function(){Si(this,"redo")}),undoSelection:hn(function(){Si(this,"undo",!0)}),redoSelection:hn(function(){Si(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new jn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ni(this.history.done),undone:ni(this.history.undone)}},setHistory:function(e){var t=this.history=new jn(this.history.maxGeneration);t.done=ni(e.done.slice(0),null,!0),t.undone=ni(e.undone.slice(0),null,!0)},setGutterMarker:hn(function(e,t,r){return Wi(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&C(n)&&(e.gutterMarkers=null),!0})}),clearGutter:hn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Wi(t,r,"gutter",function(){return r.gutterMarkers[e]=null,C(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!W(this,e))return null;if(t=e,e=T(this,e),!e)return null}else if(t=A(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:hn(function(t,r,n){return Wi(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(t[i]){if(e(n).test(t[i]))return!1;
t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:hn(function(t,r,n){return Wi(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==n)t[i]=null;else{var l=o.match(e(n));if(!l)return!1;var s=l.index+l[0].length;t[i]=o.slice(0,l.index)+(l.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:hn(function(e,t,r){return Ii(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Fi(this,R(this,e),R(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=R(this,e),Fi(this,e,e,r,"bookmark")},findMarksAt:function(e){e=R(this,e);var t=[],r=T(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=R(this,e),t=R(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;return o>e?(t=e,!0):(e-=o,void++r)}),R(this,H(r,t))},indexFromPos:function(e){e=R(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new as(k(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new as(k(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ui(n,Gi(this)),n},unlinkDoc:function(e){var t=this;if(e instanceof Wo&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=t.linked[r];if(n.doc==e){t.linked.splice(r,1),e.unlinkDoc(t),Vi(Gi(t));break}}if(e.history==this.history){var i=[e.id];Vn(e,function(e){return i.push(e.id)},!0),e.history=new jn(null),e.history.done=ni(this.history.done,i),e.history.undone=ni(this.history.undone,i)}},iterLinkedDocs:function(e){Vn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Rl(e)},lineSeparator:function(){return this.lineSep||"\n"}}),as.prototype.eachLine=as.prototype.iter;for(var us=0,cs=!1,fs={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},hs=0;hs<10;hs++)fs[hs+48]=fs[hs+96]=String(hs);for(var ds=65;ds<=90;ds++)fs[ds]=String.fromCharCode(ds);for(var ps=1;ps<=12;ps++)fs[ps+111]=fs[ps+63235]="F"+ps;var gs={};gs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},gs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},gs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},gs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},gs.default=dl?gs.macDefault:gs.pcDefault;var vs,ms,ys={selectAll:bi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ml)},killLine:function(e){return io(e,function(t){if(t.empty()){var r=T(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:H(t.head.line+1,0)}:{from:t.head,to:H(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return io(e,function(t){return{from:H(t.from().line,0),to:R(e.doc,H(t.to().line+1,0))}})},delLineLeft:function(e){return io(e,function(e){return{from:H(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return io(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return io(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(H(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(H(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return so(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return lo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Nl)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Nl)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?so(e,t.head):n},Nl)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=c(e.getLine(o.line),o.ch,n);t.push(p(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return un(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=T(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new H(i.line,i.ch-1)),i.ch>0)i=new H(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),H(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=T(e.doc,i.line-1).text;l&&(i=new H(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),H(i.line-1,l.length-1),i,"+transpose"))}r.push(new Wn(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return un(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Qr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},bs=new f,ws=null,xs={toString:function(){return"CodeMirror.Init"}},Cs={},Ss={};Wo.defaults=Cs,Wo.optionHandlers=Ss;var Ls=[];Wo.defineInitHook=function(e){return Ls.push(e)};var Ts=null,Ms=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new f,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ms.prototype.init=function(e){function t(e){if(!We(i,e)){if(i.somethingSelected())Po({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Fo(i);Po({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Ml),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=Ts.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var l=Bo(),s=l.firstChild;i.display.lineSpace.insertBefore(l,i.display.lineSpace.firstChild),s.value=Ts.text.join("\n");var a=document.activeElement;xl(s),setTimeout(function(){i.display.lineSpace.removeChild(l),a.focus(),a==o&&n.showPrimarySelection()},50)}}var r=this,n=this,i=n.cm,o=n.div=e.lineDiv;Ro(o,i.options.spellcheck),zl(o,"paste",function(e){We(i,e)||Io(e,i)||nl<=11&&setTimeout(cn(i,function(){n.pollContent()||dn(i)}),20)}),zl(o,"compositionstart",function(e){r.composing={data:e.data,done:!1}}),zl(o,"compositionupdate",function(e){r.composing||(r.composing={data:e.data,done:!1})}),zl(o,"compositionend",function(e){r.composing&&(e.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),zl(o,"touchstart",function(){return n.forceCompositionEnd()}),zl(o,"input",function(){r.composing||r.readFromDOMSoon()}),zl(o,"copy",t),zl(o,"cut",t)},Ms.prototype.prepareSelection=function(){var e=Tr(this.cm,!1);return e.focus=this.cm.state.focused,e},Ms.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ms.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=Yo(this.cm,e.anchorNode,e.anchorOffset),n=Yo(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=P(z(r,n),t.from())||0!=P(I(r,n),t.to())){var i=Ko(this.cm,t.from()),o=Ko(this.cm,t.to());if(i||o){var l=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var a=l[l.length-1].measure,u=a.maps?a.maps[a.maps.length-1]:a.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:l[0].measure.map[2],offset:0};var c;try{c=ml(i.node,i.offset,o.offset,o.node)}catch(e){}c&&(!Jo&&this.cm.state.focused?(e.collapse(i.node,i.offset),c.collapsed||(e.removeAllRanges(),e.addRange(c))):(e.removeAllRanges(),e.addRange(c)),s&&null==e.anchorNode?e.addRange(s):Jo&&this.startGracePeriod()),this.rememberSelection()}}},Ms.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ms.prototype.showMultipleSelections=function(e){r(this.cm.display.cursorDiv,e.cursors),r(this.cm.display.selectionDiv,e.selection)},Ms.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ms.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return i(this.div,t)},Ms.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ms.prototype.blur=function(){this.div.blur()},Ms.prototype.getField=function(){return this.div},Ms.prototype.supportsTouch=function(){return!0},Ms.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():un(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},Ms.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ms.prototype.pollSelection=function(){if(!this.composing&&null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=Yo(t,e.anchorNode,e.anchorOffset),n=Yo(t,e.focusNode,e.focusOffset);r&&n&&un(t,function(){fi(t.doc,Hn(r,n),Ml),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},Ms.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(0==n.ch&&n.line>e.firstLine()&&(n=H(n.line-1,T(e.doc,n.line-1).length)),i.ch==T(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=H(i.line+1,0)),n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,s;n.line==t.viewFrom||0==(o=Sr(e,n.line))?(l=A(t.view[0].line),s=t.view[0].node):(l=A(t.view[o].line),s=t.view[o-1].node.nextSibling);var a,u,c=Sr(e,i.line);if(c==t.view.length-1?(a=t.viewTo-1,u=t.lineDiv.lastChild):(a=A(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(Xo(e,s,u,l,a)),h=M(e.doc,H(l,0),H(a,T(e.doc,a).text.length));f.length>1&&h.length>1;)if(g(f)==g(h))f.pop(),h.pop(),a--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),l++}for(var d=0,p=0,v=f[0],m=h[0],y=Math.min(v.length,m.length);d<y&&v.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=g(f),w=g(h),x=Math.min(b.length-(1==f.length?d:0),w.length-(1==h.length?d:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;f[f.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var C=H(l,d),S=H(a,h.length?g(h).length-p:0);return f.length>1||f[0]||P(C,S)?(ki(e.doc,f,C,S,"+input"),!0):void 0},Ms.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ms.prototype.reset=function(){this.forceCompositionEnd()},Ms.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.pollContent()||dn(this.cm),this.div.blur(),this.div.focus())},Ms.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}!e.cm.isReadOnly()&&e.pollContent()||un(e.cm,function(){return dn(e.cm)})},80))},Ms.prototype.setUneditable=function(e){e.contentEditable="false"},Ms.prototype.onKeyPress=function(e){e.preventDefault(),this.cm.isReadOnly()||cn(this.cm,Eo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},Ms.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ms.prototype.onContextMenu=function(){},Ms.prototype.resetPosition=function(){},Ms.prototype.needsContentAttribute=!0;var ks=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new f,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};ks.prototype.init=function(e){function t(e){if(!We(i,e)){if(i.somethingSelected())Po({lineWise:!1,text:i.getSelections()}),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,l.value=Ts.text.join("\n"),xl(l));else{if(!i.options.lineWiseCopyCut)return;var t=Fo(i);Po({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Ml):(n.prevInput="",l.value=t.text.join("\n"),xl(l))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var r=this,n=this,i=this.cm,o=this.wrapper=Bo(),l=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),fl&&(l.style.width="0px"),zl(l,"input",function(){rl&&nl>=9&&r.hasSelection&&(r.hasSelection=null),n.poll()}),zl(l,"paste",function(e){We(i,e)||Io(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),zl(l,"cut",t),zl(l,"copy",t),zl(e.scroller,"paste",function(t){Rt(e,t)||We(i,t)||(i.state.pasteIncoming=!0,n.focus())}),zl(e.lineSpace,"selectstart",function(t){Rt(e,t)||Ee(t)}),zl(l,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),zl(l,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ks.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Tr(e);if(e.options.moveInputWithCursor){var i=fr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},ks.prototype.showSelection=function(e){var t=this.cm,n=t.display;r(n.cursorDiv,e.cursors),r(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ks.prototype.reset=function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=Gl&&(o.to().line-o.from().line>100||(r=n.getSelection()).length>1e3);var l=t?"-":r||n.getSelection();this.textarea.value=l,n.state.focused&&xl(this.textarea),rl&&nl>=9&&(this.hasSelection=l)}else e||(this.prevInput=this.textarea.value="",rl&&nl>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},ks.prototype.getField=function(){return this.textarea},ks.prototype.supportsTouch=function(){return!1},ks.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!hl||o()!=this.textarea))try{this.textarea.focus()}catch(e){}},ks.prototype.blur=function(){this.textarea.blur()},ks.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ks.prototype.receivedFocus=function(){this.slowPoll()},ks.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ks.prototype.fastPoll=function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},ks.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Bl(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(rl&&nl>=9&&this.hasSelection===i||dl&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(n.length,i.length);l<s&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return un(t,function(){Eo(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ks.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ks.prototype.onKeyPress=function(){rl&&nl>=9&&(this.hasSelection=null),this.fastPoll()},ks.prototype.onContextMenu=function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=f,l.style.cssText=c,rl&&nl<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart){(!rl||rl&&nl<9)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?cn(i,bi)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):o.input.reset()};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea,s=Cr(i,e),a=o.scroller.scrollTop;if(s&&!sl){var u=i.options.resetSelectionOnContextMenu;u&&i.doc.sel.contains(s)==-1&&cn(i,fi)(i.doc,Hn(s),Ml);var c=l.style.cssText,f=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var h=n.wrapper.getBoundingClientRect();l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(rl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(il&&(d=window.scrollY),o.input.focus(),il&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),rl&&nl>=9&&t(),bl){Fe(e);var p=function(){Ae(window,"mouseup",p),setTimeout(r,20)};zl(window,"mouseup",p)}else setTimeout(r,50)}},ks.prototype.readOnlyChanged=function(e){e||this.reset()},ks.prototype.setUneditable=function(){},ks.prototype.needsContentAttribute=!1,ko(Wo),Go(Wo);var Ns="iter insert remove copy getEditor constructor".split(" ");for(var As in as.prototype)as.prototype.hasOwnProperty(As)&&h(Ns,As)<0&&(Wo.prototype[As]=function(e){return function(){return e.apply(this.doc,arguments)}}(as.prototype[As]));return Pe(as),Wo.inputStyles={textarea:ks,contenteditable:Ms},Wo.defineMode=function(e){Wo.defaults.mode||"null"==e||(Wo.defaults.mode=e),Ke.apply(this,arguments)},Wo.defineMIME=je,Wo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Wo.defineMIME("text/plain","null"),Wo.defineExtension=function(e,t){Wo.prototype[e]=t},Wo.defineDocExtension=function(e,t){as.prototype[e]=t},Wo.fromTextArea=$o,qo(Wo),Wo.version="5.23.0",Wo})},{}],65:[function(require,module,exports){"use strict";function GraphQLError(r,e,o,a,t,i){i&&i.stack?Object.defineProperty(this,"stack",{value:i.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,GraphQLError):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0});var c=o;if(!c&&e&&e.length>0){var l=e[0];c=l&&l.loc&&l.loc.source}var n=a;!n&&e&&(n=e.filter(function(r){return Boolean(r.loc)}).map(function(r){return r.loc.start})),n&&0===n.length&&(n=void 0);var u=void 0,s=c;s&&n&&(u=n.map(function(r){return(0,_location.getLocation)(s,r)})),Object.defineProperties(this,{message:{value:r,enumerable:!0,writable:!0},locations:{value:u||void 0,enumerable:!0},path:{value:t||void 0,enumerable:!0},nodes:{value:e||void 0},source:{value:c||void 0},positions:{value:n||void 0},originalError:{value:i}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQLError=GraphQLError;var _location=require("../language/location");GraphQLError.prototype=Object.create(Error.prototype,{constructor:{value:GraphQLError},name:{value:"GraphQLError"}})},{"../language/location":86}],66:[function(require,module,exports){"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function formatError(r){return(0,_invariant2.default)(r,"Received null or undefined error."),{message:r.message,locations:r.locations,path:r.path}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatError=formatError;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant)},{"../jsutils/invariant":76}],67:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _GraphQLError=require("./GraphQLError");Object.defineProperty(exports,"GraphQLError",{enumerable:!0,get:function(){return _GraphQLError.GraphQLError}});var _syntaxError=require("./syntaxError");Object.defineProperty(exports,"syntaxError",{enumerable:!0,get:function(){return _syntaxError.syntaxError}});var _locatedError=require("./locatedError");Object.defineProperty(exports,"locatedError",{enumerable:!0,get:function(){return _locatedError.locatedError}});var _formatError=require("./formatError");Object.defineProperty(exports,"formatError",{enumerable:!0,get:function(){return _formatError.formatError}})},{"./GraphQLError":65,"./formatError":66,"./locatedError":68,"./syntaxError":69}],68:[function(require,module,exports){"use strict";function locatedError(r,e,o){if(r&&r.path)return r;var t=r?r.message||String(r):"An unknown error occurred.";return new _GraphQLError.GraphQLError(t,r&&r.nodes||e,r&&r.source,r&&r.positions,o,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.locatedError=locatedError;var _GraphQLError=require("./GraphQLError")},{"./GraphQLError":65}],69:[function(require,module,exports){"use strict";function syntaxError(r,n,o){var t=(0,_location.getLocation)(r,n),e=new _GraphQLError.GraphQLError("Syntax Error "+r.name+" ("+t.line+":"+t.column+") "+o+"\n\n"+highlightSourceAtLocation(r,t),void 0,r,[n]);return e}function highlightSourceAtLocation(r,n){var o=n.line,t=(o-1).toString(),e=o.toString(),a=(o+1).toString(),i=a.length,l=r.body.split(/\r\n|[\n\r]/g);return(o>=2?lpad(i,t)+": "+l[o-2]+"\n":"")+lpad(i,e)+": "+l[o-1]+"\n"+Array(2+i+n.column).join(" ")+"^\n"+(o<l.length?lpad(i,a)+": "+l[o]+"\n":"")}function lpad(r,n){return Array(r-n.length+1).join(" ")+n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.syntaxError=syntaxError;var _location=require("../language/location"),_GraphQLError=require("./GraphQLError")},{"../language/location":86,"./GraphQLError":65}],70:[function(require,module,exports){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function execute(e,r,t,n,i,a){(0,_invariant2.default)(e,"Must provide schema"),(0,_invariant2.default)(r,"Must provide document"),(0,_invariant2.default)(e instanceof _schema.GraphQLSchema,"Schema must be an instance of GraphQLSchema. Also ensure that there are not multiple versions of GraphQL installed in your node_modules directory."),(0,_invariant2.default)(!i||"object"==typeof i,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.");var o=buildExecutionContext(e,r,t,n,i,a);return new Promise(function(e){e(executeOperation(o,o.operation,t))}).then(void 0,function(e){return o.errors.push(e),null}).then(function(e){return o.errors.length?{data:e,errors:o.errors}:{data:e}})}function responsePathAsArray(e){for(var r=[],t=e;t;)r.push(t.key),t=t.prev;return r.reverse()}function addPath(e,r){return{prev:e,key:r}}function buildExecutionContext(e,r,t,n,i,a){var o=[],u=void 0,l=Object.create(null);if(r.definitions.forEach(function(e){switch(e.kind){case Kind.OPERATION_DEFINITION:if(!a&&u)throw new _error.GraphQLError("Must provide operation name if query contains multiple operations.");(!a||e.name&&e.name.value===a)&&(u=e);break;case Kind.FRAGMENT_DEFINITION:l[e.name.value]=e;break;default:throw new _error.GraphQLError("GraphQL cannot execute a request containing a "+e.kind+".",[e])}}),!u)throw a?new _error.GraphQLError('Unknown operation named "'+a+'".'):new _error.GraphQLError("Must provide an operation.");var s=(0,_values.getVariableValues)(e,u.variableDefinitions||[],i||{});return{schema:e,fragments:l,rootValue:t,contextValue:n,operation:u,variableValues:s,errors:o}}function executeOperation(e,r,t){var n=getOperationRootType(e.schema,r),i=collectFields(e,n,r.selectionSet,Object.create(null),Object.create(null)),a=void 0;return"mutation"===r.operation?executeFieldsSerially(e,n,t,a,i):executeFields(e,n,t,a,i)}function getOperationRootType(e,r){switch(r.operation){case"query":return e.getQueryType();case"mutation":var t=e.getMutationType();if(!t)throw new _error.GraphQLError("Schema is not configured for mutations",[r]);return t;case"subscription":var n=e.getSubscriptionType();if(!n)throw new _error.GraphQLError("Schema is not configured for subscriptions",[r]);return n;default:throw new _error.GraphQLError("Can only execute queries, mutations and subscriptions",[r])}}function executeFieldsSerially(e,r,t,n,i){return Object.keys(i).reduce(function(a,o){return a.then(function(a){var u=i[o],l=addPath(n,o),s=resolveField(e,r,t,u,l);return void 0===s?a:isThenable(s)?s.then(function(e){return a[o]=e,a}):(a[o]=s,a)})},Promise.resolve({}))}function executeFields(e,r,t,n,i){var a=!1,o=Object.keys(i).reduce(function(o,u){var l=i[u],s=addPath(n,u),c=resolveField(e,r,t,l,s);return void 0===c?o:(o[u]=c,isThenable(c)&&(a=!0),o)},Object.create(null));return a?promiseForObject(o):o}function collectFields(e,r,t,n,i){for(var a=0;a<t.selections.length;a++){var o=t.selections[a];switch(o.kind){case Kind.FIELD:if(!shouldIncludeNode(e,o.directives))continue;var u=getFieldEntryKey(o);n[u]||(n[u]=[]),n[u].push(o);break;case Kind.INLINE_FRAGMENT:if(!shouldIncludeNode(e,o.directives)||!doesFragmentConditionMatch(e,o,r))continue;collectFields(e,r,o.selectionSet,n,i);
break;case Kind.FRAGMENT_SPREAD:var l=o.name.value;if(i[l]||!shouldIncludeNode(e,o.directives))continue;i[l]=!0;var s=e.fragments[l];if(!s||!doesFragmentConditionMatch(e,s,r))continue;collectFields(e,r,s.selectionSet,n,i)}}return n}function shouldIncludeNode(e,r){var t=r&&(0,_find2.default)(r,function(e){return e.name.value===_directives.GraphQLSkipDirective.name});if(t){var n=(0,_values.getArgumentValues)(_directives.GraphQLSkipDirective,t,e.variableValues),i=n.if;if(i===!0)return!1}var a=r&&(0,_find2.default)(r,function(e){return e.name.value===_directives.GraphQLIncludeDirective.name});if(a){var o=(0,_values.getArgumentValues)(_directives.GraphQLIncludeDirective,a,e.variableValues),u=o.if;if(u===!1)return!1}return!0}function doesFragmentConditionMatch(e,r,t){var n=r.typeCondition;if(!n)return!0;var i=(0,_typeFromAST.typeFromAST)(e.schema,n);if(i===t)return!0;if((0,_definition.isAbstractType)(i)){var a=i;return e.schema.isPossibleType(a,t)}return!1}function promiseForObject(e){var r=Object.keys(e),t=r.map(function(r){return e[r]});return Promise.all(t).then(function(e){return e.reduce(function(e,t,n){return e[r[n]]=t,e},Object.create(null))})}function getFieldEntryKey(e){return e.alias?e.alias.value:e.name.value}function resolveField(e,r,t,n,i){var a=n[0],o=a.name.value,u=getFieldDef(e.schema,r,o);if(u){var l=u.type,s=u.resolve||defaultFieldResolver,c=e.contextValue,f={fieldName:o,fieldNodes:n,returnType:l,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues},p=resolveOrError(e,u,a,s,t,c,f);return completeValueCatchingError(e,l,n,f,i,p)}}function resolveOrError(e,r,t,n,i,a,o){try{var u=(0,_values.getArgumentValues)(r,t,e.variableValues);return n(i,u,a,o)}catch(e){return e instanceof Error?e:new Error(e)}}function completeValueCatchingError(e,r,t,n,i,a){if(r instanceof _definition.GraphQLNonNull)return completeValueWithLocatedError(e,r,t,n,i,a);try{var o=completeValueWithLocatedError(e,r,t,n,i,a);return isThenable(o)?o.then(void 0,function(r){return e.errors.push(r),Promise.resolve(null)}):o}catch(r){return e.errors.push(r),null}}function completeValueWithLocatedError(e,r,t,n,i,a){try{var o=completeValue(e,r,t,n,i,a);return isThenable(o)?o.then(void 0,function(e){return Promise.reject((0,_error.locatedError)(e,t,responsePathAsArray(i)))}):o}catch(e){throw(0,_error.locatedError)(e,t,responsePathAsArray(i))}}function completeValue(e,r,t,n,i,a){if(isThenable(a))return a.then(function(a){return completeValue(e,r,t,n,i,a)});if(a instanceof Error)throw a;if(r instanceof _definition.GraphQLNonNull){var o=completeValue(e,r.ofType,t,n,i,a);if(null===o)throw new Error("Cannot return null for non-nullable field "+n.parentType.name+"."+n.fieldName+".");return o}if((0,_isNullish2.default)(a))return null;if(r instanceof _definition.GraphQLList)return completeListValue(e,r,t,n,i,a);if(r instanceof _definition.GraphQLScalarType||r instanceof _definition.GraphQLEnumType)return completeLeafValue(r,a);if(r instanceof _definition.GraphQLInterfaceType||r instanceof _definition.GraphQLUnionType)return completeAbstractValue(e,r,t,n,i,a);if(r instanceof _definition.GraphQLObjectType)return completeObjectValue(e,r,t,n,i,a);throw new Error('Cannot complete value of unexpected type "'+String(r)+'".')}function completeListValue(e,r,t,n,i,a){(0,_invariant2.default)((0,_iterall.isCollection)(a),"Expected Iterable, but did not find one for field "+n.parentType.name+"."+n.fieldName+".");var o=r.ofType,u=!1,l=[];return(0,_iterall.forEach)(a,function(r,a){var s=addPath(i,a),c=completeValueCatchingError(e,o,t,n,s,r);!u&&isThenable(c)&&(u=!0),l.push(c)}),u?Promise.all(l):l}function completeLeafValue(e,r){(0,_invariant2.default)(e.serialize,"Missing serialize method on type");var t=e.serialize(r);if((0,_isNullish2.default)(t))throw new Error('Expected a value of type "'+String(e)+'" but received: '+String(r));return t}function completeAbstractValue(e,r,t,n,i,a){var o=r.resolveType?r.resolveType(a,e.contextValue,n):defaultResolveTypeFn(a,e.contextValue,n,r);if(isThenable(o)){var u=o;return u.then(function(o){return completeObjectValue(e,ensureValidRuntimeType(o,e,r,t,n,a),t,n,i,a)})}return completeObjectValue(e,ensureValidRuntimeType(o,e,r,t,n,a),t,n,i,a)}function ensureValidRuntimeType(e,r,t,n,i,a){var o="string"==typeof e?r.schema.getType(e):e;if(!(o instanceof _definition.GraphQLObjectType))throw new _error.GraphQLError("Abstract type "+t.name+" must resolve to an Object type at "+("runtime for field "+i.parentType.name+"."+i.fieldName+" with ")+('value "'+String(a)+'", received "'+String(o)+'".'),n);if(!r.schema.isPossibleType(t,o))throw new _error.GraphQLError('Runtime Object type "'+o.name+'" is not a possible type '+('for "'+t.name+'".'),n);return o}function completeObjectValue(e,r,t,n,i,a){if(r.isTypeOf){var o=r.isTypeOf(a,e.contextValue,n);if(isThenable(o))return o.then(function(o){if(!o)throw invalidReturnTypeError(r,a,t);return collectAndExecuteSubfields(e,r,t,n,i,a)});if(!o)throw invalidReturnTypeError(r,a,t)}return collectAndExecuteSubfields(e,r,t,n,i,a)}function invalidReturnTypeError(e,r,t){return new _error.GraphQLError('Expected value of type "'+e.name+'" but got: '+String(r)+".",t)}function collectAndExecuteSubfields(e,r,t,n,i,a){for(var o=Object.create(null),u=Object.create(null),l=0;l<t.length;l++){var s=t[l].selectionSet;s&&(o=collectFields(e,r,s,o,u))}return executeFields(e,r,a,i,o)}function defaultResolveTypeFn(e,r,t,n){for(var i=t.schema.getPossibleTypes(n),a=[],o=0;o<i.length;o++){var u=i[o];if(u.isTypeOf){var l=u.isTypeOf(e,r,t);if(isThenable(l))a[o]=l;else if(l)return u}}if(a.length)return Promise.all(a).then(function(e){for(var r=0;r<e.length;r++)if(e[r])return i[r]})}function isThenable(e){return"object"==typeof e&&null!==e&&"function"==typeof e.then}function getFieldDef(e,r,t){return t===_introspection.SchemaMetaFieldDef.name&&e.getQueryType()===r?_introspection.SchemaMetaFieldDef:t===_introspection.TypeMetaFieldDef.name&&e.getQueryType()===r?_introspection.TypeMetaFieldDef:t===_introspection.TypeNameMetaFieldDef.name?_introspection.TypeNameMetaFieldDef:r.getFields()[t]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultFieldResolver=void 0,exports.execute=execute,exports.responsePathAsArray=responsePathAsArray;var _iterall=require("iterall"),_error=require("../error"),_find=require("../jsutils/find"),_find2=_interopRequireDefault(_find),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_typeFromAST=require("../utilities/typeFromAST"),_kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),_values=require("./values"),_definition=require("../type/definition"),_schema=require("../type/schema"),_introspection=require("../type/introspection"),_directives=require("../type/directives"),defaultFieldResolver=exports.defaultFieldResolver=function(e,r,t,n){if("object"==typeof e||"function"==typeof e){var i=e[n.fieldName];return"function"==typeof i?e[n.fieldName](r,t,n):i}}},{"../error":67,"../jsutils/find":75,"../jsutils/invariant":76,"../jsutils/isNullish":78,"../language/kinds":84,"../type/definition":91,"../type/directives":92,"../type/introspection":94,"../type/schema":96,"../utilities/typeFromAST":114,"./values":72,iterall:144}],71:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _execute=require("./execute");Object.defineProperty(exports,"execute",{enumerable:!0,get:function(){return _execute.execute}}),Object.defineProperty(exports,"defaultFieldResolver",{enumerable:!0,get:function(){return _execute.defaultFieldResolver}}),Object.defineProperty(exports,"responsePathAsArray",{enumerable:!0,get:function(){return _execute.responsePathAsArray}})},{"./execute":70}],72:[function(require,module,exports){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.default=e,r}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getVariableValues(e,r,i){for(var a=Object.create(null),t=0;t<r.length;t++){var l=r[t],n=l.variable.name.value,u=(0,_typeFromAST.typeFromAST)(e,l.type);if(!(0,_definition.isInputType)(u))throw new _error.GraphQLError('Variable "$'+n+'" expected value of type '+('"'+(0,_printer.print)(l.type)+'" which cannot be used as an input type.'),[l.type]);u=u;var o=i[n];if((0,_isInvalid2.default)(o)){var f=l.defaultValue;if(f&&(a[n]=(0,_valueFromAST.valueFromAST)(f,u)),u instanceof _definition.GraphQLNonNull)throw new _error.GraphQLError('Variable "$'+n+'" of required type '+('"'+String(u)+'" was not provided.'),[l])}else{var s=(0,_isValidJSValue.isValidJSValue)(o,u);if(s.length){var d=s?"\n"+s.join("\n"):"";throw new _error.GraphQLError('Variable "$'+n+'" got invalid value '+(JSON.stringify(o)+"."+d),[l])}var v=coerceValue(u,o);(0,_invariant2.default)(!(0,_isInvalid2.default)(v),"Should have reported error."),a[n]=v}}return a}function getArgumentValues(e,r,i){var a=e.args,t=r.arguments;if(!a||!t)return{};for(var l=Object.create(null),n=(0,_keyMap2.default)(t,function(e){return e.name.value}),u=0;u<a.length;u++){var o=a[u],f=o.name,s=o.type,d=n[f],v=o.defaultValue;if(d)if(d.value.kind===Kind.VARIABLE){var p=d.value.name.value;if(i&&!(0,_isInvalid2.default)(i[p]))l[f]=i[p];else if((0,_isInvalid2.default)(v)){if(s instanceof _definition.GraphQLNonNull)throw new _error.GraphQLError('Argument "'+f+'" of required type "'+String(s)+'" was '+('provided the variable "$'+p+'" which was not provided ')+"a runtime value.",[d.value])}else l[f]=v}else{var _=d.value,c=(0,_valueFromAST.valueFromAST)(_,s,i);if((0,_isInvalid2.default)(c)){var V=(0,_isValidLiteralValue.isValidLiteralValue)(s,_),h=V?"\n"+V.join("\n"):"";throw new _error.GraphQLError('Argument "'+f+'" got invalid value '+(0,_printer.print)(_)+"."+h,[d.value])}l[f]=c}else if((0,_isInvalid2.default)(v)){if(s instanceof _definition.GraphQLNonNull)throw new _error.GraphQLError('Argument "'+f+'" of required type '+('"'+String(s)+'" was not provided.'),[r])}else l[f]=v}return l}function coerceValue(e,r){var i=r;if(!(0,_isInvalid2.default)(i)){if(e instanceof _definition.GraphQLNonNull){if(null===i)return;return coerceValue(e.ofType,i)}if(null===i)return null;if(e instanceof _definition.GraphQLList){var a=e.ofType;if((0,_iterall.isCollection)(i)){var t=[],l=(0,_iterall.createIterator)(i);if(!l)return;for(var n=void 0;!(n=l.next()).done;){var u=coerceValue(a,n.value);if((0,_isInvalid2.default)(u))return;t.push(u)}return t}var o=coerceValue(a,i);if((0,_isInvalid2.default)(o))return;return[coerceValue(a,i)]}if(e instanceof _definition.GraphQLInputObjectType){if("object"!=typeof i)return;for(var f=Object.create(null),s=e.getFields(),d=Object.keys(s),v=0;v<d.length;v++){var p=d[v],_=s[p];if((0,_isInvalid2.default)(i[p]))if((0,_isInvalid2.default)(_.defaultValue)){if(_.type instanceof _definition.GraphQLNonNull)return}else f[p]=_.defaultValue;else{var c=coerceValue(_.type,i[p]);if((0,_isInvalid2.default)(c))return;f[p]=c}}return f}(0,_invariant2.default)(e instanceof _definition.GraphQLScalarType||e instanceof _definition.GraphQLEnumType,"Must be input type");var V=e.parseValue(i);if(!(0,_isNullish2.default)(V))return V}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getVariableValues=getVariableValues,exports.getArgumentValues=getArgumentValues;var _iterall=require("iterall"),_error=require("../error"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_isInvalid=require("../jsutils/isInvalid"),_isInvalid2=_interopRequireDefault(_isInvalid),_keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_typeFromAST=require("../utilities/typeFromAST"),_valueFromAST=require("../utilities/valueFromAST"),_isValidJSValue=require("../utilities/isValidJSValue"),_isValidLiteralValue=require("../utilities/isValidLiteralValue"),_kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),_printer=require("../language/printer"),_definition=require("../type/definition")},{"../error":67,"../jsutils/invariant":76,"../jsutils/isInvalid":77,"../jsutils/isNullish":78,"../jsutils/keyMap":79,"../language/kinds":84,"../language/printer":88,"../type/definition":91,"../utilities/isValidJSValue":109,"../utilities/isValidLiteralValue":110,"../utilities/typeFromAST":114,"../utilities/valueFromAST":115,iterall:144}],73:[function(require,module,exports){"use strict";function graphql(e,r,a,t,u,i){return new Promise(function(n){var o=new _source.Source(r||"","GraphQL request"),s=(0,_parser.parse)(o),c=(0,_validate.validate)(e,s);n(c.length>0?{errors:c}:(0,_execute.execute)(e,s,a,t,u,i))}).then(void 0,function(e){return{errors:[e]}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.graphql=graphql;var _source=require("./language/source"),_parser=require("./language/parser"),_validate=require("./validation/validate"),_execute=require("./execution/execute")},{"./execution/execute":70,"./language/parser":87,"./language/source":89,"./validation/validate":143}],74:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _graphql=require("./graphql");Object.defineProperty(exports,"graphql",{enumerable:!0,get:function(){return _graphql.graphql}});var _type=require("./type");Object.defineProperty(exports,"GraphQLSchema",{enumerable:!0,get:function(){return _type.GraphQLSchema}}),Object.defineProperty(exports,"GraphQLScalarType",{enumerable:!0,get:function(){return _type.GraphQLScalarType}}),Object.defineProperty(exports,"GraphQLObjectType",{enumerable:!0,get:function(){return _type.GraphQLObjectType}}),Object.defineProperty(exports,"GraphQLInterfaceType",{enumerable:!0,get:function(){return _type.GraphQLInterfaceType}}),Object.defineProperty(exports,"GraphQLUnionType",{enumerable:!0,get:function(){return _type.GraphQLUnionType}}),Object.defineProperty(exports,"GraphQLEnumType",{enumerable:!0,get:function(){return _type.GraphQLEnumType}}),Object.defineProperty(exports,"GraphQLInputObjectType",{enumerable:!0,get:function(){return _type.GraphQLInputObjectType}}),Object.defineProperty(exports,"GraphQLList",{enumerable:!0,get:function(){return _type.GraphQLList}}),Object.defineProperty(exports,"GraphQLNonNull",{enumerable:!0,get:function(){return _type.GraphQLNonNull}}),Object.defineProperty(exports,"GraphQLDirective",{enumerable:!0,get:function(){return _type.GraphQLDirective}}),Object.defineProperty(exports,"TypeKind",{enumerable:!0,get:function(){return _type.TypeKind}}),Object.defineProperty(exports,"DirectiveLocation",{enumerable:!0,get:function(){return _type.DirectiveLocation}}),Object.defineProperty(exports,"GraphQLInt",{enumerable:!0,get:function(){return _type.GraphQLInt}}),Object.defineProperty(exports,"GraphQLFloat",{enumerable:!0,get:function(){return _type.GraphQLFloat}}),Object.defineProperty(exports,"GraphQLString",{enumerable:!0,get:function(){return _type.GraphQLString}}),Object.defineProperty(exports,"GraphQLBoolean",{enumerable:!0,get:function(){return _type.GraphQLBoolean}}),Object.defineProperty(exports,"GraphQLID",{enumerable:!0,get:function(){return _type.GraphQLID}}),Object.defineProperty(exports,"specifiedDirectives",{enumerable:!0,get:function(){return _type.specifiedDirectives}}),Object.defineProperty(exports,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return _type.GraphQLIncludeDirective}}),Object.defineProperty(exports,"GraphQLSkipDirective",{enumerable:!0,get:function(){return _type.GraphQLSkipDirective}}),Object.defineProperty(exports,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return _type.GraphQLDeprecatedDirective}}),Object.defineProperty(exports,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return _type.DEFAULT_DEPRECATION_REASON}}),Object.defineProperty(exports,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return _type.SchemaMetaFieldDef}}),Object.defineProperty(exports,"TypeMetaFieldDef",{enumerable:!0,get:function(){return _type.TypeMetaFieldDef}}),Object.defineProperty(exports,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return _type.TypeNameMetaFieldDef}}),Object.defineProperty(exports,"__Schema",{enumerable:!0,get:function(){return _type.__Schema}}),Object.defineProperty(exports,"__Directive",{enumerable:!0,get:function(){return _type.__Directive}}),Object.defineProperty(exports,"__DirectiveLocation",{enumerable:!0,get:function(){return _type.__DirectiveLocation}}),Object.defineProperty(exports,"__Type",{enumerable:!0,get:function(){return _type.__Type}}),Object.defineProperty(exports,"__Field",{enumerable:!0,get:function(){return _type.__Field}}),Object.defineProperty(exports,"__InputValue",{enumerable:!0,get:function(){return _type.__InputValue}}),Object.defineProperty(exports,"__EnumValue",{enumerable:!0,get:function(){return _type.__EnumValue}}),Object.defineProperty(exports,"__TypeKind",{enumerable:!0,get:function(){return _type.__TypeKind}}),Object.defineProperty(exports,"isType",{enumerable:!0,get:function(){return _type.isType}}),Object.defineProperty(exports,"isInputType",{enumerable:!0,get:function(){return _type.isInputType}}),Object.defineProperty(exports,"isOutputType",{enumerable:!0,get:function(){return _type.isOutputType}}),Object.defineProperty(exports,"isLeafType",{enumerable:!0,get:function(){return _type.isLeafType}}),Object.defineProperty(exports,"isCompositeType",{enumerable:!0,get:function(){return _type.isCompositeType}}),Object.defineProperty(exports,"isAbstractType",{enumerable:!0,get:function(){return _type.isAbstractType}}),Object.defineProperty(exports,"isNamedType",{enumerable:!0,get:function(){return _type.isNamedType}}),Object.defineProperty(exports,"assertType",{enumerable:!0,get:function(){return _type.assertType}}),Object.defineProperty(exports,"assertInputType",{enumerable:!0,get:function(){return _type.assertInputType}}),Object.defineProperty(exports,"assertOutputType",{enumerable:!0,get:function(){return _type.assertOutputType}}),Object.defineProperty(exports,"assertLeafType",{enumerable:!0,get:function(){return _type.assertLeafType}}),Object.defineProperty(exports,"assertCompositeType",{enumerable:!0,get:function(){return _type.assertCompositeType}}),Object.defineProperty(exports,"assertAbstractType",{enumerable:!0,get:function(){return _type.assertAbstractType}}),Object.defineProperty(exports,"assertNamedType",{enumerable:!0,get:function(){return _type.assertNamedType}}),Object.defineProperty(exports,"getNullableType",{enumerable:!0,get:function(){return _type.getNullableType}}),Object.defineProperty(exports,"getNamedType",{enumerable:!0,get:function(){return _type.getNamedType}});var _language=require("./language");Object.defineProperty(exports,"Source",{enumerable:!0,get:function(){return _language.Source}}),Object.defineProperty(exports,"getLocation",{enumerable:!0,get:function(){return _language.getLocation}}),Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return _language.parse}}),Object.defineProperty(exports,"parseValue",{enumerable:!0,get:function(){return _language.parseValue}}),Object.defineProperty(exports,"parseType",{enumerable:!0,get:function(){return _language.parseType}}),Object.defineProperty(exports,"print",{enumerable:!0,get:function(){return _language.print}}),Object.defineProperty(exports,"visit",{enumerable:!0,get:function(){return _language.visit}}),Object.defineProperty(exports,"visitInParallel",{enumerable:!0,get:function(){return _language.visitInParallel}}),Object.defineProperty(exports,"visitWithTypeInfo",{enumerable:!0,get:function(){return _language.visitWithTypeInfo}}),Object.defineProperty(exports,"Kind",{enumerable:!0,get:function(){return _language.Kind}}),Object.defineProperty(exports,"TokenKind",{enumerable:!0,get:function(){return _language.TokenKind}}),Object.defineProperty(exports,"BREAK",{enumerable:!0,get:function(){return _language.BREAK}});var _execution=require("./execution");Object.defineProperty(exports,"execute",{enumerable:!0,get:function(){return _execution.execute}}),Object.defineProperty(exports,"defaultFieldResolver",{enumerable:!0,get:function(){return _execution.defaultFieldResolver}}),Object.defineProperty(exports,"responsePathAsArray",{enumerable:!0,get:function(){return _execution.responsePathAsArray}});var _validation=require("./validation");Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return _validation.validate}}),Object.defineProperty(exports,"ValidationContext",{enumerable:!0,get:function(){return _validation.ValidationContext}}),Object.defineProperty(exports,"specifiedRules",{enumerable:!0,get:function(){return _validation.specifiedRules}});var _error=require("./error");Object.defineProperty(exports,"GraphQLError",{enumerable:!0,get:function(){return _error.GraphQLError}}),Object.defineProperty(exports,"formatError",{enumerable:!0,get:function(){return _error.formatError}});var _utilities=require("./utilities");Object.defineProperty(exports,"introspectionQuery",{enumerable:!0,get:function(){return _utilities.introspectionQuery}}),Object.defineProperty(exports,"getOperationAST",{enumerable:!0,get:function(){return _utilities.getOperationAST}}),Object.defineProperty(exports,"buildClientSchema",{enumerable:!0,get:function(){return _utilities.buildClientSchema}}),Object.defineProperty(exports,"buildASTSchema",{enumerable:!0,get:function(){return _utilities.buildASTSchema}}),Object.defineProperty(exports,"buildSchema",{enumerable:!0,get:function(){return _utilities.buildSchema}}),Object.defineProperty(exports,"extendSchema",{enumerable:!0,get:function(){return _utilities.extendSchema}}),Object.defineProperty(exports,"printSchema",{enumerable:!0,get:function(){return _utilities.printSchema}}),Object.defineProperty(exports,"printType",{enumerable:!0,get:function(){return _utilities.printType}}),Object.defineProperty(exports,"typeFromAST",{enumerable:!0,get:function(){return _utilities.typeFromAST}}),Object.defineProperty(exports,"valueFromAST",{enumerable:!0,get:function(){return _utilities.valueFromAST}}),Object.defineProperty(exports,"astFromValue",{enumerable:!0,get:function(){return _utilities.astFromValue}}),Object.defineProperty(exports,"TypeInfo",{enumerable:!0,get:function(){return _utilities.TypeInfo}}),Object.defineProperty(exports,"isValidJSValue",{enumerable:!0,get:function(){return _utilities.isValidJSValue}}),Object.defineProperty(exports,"isValidLiteralValue",{enumerable:!0,get:function(){return _utilities.isValidLiteralValue}}),Object.defineProperty(exports,"concatAST",{enumerable:!0,get:function(){return _utilities.concatAST}}),Object.defineProperty(exports,"separateOperations",{enumerable:!0,get:function(){return _utilities.separateOperations}}),Object.defineProperty(exports,"isEqualType",{enumerable:!0,get:function(){return _utilities.isEqualType}}),Object.defineProperty(exports,"isTypeSubTypeOf",{enumerable:!0,get:function(){return _utilities.isTypeSubTypeOf}}),Object.defineProperty(exports,"doTypesOverlap",{enumerable:!0,get:function(){return _utilities.doTypesOverlap}}),Object.defineProperty(exports,"assertValidName",{enumerable:!0,get:function(){return _utilities.assertValidName}}),Object.defineProperty(exports,"findBreakingChanges",{enumerable:!0,get:function(){return _utilities.findBreakingChanges}}),Object.defineProperty(exports,"findDeprecatedUsages",{enumerable:!0,get:function(){return _utilities.findDeprecatedUsages}})},{"./error":67,"./execution":71,"./graphql":73,"./language":83,"./type":93,"./utilities":107,"./validation":116}],75:[function(require,module,exports){"use strict";function find(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=find},{}],76:[function(require,module,exports){"use strict";function invariant(e,r){if(!e)throw new Error(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=invariant},{}],77:[function(require,module,exports){"use strict";function isInvalid(e){return void 0===e||e!==e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isInvalid},{}],78:[function(require,module,exports){"use strict";function isNullish(e){return null===e||void 0===e||e!==e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isNullish},{}],79:[function(require,module,exports){"use strict";function keyMap(e,t){return e.reduce(function(e,r){return e[t(r)]=r,e},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=keyMap},{}],80:[function(require,module,exports){"use strict";function keyValMap(e,t,r){return e.reduce(function(e,u){return e[t(u)]=r(u),e},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=keyValMap},{}],81:[function(require,module,exports){"use strict";function quotedOrList(e){var t=e.slice(0,MAX_LENGTH);return t.map(function(e){return'"'+e+'"'}).reduce(function(e,r,u){return e+(t.length>2?", ":" ")+(u===t.length-1?"or ":"")+r})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=quotedOrList;var MAX_LENGTH=5},{}],82:[function(require,module,exports){"use strict";function suggestionList(t,e){for(var n=Object.create(null),r=e.length,i=t.length/2,o=0;o<r;o++){var a=lexicalDistance(t,e[o]),s=Math.max(i,e[o].length/2,1);a<=s&&(n[e[o]]=a)}return Object.keys(n).sort(function(t,e){return n[t]-n[e]})}function lexicalDistance(t,e){var n=void 0,r=void 0,i=[],o=t.length,a=e.length;for(n=0;n<=o;n++)i[n]=[n];for(r=1;r<=a;r++)i[0][r]=r;for(n=1;n<=o;n++)for(r=1;r<=a;r++){var s=t[n-1]===e[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+s),n>1&&r>1&&t[n-1]===e[r-2]&&t[n-2]===e[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+s))}return i[o][a]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=suggestionList},{}],83:[function(require,module,exports){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BREAK=exports.visitWithTypeInfo=exports.visitInParallel=exports.visit=exports.Source=exports.print=exports.parseType=exports.parseValue=exports.parse=exports.TokenKind=exports.createLexer=exports.Kind=exports.getLocation=void 0;var _location=require("./location");Object.defineProperty(exports,"getLocation",{enumerable:!0,get:function(){return _location.getLocation}});var _lexer=require("./lexer");Object.defineProperty(exports,"createLexer",{enumerable:!0,get:function(){return _lexer.createLexer}}),Object.defineProperty(exports,"TokenKind",{enumerable:!0,get:function(){return _lexer.TokenKind}});var _parser=require("./parser");Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return _parser.parse}}),Object.defineProperty(exports,"parseValue",{enumerable:!0,get:function(){return _parser.parseValue}}),Object.defineProperty(exports,"parseType",{enumerable:!0,get:function(){return _parser.parseType}});var _printer=require("./printer");Object.defineProperty(exports,"print",{enumerable:!0,get:function(){return _printer.print}});var _source=require("./source");Object.defineProperty(exports,"Source",{enumerable:!0,get:function(){return _source.Source}});var _visitor=require("./visitor");Object.defineProperty(exports,"visit",{enumerable:!0,get:function(){return _visitor.visit}}),Object.defineProperty(exports,"visitInParallel",{enumerable:!0,get:function(){return _visitor.visitInParallel}}),Object.defineProperty(exports,"visitWithTypeInfo",{enumerable:!0,get:function(){return _visitor.visitWithTypeInfo}}),Object.defineProperty(exports,"BREAK",{enumerable:!0,get:function(){return _visitor.BREAK}});var _kinds=require("./kinds"),Kind=_interopRequireWildcard(_kinds);exports.Kind=Kind},{"./kinds":84,"./lexer":85,"./location":86,"./parser":87,"./printer":88,"./source":89,"./visitor":90}],84:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.NAME="Name",exports.DOCUMENT="Document",exports.OPERATION_DEFINITION="OperationDefinition",exports.VARIABLE_DEFINITION="VariableDefinition",exports.VARIABLE="Variable",exports.SELECTION_SET="SelectionSet",exports.FIELD="Field",exports.ARGUMENT="Argument",exports.FRAGMENT_SPREAD="FragmentSpread",exports.INLINE_FRAGMENT="InlineFragment",exports.FRAGMENT_DEFINITION="FragmentDefinition",exports.INT="IntValue",exports.FLOAT="FloatValue",exports.STRING="StringValue",exports.BOOLEAN="BooleanValue",exports.NULL="NullValue",exports.ENUM="EnumValue",exports.LIST="ListValue",exports.OBJECT="ObjectValue",exports.OBJECT_FIELD="ObjectField",exports.DIRECTIVE="Directive",exports.NAMED_TYPE="NamedType",exports.LIST_TYPE="ListType",exports.NON_NULL_TYPE="NonNullType",exports.SCHEMA_DEFINITION="SchemaDefinition",exports.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",exports.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",exports.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",exports.FIELD_DEFINITION="FieldDefinition",exports.INPUT_VALUE_DEFINITION="InputValueDefinition",exports.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",exports.UNION_TYPE_DEFINITION="UnionTypeDefinition",exports.ENUM_TYPE_DEFINITION="EnumTypeDefinition",exports.ENUM_VALUE_DEFINITION="EnumValueDefinition",exports.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",exports.TYPE_EXTENSION_DEFINITION="TypeExtensionDefinition",exports.DIRECTIVE_DEFINITION="DirectiveDefinition"},{}],85:[function(require,module,exports){"use strict";function createLexer(e,r){var a=new Tok(SOF,0,0,0,0,null),t={source:e,options:r,lastToken:a,token:a,line:1,lineStart:0,advance:advanceLexer};return t}function advanceLexer(){var e=this.lastToken=this.token;if(e.kind!==EOF){do e=e.next=readToken(this,e);while(e.kind===COMMENT);this.token=e}return e}function getTokenDesc(e){var r=e.value;return r?e.kind+' "'+r+'"':e.kind}function Tok(e,r,a,t,c,n,o){this.kind=e,this.start=r,this.end=a,this.line=t,this.column=c,this.value=o,this.prev=n,this.next=null}function printCharCode(e){return isNaN(e)?EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function readToken(e,r){var a=e.source,t=a.body,c=t.length,n=positionAfterWhitespace(t,r.end,e),o=e.line,s=1+n-e.lineStart;if(n>=c)return new Tok(EOF,c,c,o,s,r);var i=charCodeAt.call(t,n);if(i<32&&9!==i&&10!==i&&13!==i)throw(0,_error.syntaxError)(a,n,"Cannot contain the invalid character "+printCharCode(i)+".");switch(i){case 33:return new Tok(BANG,n,n+1,o,s,r);case 35:return readComment(a,n,o,s,r);case 36:return new Tok(DOLLAR,n,n+1,o,s,r);case 40:return new Tok(PAREN_L,n,n+1,o,s,r);case 41:return new Tok(PAREN_R,n,n+1,o,s,r);case 46:if(46===charCodeAt.call(t,n+1)&&46===charCodeAt.call(t,n+2))return new Tok(SPREAD,n,n+3,o,s,r);break;case 58:return new Tok(COLON,n,n+1,o,s,r);case 61:return new Tok(EQUALS,n,n+1,o,s,r);case 64:return new Tok(AT,n,n+1,o,s,r);case 91:return new Tok(BRACKET_L,n,n+1,o,s,r);case 93:return new Tok(BRACKET_R,n,n+1,o,s,r);case 123:return new Tok(BRACE_L,n,n+1,o,s,r);case 124:return new Tok(PIPE,n,n+1,o,s,r);case 125:return new Tok(BRACE_R,n,n+1,o,s,r);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return readName(a,n,o,s,r);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return readNumber(a,n,i,o,s,r);
case 34:return readString(a,n,o,s,r)}throw(0,_error.syntaxError)(a,n,unexpectedCharacterMessage(i))}function unexpectedCharacterMessage(e){return 39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character "+printCharCode(e)+"."}function positionAfterWhitespace(e,r,a){for(var t=e.length,c=r;c<t;){var n=charCodeAt.call(e,c);if(9===n||32===n||44===n||65279===n)++c;else if(10===n)++c,++a.line,a.lineStart=c;else{if(13!==n)break;10===charCodeAt.call(e,c+1)?c+=2:++c,++a.line,a.lineStart=c}}return c}function readComment(e,r,a,t,c){var n=e.body,o=void 0,s=r;do o=charCodeAt.call(n,++s);while(null!==o&&(o>31||9===o));return new Tok(COMMENT,r,s,a,t,c,slice.call(n,r+1,s))}function readNumber(e,r,a,t,c,n){var o=e.body,s=a,i=r,l=!1;if(45===s&&(s=charCodeAt.call(o,++i)),48===s){if(s=charCodeAt.call(o,++i),s>=48&&s<=57)throw(0,_error.syntaxError)(e,i,"Invalid number, unexpected digit after 0: "+printCharCode(s)+".")}else i=readDigits(e,i,s),s=charCodeAt.call(o,i);return 46===s&&(l=!0,s=charCodeAt.call(o,++i),i=readDigits(e,i,s),s=charCodeAt.call(o,i)),69!==s&&101!==s||(l=!0,s=charCodeAt.call(o,++i),43!==s&&45!==s||(s=charCodeAt.call(o,++i)),i=readDigits(e,i,s)),new Tok(l?FLOAT:INT,r,i,t,c,n,slice.call(o,r,i))}function readDigits(e,r,a){var t=e.body,c=r,n=a;if(n>=48&&n<=57){do n=charCodeAt.call(t,++c);while(n>=48&&n<=57);return c}throw(0,_error.syntaxError)(e,c,"Invalid number, expected digit but got: "+printCharCode(n)+".")}function readString(e,r,a,t,c){for(var n=e.body,o=r+1,s=o,i=0,l="";o<n.length&&null!==(i=charCodeAt.call(n,o))&&10!==i&&13!==i&&34!==i;){if(i<32&&9!==i)throw(0,_error.syntaxError)(e,o,"Invalid character within String: "+printCharCode(i)+".");if(++o,92===i){switch(l+=slice.call(n,s,o-1),i=charCodeAt.call(n,o)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var d=uniCharCode(charCodeAt.call(n,o+1),charCodeAt.call(n,o+2),charCodeAt.call(n,o+3),charCodeAt.call(n,o+4));if(d<0)throw(0,_error.syntaxError)(e,o,"Invalid character escape sequence: "+("\\u"+n.slice(o+1,o+5)+"."));l+=String.fromCharCode(d),o+=4;break;default:throw(0,_error.syntaxError)(e,o,"Invalid character escape sequence: \\"+String.fromCharCode(i)+".")}++o,s=o}}if(34!==i)throw(0,_error.syntaxError)(e,o,"Unterminated string.");return l+=slice.call(n,s,o),new Tok(STRING,r,o+1,a,t,c,l)}function uniCharCode(e,r,a,t){return char2hex(e)<<12|char2hex(r)<<8|char2hex(a)<<4|char2hex(t)}function char2hex(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function readName(e,r,a,t,c){for(var n=e.body,o=n.length,s=r+1,i=0;s!==o&&null!==(i=charCodeAt.call(n,s))&&(95===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122);)++s;return new Tok(NAME,r,s,a,t,c,slice.call(n,r,s))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TokenKind=void 0,exports.createLexer=createLexer,exports.getTokenDesc=getTokenDesc;var _error=require("../error"),SOF="<SOF>",EOF="<EOF>",BANG="!",DOLLAR="$",PAREN_L="(",PAREN_R=")",SPREAD="...",COLON=":",EQUALS="=",AT="@",BRACKET_L="[",BRACKET_R="]",BRACE_L="{",PIPE="|",BRACE_R="}",NAME="Name",INT="Int",FLOAT="Float",STRING="String",COMMENT="Comment",charCodeAt=(exports.TokenKind={SOF:SOF,EOF:EOF,BANG:BANG,DOLLAR:DOLLAR,PAREN_L:PAREN_L,PAREN_R:PAREN_R,SPREAD:SPREAD,COLON:COLON,EQUALS:EQUALS,AT:AT,BRACKET_L:BRACKET_L,BRACKET_R:BRACKET_R,BRACE_L:BRACE_L,PIPE:PIPE,BRACE_R:BRACE_R,NAME:NAME,INT:INT,FLOAT:FLOAT,STRING:STRING,COMMENT:COMMENT},String.prototype.charCodeAt),slice=String.prototype.slice;Tok.prototype.toJSON=Tok.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},{"../error":67}],86:[function(require,module,exports){"use strict";function getLocation(e,o){for(var t=/\r\n|[\n\r]/g,n=1,r=o+1,i=void 0;(i=t.exec(e.body))&&i.index<o;)n+=1,r=o+1-(i.index+i[0].length);return{line:n,column:r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLocation=getLocation},{}],87:[function(require,module,exports){"use strict";function parse(e,n){var r="string"==typeof e?new _source.Source(e):e,i=(0,_lexer.createLexer)(r,n||{});return parseDocument(i)}function parseValue(e,n){var r="string"==typeof e?new _source.Source(e):e,i=(0,_lexer.createLexer)(r,n||{});expect(i,_lexer.TokenKind.SOF);var t=parseValueLiteral(i,!1);return expect(i,_lexer.TokenKind.EOF),t}function parseType(e,n){var r="string"==typeof e?new _source.Source(e):e,i=(0,_lexer.createLexer)(r,n||{});expect(i,_lexer.TokenKind.SOF);var t=parseTypeReference(i);return expect(i,_lexer.TokenKind.EOF),t}function parseName(e){var n=expect(e,_lexer.TokenKind.NAME);return{kind:_kinds.NAME,value:n.value,loc:loc(e,n)}}function parseDocument(e){var n=e.token;expect(e,_lexer.TokenKind.SOF);var r=[];do r.push(parseDefinition(e));while(!skip(e,_lexer.TokenKind.EOF));return{kind:_kinds.DOCUMENT,definitions:r,loc:loc(e,n)}}function parseDefinition(e){if(peek(e,_lexer.TokenKind.BRACE_L))return parseOperationDefinition(e);if(peek(e,_lexer.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return parseOperationDefinition(e);case"fragment":return parseFragmentDefinition(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return parseTypeSystemDefinition(e)}throw unexpected(e)}function parseOperationDefinition(e){var n=e.token;if(peek(e,_lexer.TokenKind.BRACE_L))return{kind:_kinds.OPERATION_DEFINITION,operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:parseSelectionSet(e),loc:loc(e,n)};var r=parseOperationType(e),i=void 0;return peek(e,_lexer.TokenKind.NAME)&&(i=parseName(e)),{kind:_kinds.OPERATION_DEFINITION,operation:r,name:i,variableDefinitions:parseVariableDefinitions(e),directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:loc(e,n)}}function parseOperationType(e){var n=expect(e,_lexer.TokenKind.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw unexpected(e,n)}function parseVariableDefinitions(e){return peek(e,_lexer.TokenKind.PAREN_L)?many(e,_lexer.TokenKind.PAREN_L,parseVariableDefinition,_lexer.TokenKind.PAREN_R):[]}function parseVariableDefinition(e){var n=e.token;return{kind:_kinds.VARIABLE_DEFINITION,variable:parseVariable(e),type:(expect(e,_lexer.TokenKind.COLON),parseTypeReference(e)),defaultValue:skip(e,_lexer.TokenKind.EQUALS)?parseValueLiteral(e,!0):null,loc:loc(e,n)}}function parseVariable(e){var n=e.token;return expect(e,_lexer.TokenKind.DOLLAR),{kind:_kinds.VARIABLE,name:parseName(e),loc:loc(e,n)}}function parseSelectionSet(e){var n=e.token;return{kind:_kinds.SELECTION_SET,selections:many(e,_lexer.TokenKind.BRACE_L,parseSelection,_lexer.TokenKind.BRACE_R),loc:loc(e,n)}}function parseSelection(e){return peek(e,_lexer.TokenKind.SPREAD)?parseFragment(e):parseField(e)}function parseField(e){var n=e.token,r=parseName(e),i=void 0,t=void 0;return skip(e,_lexer.TokenKind.COLON)?(i=r,t=parseName(e)):(i=null,t=r),{kind:_kinds.FIELD,alias:i,name:t,arguments:parseArguments(e),directives:parseDirectives(e),selectionSet:peek(e,_lexer.TokenKind.BRACE_L)?parseSelectionSet(e):null,loc:loc(e,n)}}function parseArguments(e){return peek(e,_lexer.TokenKind.PAREN_L)?many(e,_lexer.TokenKind.PAREN_L,parseArgument,_lexer.TokenKind.PAREN_R):[]}function parseArgument(e){var n=e.token;return{kind:_kinds.ARGUMENT,name:parseName(e),value:(expect(e,_lexer.TokenKind.COLON),parseValueLiteral(e,!1)),loc:loc(e,n)}}function parseFragment(e){var n=e.token;if(expect(e,_lexer.TokenKind.SPREAD),peek(e,_lexer.TokenKind.NAME)&&"on"!==e.token.value)return{kind:_kinds.FRAGMENT_SPREAD,name:parseFragmentName(e),directives:parseDirectives(e),loc:loc(e,n)};var r=null;return"on"===e.token.value&&(e.advance(),r=parseNamedType(e)),{kind:_kinds.INLINE_FRAGMENT,typeCondition:r,directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:loc(e,n)}}function parseFragmentDefinition(e){var n=e.token;return expectKeyword(e,"fragment"),{kind:_kinds.FRAGMENT_DEFINITION,name:parseFragmentName(e),typeCondition:(expectKeyword(e,"on"),parseNamedType(e)),directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:loc(e,n)}}function parseFragmentName(e){if("on"===e.token.value)throw unexpected(e);return parseName(e)}function parseValueLiteral(e,n){var r=e.token;switch(r.kind){case _lexer.TokenKind.BRACKET_L:return parseList(e,n);case _lexer.TokenKind.BRACE_L:return parseObject(e,n);case _lexer.TokenKind.INT:return e.advance(),{kind:_kinds.INT,value:r.value,loc:loc(e,r)};case _lexer.TokenKind.FLOAT:return e.advance(),{kind:_kinds.FLOAT,value:r.value,loc:loc(e,r)};case _lexer.TokenKind.STRING:return e.advance(),{kind:_kinds.STRING,value:r.value,loc:loc(e,r)};case _lexer.TokenKind.NAME:return"true"===r.value||"false"===r.value?(e.advance(),{kind:_kinds.BOOLEAN,value:"true"===r.value,loc:loc(e,r)}):"null"===r.value?(e.advance(),{kind:_kinds.NULL,loc:loc(e,r)}):(e.advance(),{kind:_kinds.ENUM,value:r.value,loc:loc(e,r)});case _lexer.TokenKind.DOLLAR:if(!n)return parseVariable(e)}throw unexpected(e)}function parseConstValue(e){return parseValueLiteral(e,!0)}function parseValueValue(e){return parseValueLiteral(e,!1)}function parseList(e,n){var r=e.token,i=n?parseConstValue:parseValueValue;return{kind:_kinds.LIST,values:any(e,_lexer.TokenKind.BRACKET_L,i,_lexer.TokenKind.BRACKET_R),loc:loc(e,r)}}function parseObject(e,n){var r=e.token;expect(e,_lexer.TokenKind.BRACE_L);for(var i=[];!skip(e,_lexer.TokenKind.BRACE_R);)i.push(parseObjectField(e,n));return{kind:_kinds.OBJECT,fields:i,loc:loc(e,r)}}function parseObjectField(e,n){var r=e.token;return{kind:_kinds.OBJECT_FIELD,name:parseName(e),value:(expect(e,_lexer.TokenKind.COLON),parseValueLiteral(e,n)),loc:loc(e,r)}}function parseDirectives(e){for(var n=[];peek(e,_lexer.TokenKind.AT);)n.push(parseDirective(e));return n}function parseDirective(e){var n=e.token;return expect(e,_lexer.TokenKind.AT),{kind:_kinds.DIRECTIVE,name:parseName(e),arguments:parseArguments(e),loc:loc(e,n)}}function parseTypeReference(e){var n=e.token,r=void 0;return skip(e,_lexer.TokenKind.BRACKET_L)?(r=parseTypeReference(e),expect(e,_lexer.TokenKind.BRACKET_R),r={kind:_kinds.LIST_TYPE,type:r,loc:loc(e,n)}):r=parseNamedType(e),skip(e,_lexer.TokenKind.BANG)?{kind:_kinds.NON_NULL_TYPE,type:r,loc:loc(e,n)}:r}function parseNamedType(e){var n=e.token;return{kind:_kinds.NAMED_TYPE,name:parseName(e),loc:loc(e,n)}}function parseTypeSystemDefinition(e){if(peek(e,_lexer.TokenKind.NAME))switch(e.token.value){case"schema":return parseSchemaDefinition(e);case"scalar":return parseScalarTypeDefinition(e);case"type":return parseObjectTypeDefinition(e);case"interface":return parseInterfaceTypeDefinition(e);case"union":return parseUnionTypeDefinition(e);case"enum":return parseEnumTypeDefinition(e);case"input":return parseInputObjectTypeDefinition(e);case"extend":return parseTypeExtensionDefinition(e);case"directive":return parseDirectiveDefinition(e)}throw unexpected(e)}function parseSchemaDefinition(e){var n=e.token;expectKeyword(e,"schema");var r=parseDirectives(e),i=many(e,_lexer.TokenKind.BRACE_L,parseOperationTypeDefinition,_lexer.TokenKind.BRACE_R);return{kind:_kinds.SCHEMA_DEFINITION,directives:r,operationTypes:i,loc:loc(e,n)}}function parseOperationTypeDefinition(e){var n=e.token,r=parseOperationType(e);expect(e,_lexer.TokenKind.COLON);var i=parseNamedType(e);return{kind:_kinds.OPERATION_TYPE_DEFINITION,operation:r,type:i,loc:loc(e,n)}}function parseScalarTypeDefinition(e){var n=e.token;expectKeyword(e,"scalar");var r=parseName(e),i=parseDirectives(e);return{kind:_kinds.SCALAR_TYPE_DEFINITION,name:r,directives:i,loc:loc(e,n)}}function parseObjectTypeDefinition(e){var n=e.token;expectKeyword(e,"type");var r=parseName(e),i=parseImplementsInterfaces(e),t=parseDirectives(e),a=any(e,_lexer.TokenKind.BRACE_L,parseFieldDefinition,_lexer.TokenKind.BRACE_R);return{kind:_kinds.OBJECT_TYPE_DEFINITION,name:r,interfaces:i,directives:t,fields:a,loc:loc(e,n)}}function parseImplementsInterfaces(e){var n=[];if("implements"===e.token.value){e.advance();do n.push(parseNamedType(e));while(peek(e,_lexer.TokenKind.NAME))}return n}function parseFieldDefinition(e){var n=e.token,r=parseName(e),i=parseArgumentDefs(e);expect(e,_lexer.TokenKind.COLON);var t=parseTypeReference(e),a=parseDirectives(e);return{kind:_kinds.FIELD_DEFINITION,name:r,arguments:i,type:t,directives:a,loc:loc(e,n)}}function parseArgumentDefs(e){return peek(e,_lexer.TokenKind.PAREN_L)?many(e,_lexer.TokenKind.PAREN_L,parseInputValueDef,_lexer.TokenKind.PAREN_R):[]}function parseInputValueDef(e){var n=e.token,r=parseName(e);expect(e,_lexer.TokenKind.COLON);var i=parseTypeReference(e),t=null;skip(e,_lexer.TokenKind.EQUALS)&&(t=parseConstValue(e));var a=parseDirectives(e);return{kind:_kinds.INPUT_VALUE_DEFINITION,name:r,type:i,defaultValue:t,directives:a,loc:loc(e,n)}}function parseInterfaceTypeDefinition(e){var n=e.token;expectKeyword(e,"interface");var r=parseName(e),i=parseDirectives(e),t=any(e,_lexer.TokenKind.BRACE_L,parseFieldDefinition,_lexer.TokenKind.BRACE_R);return{kind:_kinds.INTERFACE_TYPE_DEFINITION,name:r,directives:i,fields:t,loc:loc(e,n)}}function parseUnionTypeDefinition(e){var n=e.token;expectKeyword(e,"union");var r=parseName(e),i=parseDirectives(e);expect(e,_lexer.TokenKind.EQUALS);var t=parseUnionMembers(e);return{kind:_kinds.UNION_TYPE_DEFINITION,name:r,directives:i,types:t,loc:loc(e,n)}}function parseUnionMembers(e){var n=[];do n.push(parseNamedType(e));while(skip(e,_lexer.TokenKind.PIPE));return n}function parseEnumTypeDefinition(e){var n=e.token;expectKeyword(e,"enum");var r=parseName(e),i=parseDirectives(e),t=many(e,_lexer.TokenKind.BRACE_L,parseEnumValueDefinition,_lexer.TokenKind.BRACE_R);return{kind:_kinds.ENUM_TYPE_DEFINITION,name:r,directives:i,values:t,loc:loc(e,n)}}function parseEnumValueDefinition(e){var n=e.token,r=parseName(e),i=parseDirectives(e);return{kind:_kinds.ENUM_VALUE_DEFINITION,name:r,directives:i,loc:loc(e,n)}}function parseInputObjectTypeDefinition(e){var n=e.token;expectKeyword(e,"input");var r=parseName(e),i=parseDirectives(e),t=any(e,_lexer.TokenKind.BRACE_L,parseInputValueDef,_lexer.TokenKind.BRACE_R);return{kind:_kinds.INPUT_OBJECT_TYPE_DEFINITION,name:r,directives:i,fields:t,loc:loc(e,n)}}function parseTypeExtensionDefinition(e){var n=e.token;expectKeyword(e,"extend");var r=parseObjectTypeDefinition(e);return{kind:_kinds.TYPE_EXTENSION_DEFINITION,definition:r,loc:loc(e,n)}}function parseDirectiveDefinition(e){var n=e.token;expectKeyword(e,"directive"),expect(e,_lexer.TokenKind.AT);var r=parseName(e),i=parseArgumentDefs(e);expectKeyword(e,"on");var t=parseDirectiveLocations(e);return{kind:_kinds.DIRECTIVE_DEFINITION,name:r,arguments:i,locations:t,loc:loc(e,n)}}function parseDirectiveLocations(e){var n=[];do n.push(parseName(e));while(skip(e,_lexer.TokenKind.PIPE));return n}function loc(e,n){if(!e.options.noLocation)return new Loc(n,e.lastToken,e.source)}function Loc(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}function peek(e,n){return e.token.kind===n}function skip(e,n){var r=e.token.kind===n;return r&&e.advance(),r}function expect(e,n){var r=e.token;if(r.kind===n)return e.advance(),r;throw(0,_error.syntaxError)(e.source,r.start,"Expected "+n+", found "+(0,_lexer.getTokenDesc)(r))}function expectKeyword(e,n){var r=e.token;if(r.kind===_lexer.TokenKind.NAME&&r.value===n)return e.advance(),r;throw(0,_error.syntaxError)(e.source,r.start,'Expected "'+n+'", found '+(0,_lexer.getTokenDesc)(r))}function unexpected(e,n){var r=n||e.token;return(0,_error.syntaxError)(e.source,r.start,"Unexpected "+(0,_lexer.getTokenDesc)(r))}function any(e,n,r,i){expect(e,n);for(var t=[];!skip(e,i);)t.push(r(e));return t}function many(e,n,r,i){expect(e,n);for(var t=[r(e)];!skip(e,i);)t.push(r(e));return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=parse,exports.parseValue=parseValue,exports.parseType=parseType,exports.parseConstValue=parseConstValue,exports.parseTypeReference=parseTypeReference,exports.parseNamedType=parseNamedType;var _source=require("./source"),_error=require("../error"),_lexer=require("./lexer"),_kinds=require("./kinds");Loc.prototype.toJSON=Loc.prototype.inspect=function(){return{start:this.start,end:this.end}}},{"../error":67,"./kinds":84,"./lexer":85,"./source":89}],88:[function(require,module,exports){"use strict";function print(n){return(0,_visitor.visit)(n,{leave:printDocASTReducer})}function join(n,e){return n?n.filter(function(n){return n}).join(e||""):""}function block(n){return n&&0!==n.length?indent("{\n"+join(n,"\n"))+"\n}":"{}"}function wrap(n,e,i){return e?n+e+(i||""):""}function indent(n){return n&&n.replace(/\n/g,"\n  ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.print=print;var _visitor=require("./visitor"),printDocASTReducer={Name:function(n){return n.value},Variable:function(n){return"$"+n.name},Document:function(n){return join(n.definitions,"\n\n")+"\n"},OperationDefinition:function(n){var e=n.operation,i=n.name,t=wrap("(",join(n.variableDefinitions,", "),")"),r=join(n.directives," "),o=n.selectionSet;return i||r||t||"query"!==e?join([e,join([i,t]),r,o]," "):o},VariableDefinition:function(n){var e=n.variable,i=n.type,t=n.defaultValue;return e+": "+i+wrap(" = ",t)},SelectionSet:function(n){var e=n.selections;return block(e)},Field:function(n){var e=n.alias,i=n.name,t=n.arguments,r=n.directives,o=n.selectionSet;return join([wrap("",e,": ")+i+wrap("(",join(t,", "),")"),join(r," "),o]," ")},Argument:function(n){var e=n.name,i=n.value;return e+": "+i},FragmentSpread:function(n){var e=n.name,i=n.directives;return"..."+e+wrap(" ",join(i," "))},InlineFragment:function(n){var e=n.typeCondition,i=n.directives,t=n.selectionSet;return join(["...",wrap("on ",e),join(i," "),t]," ")},FragmentDefinition:function(n){var e=n.name,i=n.typeCondition,t=n.directives,r=n.selectionSet;return"fragment "+e+" on "+i+" "+wrap("",join(t," ")," ")+r},IntValue:function(n){var e=n.value;return e},FloatValue:function(n){var e=n.value;return e},StringValue:function(n){var e=n.value;return JSON.stringify(e)},BooleanValue:function(n){var e=n.value;return JSON.stringify(e)},NullValue:function(){return"null"},EnumValue:function(n){var e=n.value;return e},ListValue:function(n){var e=n.values;return"["+join(e,", ")+"]"},ObjectValue:function(n){var e=n.fields;return"{"+join(e,", ")+"}"},ObjectField:function(n){var e=n.name,i=n.value;return e+": "+i},Directive:function(n){var e=n.name,i=n.arguments;return"@"+e+wrap("(",join(i,", "),")")},NamedType:function(n){var e=n.name;return e},ListType:function(n){var e=n.type;return"["+e+"]"},NonNullType:function(n){var e=n.type;return e+"!"},SchemaDefinition:function(n){var e=n.directives,i=n.operationTypes;return join(["schema",join(e," "),block(i)]," ")},OperationTypeDefinition:function(n){var e=n.operation,i=n.type;return e+": "+i},ScalarTypeDefinition:function(n){var e=n.name,i=n.directives;return join(["scalar",e,join(i," ")]," ")},ObjectTypeDefinition:function(n){var e=n.name,i=n.interfaces,t=n.directives,r=n.fields;return join(["type",e,wrap("implements ",join(i,", ")),join(t," "),block(r)]," ")},FieldDefinition:function(n){var e=n.name,i=n.arguments,t=n.type,r=n.directives;return e+wrap("(",join(i,", "),")")+": "+t+wrap(" ",join(r," "))},InputValueDefinition:function(n){var e=n.name,i=n.type,t=n.defaultValue,r=n.directives;return join([e+": "+i,wrap("= ",t),join(r," ")]," ")},InterfaceTypeDefinition:function(n){var e=n.name,i=n.directives,t=n.fields;return join(["interface",e,join(i," "),block(t)]," ")},UnionTypeDefinition:function(n){var e=n.name,i=n.directives,t=n.types;return join(["union",e,join(i," "),"= "+join(t," | ")]," ")},EnumTypeDefinition:function(n){var e=n.name,i=n.directives,t=n.values;return join(["enum",e,join(i," "),block(t)]," ")},EnumValueDefinition:function(n){var e=n.name,i=n.directives;return join([e,join(i," ")]," ")},InputObjectTypeDefinition:function(n){var e=n.name,i=n.directives,t=n.fields;return join(["input",e,join(i," "),block(t)]," ")},TypeExtensionDefinition:function(n){var e=n.definition;return"extend "+e},DirectiveDefinition:function(n){var e=n.name,i=n.arguments,t=n.locations;return"directive @"+e+wrap("(",join(i,", "),")")+" on "+join(t," | ")}}},{"./visitor":90}],89:[function(require,module,exports){"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});exports.Source=function e(s,a){_classCallCheck(this,e),this.body=s,this.name=a||"GraphQL"}},{}],90:[function(require,module,exports){"use strict";function visit(e,i,n){var t=n||QueryDocumentKeys,r=void 0,a=Array.isArray(e),o=[e],s=-1,l=[],f=void 0,v=[],u=[],p=e;do{s++;var d=s===o.length,c=void 0,y=void 0,m=d&&0!==l.length;if(d){if(c=0===u.length?void 0:v.pop(),y=f,f=u.pop(),m){if(a)y=y.slice();else{var g={};for(var D in y)y.hasOwnProperty(D)&&(g[D]=y[D]);y=g}for(var h=0,V=0;V<l.length;V++){var A=l[V][0],T=l[V][1];a&&(A-=h),a&&null===T?(y.splice(A,1),h++):y[A]=T}}s=r.index,o=r.keys,l=r.edits,a=r.inArray,r=r.prev}else{if(c=f?a?s:o[s]:void 0,y=f?f[c]:p,null===y||void 0===y)continue;f&&v.push(c)}var F=void 0;if(!Array.isArray(y)){if(!isNode(y))throw new Error("Invalid AST Node: "+JSON.stringify(y));var E=getVisitFn(i,y.kind,d);if(E){if(F=E.call(i,y,c,f,v,u),F===BREAK)break;if(F===!1){if(!d){v.pop();continue}}else if(void 0!==F&&(l.push([c,F]),!d)){if(!isNode(F)){v.pop();continue}y=F}}}void 0===F&&m&&l.push([c,y]),d||(r={inArray:a,index:s,keys:o,edits:l,prev:r},a=Array.isArray(y),o=a?y:t[y.kind]||[],s=-1,l=[],f&&u.push(f),f=y)}while(void 0!==r);return 0!==l.length&&(p=l[l.length-1][1]),p}function isNode(e){return e&&"string"==typeof e.kind}function visitInParallel(e){var i=new Array(e.length);return{enter:function(n){for(var t=0;t<e.length;t++)if(!i[t]){var r=getVisitFn(e[t],n.kind,!1);if(r){var a=r.apply(e[t],arguments);if(a===!1)i[t]=n;else if(a===BREAK)i[t]=BREAK;else if(void 0!==a)return a}}},leave:function(n){for(var t=0;t<e.length;t++)if(i[t])i[t]===n&&(i[t]=null);else{var r=getVisitFn(e[t],n.kind,!0);if(r){var a=r.apply(e[t],arguments);if(a===BREAK)i[t]=BREAK;else if(void 0!==a&&a!==!1)return a}}}}}function visitWithTypeInfo(e,i){return{enter:function(n){e.enter(n);var t=getVisitFn(i,n.kind,!1);if(t){var r=t.apply(i,arguments);return void 0!==r&&(e.leave(n),isNode(r)&&e.enter(r)),r}},leave:function(n){var t=getVisitFn(i,n.kind,!0),r=void 0;return t&&(r=t.apply(i,arguments)),e.leave(n),r}}}function getVisitFn(e,i,n){var t=e[i];if(t){if(!n&&"function"==typeof t)return t;var r=n?t.leave:t.enter;if("function"==typeof r)return r}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var o=a[i];if("function"==typeof o)return o}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.visit=visit,exports.visitInParallel=visitInParallel,exports.visitWithTypeInfo=visitWithTypeInfo;var QueryDocumentKeys=exports.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["name","directives"],ObjectTypeDefinition:["name","interfaces","directives","fields"],FieldDefinition:["name","arguments","type","directives"],InputValueDefinition:["name","type","defaultValue","directives"],InterfaceTypeDefinition:["name","directives","fields"],UnionTypeDefinition:["name","directives","types"],EnumTypeDefinition:["name","directives","values"],EnumValueDefinition:["name","directives"],InputObjectTypeDefinition:["name","directives","fields"],TypeExtensionDefinition:["definition"],DirectiveDefinition:["name","arguments","locations"]},BREAK=exports.BREAK={}},{}],91:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function isType(e){return e instanceof GraphQLScalarType||e instanceof GraphQLObjectType||e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType||e instanceof GraphQLEnumType||e instanceof GraphQLInputObjectType||e instanceof GraphQLList||e instanceof GraphQLNonNull}function assertType(e){return(0,_invariant2.default)(isType(e),"Expected "+String(e)+" to be a GraphQL type."),e}function isInputType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLEnumType||t instanceof GraphQLInputObjectType}function assertInputType(e){return(0,_invariant2.default)(isInputType(e),"Expected "+String(e)+" to be a GraphQL input type."),e}function isOutputType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLObjectType||t instanceof GraphQLInterfaceType||t instanceof GraphQLUnionType||t instanceof GraphQLEnumType}function assertOutputType(e){return(0,_invariant2.default)(isOutputType(e),"Expected "+String(e)+" to be a GraphQL output type."),e}function isLeafType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLEnumType}function assertLeafType(e){return(0,_invariant2.default)(isLeafType(e),"Expected "+String(e)+" to be a GraphQL leaf type."),e}function isCompositeType(e){return e instanceof GraphQLObjectType||e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType}function assertCompositeType(e){return(0,_invariant2.default)(isCompositeType(e),"Expected "+String(e)+" to be a GraphQL composite type."),e}function isAbstractType(e){return e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType}function assertAbstractType(e){return(0,_invariant2.default)(isAbstractType(e),"Expected "+String(e)+" to be a GraphQL abstract type."),e}function getNullableType(e){return e instanceof GraphQLNonNull?e.ofType:e}function isNamedType(e){return e instanceof GraphQLScalarType||e instanceof GraphQLObjectType||e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType||e instanceof GraphQLEnumType||e instanceof GraphQLInputObjectType}function assertNamedType(e){return(0,_invariant2.default)(isNamedType(e),"Expected "+String(e)+" to be a GraphQL named type."),e}function getNamedType(e){for(var t=e;t instanceof GraphQLList||t instanceof GraphQLNonNull;)t=t.ofType;return t}function resolveThunk(e){return"function"==typeof e?e():e}function defineInterfaces(e,t){var n=resolveThunk(t);return n?((0,_invariant2.default)(Array.isArray(n),e.name+" interfaces must be an Array or a function which returns an Array."),n.forEach(function(t){(0,_invariant2.default)(t instanceof GraphQLInterfaceType,e.name+" may only implement Interface types, it cannot "+("implement: "+String(t)+".")),"function"!=typeof t.resolveType&&(0,_invariant2.default)("function"==typeof e.isTypeOf,"Interface Type "+t.name+' does not provide a "resolveType" '+("function and implementing Type "+e.name+" does not provide a ")+'"isTypeOf" function. There is no way to resolve this implementing type during execution.')}),n):[]}function defineFieldMap(e,t){var n=resolveThunk(t);(0,_invariant2.default)(isPlainObj(n),e.name+" fields must be an object with field names as keys or a function which returns such an object.");var a=Object.keys(n);(0,_invariant2.default)(a.length>0,e.name+" fields must be an object with field names as keys or a function which returns such an object.");var r={};return a.forEach(function(t){(0,_assertValidName.assertValidName)(t);var a=n[t];(0,_invariant2.default)(!a.hasOwnProperty("isDeprecated"),e.name+"."+t+' should provide "deprecationReason" instead of "isDeprecated".');var i=_extends({},a,{isDeprecated:Boolean(a.deprecationReason),name:t});(0,_invariant2.default)(isOutputType(i.type),e.name+"."+t+" field type must be Output Type but "+("got: "+String(i.type)+".")),(0,_invariant2.default)(isValidResolver(i.resolve),e.name+"."+t+" field resolver must be a function if "+("provided, but got: "+String(i.resolve)+"."));var s=a.args;s?((0,_invariant2.default)(isPlainObj(s),e.name+"."+t+" args must be an object with argument names as keys."),i.args=Object.keys(s).map(function(n){(0,_assertValidName.assertValidName)(n);var a=s[n];return(0,_invariant2.default)(isInputType(a.type),e.name+"."+t+"("+n+":) argument type must be "+("Input Type but got: "+String(a.type)+".")),{name:n,description:void 0===a.description?null:a.description,type:a.type,defaultValue:a.defaultValue}})):i.args=[],r[t]=i}),r}function isPlainObj(e){return e&&"object"==typeof e&&!Array.isArray(e)}function isValidResolver(e){return null==e||"function"==typeof e}function defineTypes(e,t){var n=resolveThunk(t);return(0,_invariant2.default)(Array.isArray(n)&&n.length>0,"Must provide Array of types or a function which returns "+("such an array for Union "+e.name+".")),n.forEach(function(t){(0,_invariant2.default)(t instanceof GraphQLObjectType,e.name+" may only contain Object types, it cannot contain: "+(String(t)+".")),"function"!=typeof e.resolveType&&(0,_invariant2.default)("function"==typeof t.isTypeOf,'Union type "'+e.name+'" does not provide a "resolveType" '+('function and possible type "'+t.name+'" does not provide an ')+'"isTypeOf" function. There is no way to resolve this possible type during execution.')}),n}function defineEnumValues(e,t){(0,_invariant2.default)(isPlainObj(t),e.name+" values must be an object with value names as keys.");var n=Object.keys(t);return(0,_invariant2.default)(n.length>0,e.name+" values must be an object with value names as keys."),n.map(function(n){(0,_assertValidName.assertValidName)(n);var a=t[n];return(0,_invariant2.default)(isPlainObj(a),e.name+"."+n+' must refer to an object with a "value" key '+("representing an internal value but got: "+String(a)+".")),(0,_invariant2.default)(!a.hasOwnProperty("isDeprecated"),e.name+"."+n+' should provide "deprecationReason" instead of "isDeprecated".'),{name:n,description:a.description,isDeprecated:Boolean(a.deprecationReason),deprecationReason:a.deprecationReason,value:(0,_isNullish2.default)(a.value)?n:a.value}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQLNonNull=exports.GraphQLList=exports.GraphQLInputObjectType=exports.GraphQLEnumType=exports.GraphQLUnionType=exports.GraphQLInterfaceType=exports.GraphQLObjectType=exports.GraphQLScalarType=void 0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};exports.isType=isType,exports.assertType=assertType,exports.isInputType=isInputType,exports.assertInputType=assertInputType,exports.isOutputType=isOutputType,exports.assertOutputType=assertOutputType,exports.isLeafType=isLeafType,exports.assertLeafType=assertLeafType,exports.isCompositeType=isCompositeType,exports.assertCompositeType=assertCompositeType,exports.isAbstractType=isAbstractType,exports.assertAbstractType=assertAbstractType,exports.getNullableType=getNullableType,exports.isNamedType=isNamedType,exports.assertNamedType=assertNamedType,exports.getNamedType=getNamedType;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_kinds=require("../language/kinds"),_assertValidName=require("../utilities/assertValidName"),GraphQLScalarType=exports.GraphQLScalarType=function(){
function e(t){_classCallCheck(this,e),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,(0,_invariant2.default)("function"==typeof t.serialize,this.name+' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.'),(t.parseValue||t.parseLiteral)&&(0,_invariant2.default)("function"==typeof t.parseValue&&"function"==typeof t.parseLiteral,this.name+' must provide both "parseValue" and "parseLiteral" functions.'),this._scalarConfig=t}return e.prototype.serialize=function(e){var t=this._scalarConfig.serialize;return t(e)},e.prototype.parseValue=function(e){var t=this._scalarConfig.parseValue;return t?t(e):null},e.prototype.parseLiteral=function(e){var t=this._scalarConfig.parseLiteral;return t?t(e):null},e.prototype.toString=function(){return this.name},e}();GraphQLScalarType.prototype.toJSON=GraphQLScalarType.prototype.inspect=GraphQLScalarType.prototype.toString;var GraphQLObjectType=exports.GraphQLObjectType=function(){function e(t){_classCallCheck(this,e),(0,_assertValidName.assertValidName)(t.name,t.isIntrospection),this.name=t.name,this.description=t.description,t.isTypeOf&&(0,_invariant2.default)("function"==typeof t.isTypeOf,this.name+' must provide "isTypeOf" as a function.'),this.isTypeOf=t.isTypeOf,this._typeConfig=t}return e.prototype.getFields=function(){return this._fields||(this._fields=defineFieldMap(this,this._typeConfig.fields))},e.prototype.getInterfaces=function(){return this._interfaces||(this._interfaces=defineInterfaces(this,this._typeConfig.interfaces))},e.prototype.toString=function(){return this.name},e}();GraphQLObjectType.prototype.toJSON=GraphQLObjectType.prototype.inspect=GraphQLObjectType.prototype.toString;var GraphQLInterfaceType=exports.GraphQLInterfaceType=function(){function e(t){_classCallCheck(this,e),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,t.resolveType&&(0,_invariant2.default)("function"==typeof t.resolveType,this.name+' must provide "resolveType" as a function.'),this.resolveType=t.resolveType,this._typeConfig=t}return e.prototype.getFields=function(){return this._fields||(this._fields=defineFieldMap(this,this._typeConfig.fields))},e.prototype.toString=function(){return this.name},e}();GraphQLInterfaceType.prototype.toJSON=GraphQLInterfaceType.prototype.inspect=GraphQLInterfaceType.prototype.toString;var GraphQLUnionType=exports.GraphQLUnionType=function(){function e(t){_classCallCheck(this,e),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,t.resolveType&&(0,_invariant2.default)("function"==typeof t.resolveType,this.name+' must provide "resolveType" as a function.'),this.resolveType=t.resolveType,this._typeConfig=t}return e.prototype.getTypes=function(){return this._types||(this._types=defineTypes(this,this._typeConfig.types))},e.prototype.toString=function(){return this.name},e}();GraphQLUnionType.prototype.toJSON=GraphQLUnionType.prototype.inspect=GraphQLUnionType.prototype.toString;var GraphQLEnumType=exports.GraphQLEnumType=function(){function e(t){_classCallCheck(this,e),this.name=t.name,(0,_assertValidName.assertValidName)(t.name,t.isIntrospection),this.description=t.description,this._values=defineEnumValues(this,t.values),this._enumConfig=t}return e.prototype.getValues=function(){return this._values},e.prototype.getValue=function(e){return this._getNameLookup()[e]},e.prototype.serialize=function(e){var t=this._getValueLookup().get(e);return t?t.name:null},e.prototype.parseValue=function(e){if("string"==typeof e){var t=this._getNameLookup()[e];if(t)return t.value}},e.prototype.parseLiteral=function(e){if(e.kind===_kinds.ENUM){var t=this._getNameLookup()[e.value];if(t)return t.value}},e.prototype._getValueLookup=function(){var e=this;return this._valueLookup||!function(){var t=new Map;e.getValues().forEach(function(e){t.set(e.value,e)}),e._valueLookup=t}(),this._valueLookup},e.prototype._getNameLookup=function(){var e=this;return this._nameLookup||!function(){var t=Object.create(null);e.getValues().forEach(function(e){t[e.name]=e}),e._nameLookup=t}(),this._nameLookup},e.prototype.toString=function(){return this.name},e}();GraphQLEnumType.prototype.toJSON=GraphQLEnumType.prototype.inspect=GraphQLEnumType.prototype.toString;var GraphQLInputObjectType=exports.GraphQLInputObjectType=function(){function e(t){_classCallCheck(this,e),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,this._typeConfig=t}return e.prototype.getFields=function(){return this._fields||(this._fields=this._defineFieldMap())},e.prototype._defineFieldMap=function(){var e=this,t=resolveThunk(this._typeConfig.fields);(0,_invariant2.default)(isPlainObj(t),this.name+" fields must be an object with field names as keys or a function which returns such an object.");var n=Object.keys(t);(0,_invariant2.default)(n.length>0,this.name+" fields must be an object with field names as keys or a function which returns such an object.");var a={};return n.forEach(function(n){(0,_assertValidName.assertValidName)(n);var r=_extends({},t[n],{name:n});(0,_invariant2.default)(isInputType(r.type),e.name+"."+n+" field type must be Input Type but "+("got: "+String(r.type)+".")),(0,_invariant2.default)(null==r.resolve,e.name+"."+n+" field type has a resolve property, but Input Types cannot define resolvers."),a[n]=r}),a},e.prototype.toString=function(){return this.name},e}();GraphQLInputObjectType.prototype.toJSON=GraphQLInputObjectType.prototype.inspect=GraphQLInputObjectType.prototype.toString;var GraphQLList=exports.GraphQLList=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(isType(t),"Can only create List of a GraphQLType but got: "+String(t)+"."),this.ofType=t}return e.prototype.toString=function(){return"["+String(this.ofType)+"]"},e}();GraphQLList.prototype.toJSON=GraphQLList.prototype.inspect=GraphQLList.prototype.toString;var GraphQLNonNull=exports.GraphQLNonNull=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(isType(t)&&!(t instanceof e),"Can only create NonNull of a Nullable GraphQLType but got: "+(String(t)+".")),this.ofType=t}return e.prototype.toString=function(){return this.ofType.toString()+"!"},e}();GraphQLNonNull.prototype.toJSON=GraphQLNonNull.prototype.inspect=GraphQLNonNull.prototype.toString},{"../jsutils/invariant":76,"../jsutils/isNullish":78,"../language/kinds":84,"../utilities/assertValidName":98}],92:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.specifiedDirectives=exports.GraphQLDeprecatedDirective=exports.DEFAULT_DEPRECATION_REASON=exports.GraphQLSkipDirective=exports.GraphQLIncludeDirective=exports.GraphQLDirective=exports.DirectiveLocation=void 0;var _definition=require("./definition"),_scalars=require("./scalars"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_assertValidName=require("../utilities/assertValidName"),DirectiveLocation=exports.DirectiveLocation={QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"},GraphQLDirective=exports.GraphQLDirective=function e(i){_classCallCheck(this,e),(0,_invariant2.default)(i.name,"Directive must be named."),(0,_assertValidName.assertValidName)(i.name),(0,_invariant2.default)(Array.isArray(i.locations),"Must provide locations for directive."),this.name=i.name,this.description=i.description,this.locations=i.locations;var t=i.args;t?((0,_invariant2.default)(!Array.isArray(t),"@"+i.name+" args must be an object with argument names as keys."),this.args=Object.keys(t).map(function(e){(0,_assertValidName.assertValidName)(e);var r=t[e];return(0,_invariant2.default)((0,_definition.isInputType)(r.type),"@"+i.name+"("+e+":) argument type must be "+("Input Type but got: "+String(r.type)+".")),{name:e,description:void 0===r.description?null:r.description,type:r.type,defaultValue:r.defaultValue}})):this.args=[]},GraphQLIncludeDirective=exports.GraphQLIncludeDirective=new GraphQLDirective({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[DirectiveLocation.FIELD,DirectiveLocation.FRAGMENT_SPREAD,DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),description:"Included when true."}}}),GraphQLSkipDirective=exports.GraphQLSkipDirective=new GraphQLDirective({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[DirectiveLocation.FIELD,DirectiveLocation.FRAGMENT_SPREAD,DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),description:"Skipped when true."}}}),DEFAULT_DEPRECATION_REASON=exports.DEFAULT_DEPRECATION_REASON="No longer supported",GraphQLDeprecatedDirective=exports.GraphQLDeprecatedDirective=new GraphQLDirective({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[DirectiveLocation.FIELD_DEFINITION,DirectiveLocation.ENUM_VALUE],args:{reason:{type:_scalars.GraphQLString,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).",defaultValue:DEFAULT_DEPRECATION_REASON}}});exports.specifiedDirectives=[GraphQLIncludeDirective,GraphQLSkipDirective,GraphQLDeprecatedDirective]},{"../jsutils/invariant":76,"../utilities/assertValidName":98,"./definition":91,"./scalars":95}],93:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _schema=require("./schema");Object.defineProperty(exports,"GraphQLSchema",{enumerable:!0,get:function(){return _schema.GraphQLSchema}});var _definition=require("./definition");Object.defineProperty(exports,"isType",{enumerable:!0,get:function(){return _definition.isType}}),Object.defineProperty(exports,"isInputType",{enumerable:!0,get:function(){return _definition.isInputType}}),Object.defineProperty(exports,"isOutputType",{enumerable:!0,get:function(){return _definition.isOutputType}}),Object.defineProperty(exports,"isLeafType",{enumerable:!0,get:function(){return _definition.isLeafType}}),Object.defineProperty(exports,"isCompositeType",{enumerable:!0,get:function(){return _definition.isCompositeType}}),Object.defineProperty(exports,"isAbstractType",{enumerable:!0,get:function(){return _definition.isAbstractType}}),Object.defineProperty(exports,"isNamedType",{enumerable:!0,get:function(){return _definition.isNamedType}}),Object.defineProperty(exports,"assertType",{enumerable:!0,get:function(){return _definition.assertType}}),Object.defineProperty(exports,"assertInputType",{enumerable:!0,get:function(){return _definition.assertInputType}}),Object.defineProperty(exports,"assertOutputType",{enumerable:!0,get:function(){return _definition.assertOutputType}}),Object.defineProperty(exports,"assertLeafType",{enumerable:!0,get:function(){return _definition.assertLeafType}}),Object.defineProperty(exports,"assertCompositeType",{enumerable:!0,get:function(){return _definition.assertCompositeType}}),Object.defineProperty(exports,"assertAbstractType",{enumerable:!0,get:function(){return _definition.assertAbstractType}}),Object.defineProperty(exports,"assertNamedType",{enumerable:!0,get:function(){return _definition.assertNamedType}}),Object.defineProperty(exports,"getNullableType",{enumerable:!0,get:function(){return _definition.getNullableType}}),Object.defineProperty(exports,"getNamedType",{enumerable:!0,get:function(){return _definition.getNamedType}}),Object.defineProperty(exports,"GraphQLScalarType",{enumerable:!0,get:function(){return _definition.GraphQLScalarType}}),Object.defineProperty(exports,"GraphQLObjectType",{enumerable:!0,get:function(){return _definition.GraphQLObjectType}}),Object.defineProperty(exports,"GraphQLInterfaceType",{enumerable:!0,get:function(){return _definition.GraphQLInterfaceType}}),Object.defineProperty(exports,"GraphQLUnionType",{enumerable:!0,get:function(){return _definition.GraphQLUnionType}}),Object.defineProperty(exports,"GraphQLEnumType",{enumerable:!0,get:function(){return _definition.GraphQLEnumType}}),Object.defineProperty(exports,"GraphQLInputObjectType",{enumerable:!0,get:function(){return _definition.GraphQLInputObjectType}}),Object.defineProperty(exports,"GraphQLList",{enumerable:!0,get:function(){return _definition.GraphQLList}}),Object.defineProperty(exports,"GraphQLNonNull",{enumerable:!0,get:function(){return _definition.GraphQLNonNull}});var _directives=require("./directives");Object.defineProperty(exports,"DirectiveLocation",{enumerable:!0,get:function(){return _directives.DirectiveLocation}}),Object.defineProperty(exports,"GraphQLDirective",{enumerable:!0,get:function(){return _directives.GraphQLDirective}}),Object.defineProperty(exports,"specifiedDirectives",{enumerable:!0,get:function(){return _directives.specifiedDirectives}}),Object.defineProperty(exports,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return _directives.GraphQLIncludeDirective}}),Object.defineProperty(exports,"GraphQLSkipDirective",{enumerable:!0,get:function(){return _directives.GraphQLSkipDirective}}),Object.defineProperty(exports,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return _directives.GraphQLDeprecatedDirective}}),Object.defineProperty(exports,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return _directives.DEFAULT_DEPRECATION_REASON}});var _scalars=require("./scalars");Object.defineProperty(exports,"GraphQLInt",{enumerable:!0,get:function(){return _scalars.GraphQLInt}}),Object.defineProperty(exports,"GraphQLFloat",{enumerable:!0,get:function(){return _scalars.GraphQLFloat}}),Object.defineProperty(exports,"GraphQLString",{enumerable:!0,get:function(){return _scalars.GraphQLString}}),Object.defineProperty(exports,"GraphQLBoolean",{enumerable:!0,get:function(){return _scalars.GraphQLBoolean}}),Object.defineProperty(exports,"GraphQLID",{enumerable:!0,get:function(){return _scalars.GraphQLID}});var _introspection=require("./introspection");Object.defineProperty(exports,"TypeKind",{enumerable:!0,get:function(){return _introspection.TypeKind}}),Object.defineProperty(exports,"__Schema",{enumerable:!0,get:function(){return _introspection.__Schema}}),Object.defineProperty(exports,"__Directive",{enumerable:!0,get:function(){return _introspection.__Directive}}),Object.defineProperty(exports,"__DirectiveLocation",{enumerable:!0,get:function(){return _introspection.__DirectiveLocation}}),Object.defineProperty(exports,"__Type",{enumerable:!0,get:function(){return _introspection.__Type}}),Object.defineProperty(exports,"__Field",{enumerable:!0,get:function(){return _introspection.__Field}}),Object.defineProperty(exports,"__InputValue",{enumerable:!0,get:function(){return _introspection.__InputValue}}),Object.defineProperty(exports,"__EnumValue",{enumerable:!0,get:function(){return _introspection.__EnumValue}}),Object.defineProperty(exports,"__TypeKind",{enumerable:!0,get:function(){return _introspection.__TypeKind}}),Object.defineProperty(exports,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return _introspection.SchemaMetaFieldDef}}),Object.defineProperty(exports,"TypeMetaFieldDef",{enumerable:!0,get:function(){return _introspection.TypeMetaFieldDef}}),Object.defineProperty(exports,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return _introspection.TypeNameMetaFieldDef}})},{"./definition":91,"./directives":92,"./introspection":94,"./scalars":95,"./schema":96}],94:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TypeNameMetaFieldDef=exports.TypeMetaFieldDef=exports.SchemaMetaFieldDef=exports.__TypeKind=exports.TypeKind=exports.__EnumValue=exports.__InputValue=exports.__Field=exports.__Type=exports.__DirectiveLocation=exports.__Directive=exports.__Schema=void 0;var _isInvalid=require("../jsutils/isInvalid"),_isInvalid2=_interopRequireDefault(_isInvalid),_astFromValue=require("../utilities/astFromValue"),_printer=require("../language/printer"),_definition=require("./definition"),_scalars=require("./scalars"),_directives=require("./directives"),__Schema=exports.__Schema=new _definition.GraphQLObjectType({name:"__Schema",isIntrospection:!0,description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type))),resolve:function(e){var i=e.getTypeMap();return Object.keys(i).map(function(e){return i[e]})}},queryType:{description:"The type that query operations will be rooted at.",type:new _definition.GraphQLNonNull(__Type),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:__Type,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:__Type,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__Directive))),resolve:function(e){return e.getDirectives()}}}}}),__Directive=exports.__Directive=new _definition.GraphQLObjectType({name:"__Directive",isIntrospection:!0,description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},locations:{type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__DirectiveLocation)))},args:{type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue))),resolve:function(e){return e.args||[]}},onOperation:{deprecationReason:"Use `locations`.",type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return e.locations.indexOf(_directives.DirectiveLocation.QUERY)!==-1||e.locations.indexOf(_directives.DirectiveLocation.MUTATION)!==-1||e.locations.indexOf(_directives.DirectiveLocation.SUBSCRIPTION)!==-1}},onFragment:{deprecationReason:"Use `locations`.",type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return e.locations.indexOf(_directives.DirectiveLocation.FRAGMENT_SPREAD)!==-1||e.locations.indexOf(_directives.DirectiveLocation.INLINE_FRAGMENT)!==-1||e.locations.indexOf(_directives.DirectiveLocation.FRAGMENT_DEFINITION)!==-1}},onField:{deprecationReason:"Use `locations`.",type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return e.locations.indexOf(_directives.DirectiveLocation.FIELD)!==-1}}}}}),__DirectiveLocation=exports.__DirectiveLocation=new _definition.GraphQLEnumType({name:"__DirectiveLocation",isIntrospection:!0,description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:_directives.DirectiveLocation.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:_directives.DirectiveLocation.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:_directives.DirectiveLocation.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:_directives.DirectiveLocation.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:_directives.DirectiveLocation.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:_directives.DirectiveLocation.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:_directives.DirectiveLocation.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},SCHEMA:{value:_directives.DirectiveLocation.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:_directives.DirectiveLocation.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:_directives.DirectiveLocation.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:_directives.DirectiveLocation.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:_directives.DirectiveLocation.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:_directives.DirectiveLocation.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:_directives.DirectiveLocation.UNION,description:"Location adjacent to a union definition."},ENUM:{value:_directives.DirectiveLocation.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:_directives.DirectiveLocation.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:_directives.DirectiveLocation.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:_directives.DirectiveLocation.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),__Type=exports.__Type=new _definition.GraphQLObjectType({name:"__Type",isIntrospection:!0,description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:new _definition.GraphQLNonNull(__TypeKind),resolve:function(e){if(e instanceof _definition.GraphQLScalarType)return TypeKind.SCALAR;if(e instanceof _definition.GraphQLObjectType)return TypeKind.OBJECT;if(e instanceof _definition.GraphQLInterfaceType)return TypeKind.INTERFACE;if(e instanceof _definition.GraphQLUnionType)return TypeKind.UNION;if(e instanceof _definition.GraphQLEnumType)return TypeKind.ENUM;if(e instanceof _definition.GraphQLInputObjectType)return TypeKind.INPUT_OBJECT;if(e instanceof _definition.GraphQLList)return TypeKind.LIST;if(e instanceof _definition.GraphQLNonNull)return TypeKind.NON_NULL;throw new Error("Unknown kind of type: "+e)}},name:{type:_scalars.GraphQLString},description:{type:_scalars.GraphQLString},fields:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Field)),args:{includeDeprecated:{type:_scalars.GraphQLBoolean,defaultValue:!1}},resolve:function(e,i){var n=i.includeDeprecated;if(e instanceof _definition.GraphQLObjectType||e instanceof _definition.GraphQLInterfaceType){var t=function(){var i=e.getFields(),t=Object.keys(i).map(function(e){return i[e]});return n||(t=t.filter(function(e){return!e.deprecationReason})),{v:t}}();if("object"==typeof t)return t.v}return null}},interfaces:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type)),resolve:function(e){if(e instanceof _definition.GraphQLObjectType)return e.getInterfaces()}},possibleTypes:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type)),resolve:function(e,i,n,t){var a=t.schema;if(e instanceof _definition.GraphQLInterfaceType||e instanceof _definition.GraphQLUnionType)return a.getPossibleTypes(e)}},enumValues:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__EnumValue)),args:{includeDeprecated:{type:_scalars.GraphQLBoolean,defaultValue:!1}},resolve:function(e,i){var n=i.includeDeprecated;if(e instanceof _definition.GraphQLEnumType){var t=e.getValues();return n||(t=t.filter(function(e){return!e.deprecationReason})),t}}},inputFields:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue)),resolve:function(e){if(e instanceof _definition.GraphQLInputObjectType){var i=function(){var i=e.getFields();return{v:Object.keys(i).map(function(e){return i[e]})}}();if("object"==typeof i)return i.v}}},ofType:{type:__Type}}}}),__Field=exports.__Field=new _definition.GraphQLObjectType({name:"__Field",isIntrospection:!0,description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},args:{type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue))),resolve:function(e){return e.args||[]}},type:{type:new _definition.GraphQLNonNull(__Type)},isDeprecated:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean)},deprecationReason:{type:_scalars.GraphQLString}}}}),__InputValue=exports.__InputValue=new _definition.GraphQLObjectType({name:"__InputValue",isIntrospection:!0,description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},type:{type:new _definition.GraphQLNonNull(__Type)},defaultValue:{type:_scalars.GraphQLString,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){return(0,_isInvalid2.default)(e.defaultValue)?null:(0,_printer.print)((0,_astFromValue.astFromValue)(e.defaultValue,e.type))}}}}}),__EnumValue=exports.__EnumValue=new _definition.GraphQLObjectType({name:"__EnumValue",isIntrospection:!0,description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},isDeprecated:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean)},deprecationReason:{type:_scalars.GraphQLString}}}}),TypeKind=exports.TypeKind={SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"},__TypeKind=exports.__TypeKind=new _definition.GraphQLEnumType({name:"__TypeKind",isIntrospection:!0,description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:TypeKind.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:TypeKind.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:TypeKind.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:TypeKind.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:TypeKind.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:TypeKind.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:TypeKind.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:TypeKind.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});exports.SchemaMetaFieldDef={name:"__schema",type:new _definition.GraphQLNonNull(__Schema),description:"Access the current type schema of this server.",args:[],resolve:function(e,i,n,t){var a=t.schema;return a}},exports.TypeMetaFieldDef={name:"__type",type:__Type,description:"Request the type information of a single type.",args:[{name:"name",type:new _definition.GraphQLNonNull(_scalars.GraphQLString)}],resolve:function(e,i,n,t){var a=i.name,r=t.schema;return r.getType(a)}},exports.TypeNameMetaFieldDef={name:"__typename",type:new _definition.GraphQLNonNull(_scalars.GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,i,n,t){var a=t.parentType;return a.name}}},{"../jsutils/isInvalid":77,"../language/printer":88,"../utilities/astFromValue":99,"./definition":91,"./directives":92,"./scalars":95}],95:[function(require,module,exports){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r}function coerceInt(e){if(""===e)throw new TypeError("Int cannot represent non 32-bit signed integer value: (empty string)");var r=Number(e);if(r===r&&r<=MAX_INT&&r>=MIN_INT)return(r<0?Math.ceil:Math.floor)(r);throw new TypeError("Int cannot represent non 32-bit signed integer value: "+String(e))}function coerceFloat(e){if(""===e)throw new TypeError("Float cannot represent non numeric value: (empty string)");var r=Number(e);if(r===r)return r;throw new TypeError("Float cannot represent non numeric value: "+String(e))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQLID=exports.GraphQLBoolean=exports.GraphQLString=exports.GraphQLFloat=exports.GraphQLInt=void 0;var _definition=require("./definition"),_kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),MAX_INT=2147483647,MIN_INT=-2147483648;exports.GraphQLInt=new _definition.GraphQLScalarType({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1. ",serialize:coerceInt,parseValue:coerceInt,parseLiteral:function(e){if(e.kind===Kind.INT){var r=parseInt(e.value,10);if(r<=MAX_INT&&r>=MIN_INT)return r}return null}}),exports.GraphQLFloat=new _definition.GraphQLScalarType({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point). ",serialize:coerceFloat,parseValue:coerceFloat,parseLiteral:function(e){return e.kind===Kind.FLOAT||e.kind===Kind.INT?parseFloat(e.value):null}}),exports.GraphQLString=new _definition.GraphQLScalarType({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===Kind.STRING?e.value:null}}),exports.GraphQLBoolean=new _definition.GraphQLScalarType({
name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:Boolean,parseValue:Boolean,parseLiteral:function(e){return e.kind===Kind.BOOLEAN?e.value:null}}),exports.GraphQLID=new _definition.GraphQLScalarType({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===Kind.STRING||e.kind===Kind.INT?e.value:null}})},{"../language/kinds":84,"./definition":91}],96:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function typeMapReducer(e,t){if(!t)return e;if(t instanceof _definition.GraphQLList||t instanceof _definition.GraphQLNonNull)return typeMapReducer(e,t.ofType);if(e[t.name])return(0,_invariant2.default)(e[t.name]===t,"Schema must contain unique named types but contains multiple "+('types named "'+t.name+'".')),e;e[t.name]=t;var i=e;return t instanceof _definition.GraphQLUnionType&&(i=t.getTypes().reduce(typeMapReducer,i)),t instanceof _definition.GraphQLObjectType&&(i=t.getInterfaces().reduce(typeMapReducer,i)),(t instanceof _definition.GraphQLObjectType||t instanceof _definition.GraphQLInterfaceType)&&!function(){var e=t.getFields();Object.keys(e).forEach(function(t){var n=e[t];if(n.args){var r=n.args.map(function(e){return e.type});i=r.reduce(typeMapReducer,i)}i=typeMapReducer(i,n.type)})}(),t instanceof _definition.GraphQLInputObjectType&&!function(){var e=t.getFields();Object.keys(e).forEach(function(t){var n=e[t];i=typeMapReducer(i,n.type)})}(),i}function assertObjectImplementsInterface(e,t,i){var n=t.getFields(),r=i.getFields();Object.keys(r).forEach(function(a){var p=n[a],o=r[a];(0,_invariant2.default)(p,'"'+i.name+'" expects field "'+a+'" but "'+t.name+'" does not provide it.'),(0,_invariant2.default)((0,_typeComparators.isTypeSubTypeOf)(e,p.type,o.type),i.name+"."+a+' expects type "'+String(o.type)+'" but '+(t.name+"."+a+' provides type "'+String(p.type)+'".')),o.args.forEach(function(e){var n=e.name,r=(0,_find2.default)(p.args,function(e){return e.name===n});(0,_invariant2.default)(r,i.name+"."+a+' expects argument "'+n+'" but '+(t.name+"."+a+" does not provide it.")),(0,_invariant2.default)((0,_typeComparators.isEqualType)(e.type,r.type),i.name+"."+a+"("+n+":) expects type "+('"'+String(e.type)+'" but ')+(t.name+"."+a+"("+n+":) provides type ")+('"'+String(r.type)+'".'))}),p.args.forEach(function(e){var n=e.name,r=(0,_find2.default)(o.args,function(e){return e.name===n});r||(0,_invariant2.default)(!(e.type instanceof _definition.GraphQLNonNull),t.name+"."+a+"("+n+":) is of required type "+('"'+String(e.type)+'" but is not also provided by the ')+("interface "+i.name+"."+a+"."))})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQLSchema=void 0;var _definition=require("./definition"),_directives=require("./directives"),_introspection=require("./introspection"),_find=require("../jsutils/find"),_find2=_interopRequireDefault(_find),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_typeComparators=require("../utilities/typeComparators");exports.GraphQLSchema=function(){function e(t){var i=this;_classCallCheck(this,e),(0,_invariant2.default)("object"==typeof t,"Must provide configuration object."),(0,_invariant2.default)(t.query instanceof _definition.GraphQLObjectType,"Schema query must be Object Type but got: "+String(t.query)+"."),this._queryType=t.query,(0,_invariant2.default)(!t.mutation||t.mutation instanceof _definition.GraphQLObjectType,"Schema mutation must be Object Type if provided but got: "+String(t.mutation)+"."),this._mutationType=t.mutation,(0,_invariant2.default)(!t.subscription||t.subscription instanceof _definition.GraphQLObjectType,"Schema subscription must be Object Type if provided but got: "+String(t.subscription)+"."),this._subscriptionType=t.subscription,(0,_invariant2.default)(!t.types||Array.isArray(t.types),"Schema types must be Array if provided but got: "+String(t.types)+"."),(0,_invariant2.default)(!t.directives||Array.isArray(t.directives)&&t.directives.every(function(e){return e instanceof _directives.GraphQLDirective}),"Schema directives must be Array<GraphQLDirective> if provided but got: "+String(t.directives)+"."),this._directives=t.directives||_directives.specifiedDirectives;var n=[this.getQueryType(),this.getMutationType(),this.getSubscriptionType(),_introspection.__Schema],r=t.types;r&&(n=n.concat(r)),this._typeMap=n.reduce(typeMapReducer,Object.create(null)),this._implementations=Object.create(null),Object.keys(this._typeMap).forEach(function(e){var t=i._typeMap[e];t instanceof _definition.GraphQLObjectType&&t.getInterfaces().forEach(function(e){var n=i._implementations[e.name];n?n.push(t):i._implementations[e.name]=[t]})}),Object.keys(this._typeMap).forEach(function(e){var t=i._typeMap[e];t instanceof _definition.GraphQLObjectType&&t.getInterfaces().forEach(function(e){return assertObjectImplementsInterface(i,t,e)})})}return e.prototype.getQueryType=function(){return this._queryType},e.prototype.getMutationType=function(){return this._mutationType},e.prototype.getSubscriptionType=function(){return this._subscriptionType},e.prototype.getTypeMap=function(){return this._typeMap},e.prototype.getType=function(e){return this.getTypeMap()[e]},e.prototype.getPossibleTypes=function(e){return e instanceof _definition.GraphQLUnionType?e.getTypes():((0,_invariant2.default)(e instanceof _definition.GraphQLInterfaceType),this._implementations[e.name])},e.prototype.isPossibleType=function(e,t){var i=this._possibleTypeMap;if(i||(this._possibleTypeMap=i=Object.create(null)),!i[e.name]){var n=this.getPossibleTypes(e);(0,_invariant2.default)(Array.isArray(n),"Could not find possible implementing types for "+e.name+" in schema. Check that schema.types is defined and is an array of all possible types in the schema."),i[e.name]=n.reduce(function(e,t){return e[t.name]=!0,e},Object.create(null))}return Boolean(i[e.name][t.name])},e.prototype.getDirectives=function(){return this._directives},e.prototype.getDirective=function(e){return(0,_find2.default)(this.getDirectives(),function(t){return t.name===e})},e}()},{"../jsutils/find":75,"../jsutils/invariant":76,"../utilities/typeComparators":113,"./definition":91,"./directives":92,"./introspection":94}],97:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getFieldDef(e,t,i){var n=i.name.value;return n===_introspection.SchemaMetaFieldDef.name&&e.getQueryType()===t?_introspection.SchemaMetaFieldDef:n===_introspection.TypeMetaFieldDef.name&&e.getQueryType()===t?_introspection.TypeMetaFieldDef:n===_introspection.TypeNameMetaFieldDef.name&&(t instanceof _definition.GraphQLObjectType||t instanceof _definition.GraphQLInterfaceType||t instanceof _definition.GraphQLUnionType)?_introspection.TypeNameMetaFieldDef:t instanceof _definition.GraphQLObjectType||t instanceof _definition.GraphQLInterfaceType?t.getFields()[n]:void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TypeInfo=void 0;var _kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),_definition=require("../type/definition"),_introspection=require("../type/introspection"),_typeFromAST=require("./typeFromAST"),_find=require("../jsutils/find"),_find2=_interopRequireDefault(_find);exports.TypeInfo=function(){function e(t,i){_classCallCheck(this,e),this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=i||getFieldDef}return e.prototype.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},e.prototype.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},e.prototype.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},e.prototype.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},e.prototype.getDirective=function(){return this._directive},e.prototype.getArgument=function(){return this._argument},e.prototype.getEnumValue=function(){return this._enumValue},e.prototype.enter=function(e){var t=this._schema;switch(e.kind){case Kind.SELECTION_SET:var i=(0,_definition.getNamedType)(this.getType()),n=void 0;(0,_definition.isCompositeType)(i)&&(n=i),this._parentTypeStack.push(n);break;case Kind.FIELD:var a=this.getParentType(),p=void 0;a&&(p=this._getFieldDef(t,a,e)),this._fieldDefStack.push(p),this._typeStack.push(p&&p.type);break;case Kind.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case Kind.OPERATION_DEFINITION:var r=void 0;"query"===e.operation?r=t.getQueryType():"mutation"===e.operation?r=t.getMutationType():"subscription"===e.operation&&(r=t.getSubscriptionType()),this._typeStack.push(r);break;case Kind.INLINE_FRAGMENT:case Kind.FRAGMENT_DEFINITION:var s=e.typeCondition,o=s?(0,_typeFromAST.typeFromAST)(t,s):this.getType();this._typeStack.push(o);break;case Kind.VARIABLE_DEFINITION:var c=(0,_typeFromAST.typeFromAST)(t,e.type);this._inputTypeStack.push(c);break;case Kind.ARGUMENT:var u=void 0,_=void 0,d=this.getDirective()||this.getFieldDef();d&&(u=(0,_find2.default)(d.args,function(t){return t.name===e.name.value}),u&&(_=u.type)),this._argument=u,this._inputTypeStack.push(_);break;case Kind.LIST:var h=(0,_definition.getNullableType)(this.getInputType());this._inputTypeStack.push(h instanceof _definition.GraphQLList?h.ofType:void 0);break;case Kind.OBJECT_FIELD:var f=(0,_definition.getNamedType)(this.getInputType()),y=void 0;if(f instanceof _definition.GraphQLInputObjectType){var T=f.getFields()[e.name.value];y=T?T.type:void 0}this._inputTypeStack.push(y);break;case Kind.ENUM:var l=(0,_definition.getNamedType)(this.getInputType()),k=void 0;l instanceof _definition.GraphQLEnumType&&(k=l.getValue(e.value)),this._enumValue=k}},e.prototype.leave=function(e){switch(e.kind){case Kind.SELECTION_SET:this._parentTypeStack.pop();break;case Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case Kind.DIRECTIVE:this._directive=null;break;case Kind.OPERATION_DEFINITION:case Kind.INLINE_FRAGMENT:case Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case Kind.ARGUMENT:this._argument=null,this._inputTypeStack.pop();break;case Kind.LIST:case Kind.OBJECT_FIELD:this._inputTypeStack.pop();break;case Kind.ENUM:this._enumValue=null}},e}()},{"../jsutils/find":75,"../language/kinds":84,"../type/definition":91,"../type/introspection":94,"./typeFromAST":114}],98:[function(require,module,exports){"use strict";function assertValidName(e,r){if(!e||"string"!=typeof e)throw new Error("Must be named. Unexpected name: "+e+".");if(!r&&"__"===e.slice(0,2)&&!hasWarnedAboutDunder&&(hasWarnedAboutDunder=!0,console&&console.error)){var t=new Error('Name "'+e+'" must not begin with "__", which is reserved by GraphQL introspection.');console.error(t.stack||String(t))}if(!NAME_RX.test(e))throw new Error('Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'+e+'" does not.')}Object.defineProperty(exports,"__esModule",{value:!0}),exports.assertValidName=assertValidName;var NAME_RX=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hasWarnedAboutDunder=!1},{}],99:[function(require,module,exports){"use strict";function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function astFromValue(i,e){var n=i;if(e instanceof _definition.GraphQLNonNull){var r=astFromValue(n,e.ofType);return r&&r.kind===_kinds.NULL?null:r}if(null===n)return{kind:_kinds.NULL};if((0,_isInvalid2.default)(n))return null;if(e instanceof _definition.GraphQLList){var t=function(){var i=e.ofType;if((0,_iterall.isCollection)(n)){var r=function(){var e=[];return(0,_iterall.forEach)(n,function(n){var r=astFromValue(n,i);r&&e.push(r)}),{v:{v:{kind:_kinds.LIST,values:e}}}}();if("object"==typeof r)return r.v}return{v:astFromValue(n,i)}}();if("object"==typeof t)return t.v}if(e instanceof _definition.GraphQLInputObjectType){var a=function(){if(null===n||"object"!=typeof n)return{v:null};var i=e.getFields(),r=[];return Object.keys(i).forEach(function(e){var t=i[e].type,a=astFromValue(n[e],t);a&&r.push({kind:_kinds.OBJECT_FIELD,name:{kind:_kinds.NAME,value:e},value:a})}),{v:{kind:_kinds.OBJECT,fields:r}}}();if("object"==typeof a)return a.v}(0,_invariant2.default)(e instanceof _definition.GraphQLScalarType||e instanceof _definition.GraphQLEnumType,"Must provide Input Type, cannot use: "+String(e));var u=e.serialize(n);if((0,_isNullish2.default)(u))return null;if("boolean"==typeof u)return{kind:_kinds.BOOLEAN,value:u};if("number"==typeof u){var l=String(u);return/^[0-9]+$/.test(l)?{kind:_kinds.INT,value:l}:{kind:_kinds.FLOAT,value:l}}if("string"==typeof u)return e instanceof _definition.GraphQLEnumType?{kind:_kinds.ENUM,value:u}:e===_scalars.GraphQLID&&/^[0-9]+$/.test(u)?{kind:_kinds.INT,value:u}:{kind:_kinds.STRING,value:JSON.stringify(u).slice(1,-1)};throw new TypeError("Cannot convert value to AST: "+String(u))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.astFromValue=astFromValue;var _iterall=require("iterall"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_isInvalid=require("../jsutils/isInvalid"),_isInvalid2=_interopRequireDefault(_isInvalid),_kinds=require("../language/kinds"),_definition=require("../type/definition"),_scalars=require("../type/scalars")},{"../jsutils/invariant":76,"../jsutils/isInvalid":77,"../jsutils/isNullish":78,"../language/kinds":84,"../type/definition":91,"../type/scalars":95,iterall:144}],100:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function buildWrappedType(e,n){if(n.kind===_kinds.LIST_TYPE)return new _definition.GraphQLList(buildWrappedType(e,n.type));if(n.kind===_kinds.NON_NULL_TYPE){var i=buildWrappedType(e,n.type);return(0,_invariant2.default)(!(i instanceof _definition.GraphQLNonNull),"No nesting nonnull."),new _definition.GraphQLNonNull(i)}return e}function getNamedTypeNode(e){for(var n=e;n.kind===_kinds.LIST_TYPE||n.kind===_kinds.NON_NULL_TYPE;)n=n.type;return n}function buildASTSchema(e){function n(e){return new _directives.GraphQLDirective({name:e.name.value,description:getDescription(e),locations:e.locations.map(function(e){return e.value}),args:e.arguments&&f(e.arguments)})}function i(e){var n=c(e.name.value);return(0,_invariant2.default)(n instanceof _definition.GraphQLObjectType,"AST must provide object type."),n}function r(e){var n=getNamedTypeNode(e).name.value,i=c(n);return buildWrappedType(i,e)}function t(e){var n=r(e);return(0,_invariant2.default)((0,_definition.isInputType)(n),"Expected Input type."),n}function a(e){var n=r(e);return(0,_invariant2.default)((0,_definition.isOutputType)(n),"Expected Output type."),n}function o(e){var n=r(e);return(0,_invariant2.default)(n instanceof _definition.GraphQLObjectType,"Expected Object type."),n}function u(e){var n=r(e);return(0,_invariant2.default)(n instanceof _definition.GraphQLInterfaceType,"Expected Interface type."),n}function c(e){if(L[e])return L[e];if(!I[e])throw new Error('Type "'+e+'" not found in document.');var n=s(I[e]);if(!n)throw new Error('Nothing constructed for "'+e+'".');return L[e]=n,n}function s(e){if(!e)throw new Error("def must be defined");switch(e.kind){case _kinds.OBJECT_TYPE_DEFINITION:return p(e);case _kinds.INTERFACE_TYPE_DEFINITION:return l(e);case _kinds.ENUM_TYPE_DEFINITION:return v(e);case _kinds.UNION_TYPE_DEFINITION:return m(e);case _kinds.SCALAR_TYPE_DEFINITION:return T(e);case _kinds.INPUT_OBJECT_TYPE_DEFINITION:return y(e);default:throw new Error('Type kind "'+e.kind+'" not supported.')}}function p(e){var n=e.name.value;return new _definition.GraphQLObjectType({name:n,description:getDescription(e),fields:function(){return d(e)},interfaces:function(){return _(e)}})}function d(e){return(0,_keyValMap2.default)(e.fields,function(e){return e.name.value},function(e){return{type:a(e.type),description:getDescription(e),args:f(e.arguments),deprecationReason:getDeprecationReason(e.directives)}})}function _(e){return e.interfaces&&e.interfaces.map(function(e){return u(e)})}function f(e){return(0,_keyValMap2.default)(e,function(e){return e.name.value},function(e){var n=t(e.type);return{type:n,description:getDescription(e),defaultValue:(0,_valueFromAST.valueFromAST)(e.defaultValue,n)}})}function l(e){var n=e.name.value;return new _definition.GraphQLInterfaceType({name:n,description:getDescription(e),fields:function(){return d(e)},resolveType:cannotExecuteSchema})}function v(e){var n=new _definition.GraphQLEnumType({name:e.name.value,description:getDescription(e),values:(0,_keyValMap2.default)(e.values,function(e){return e.name.value},function(e){return{description:getDescription(e),deprecationReason:getDeprecationReason(e.directives)}})});return n}function m(e){return new _definition.GraphQLUnionType({name:e.name.value,description:getDescription(e),types:e.types.map(function(e){return o(e)}),resolveType:cannotExecuteSchema})}function T(e){return new _definition.GraphQLScalarType({name:e.name.value,description:getDescription(e),serialize:function(){return null},parseValue:function(){return!1},parseLiteral:function(){return!1}})}function y(e){return new _definition.GraphQLInputObjectType({name:e.name.value,description:getDescription(e),fields:function(){return f(e.fields)}})}if(!e||e.kind!==_kinds.DOCUMENT)throw new Error("Must provide a document ast.");for(var h=void 0,E=[],I=Object.create(null),N=[],D=0;D<e.definitions.length;D++){var k=e.definitions[D];switch(k.kind){case _kinds.SCHEMA_DEFINITION:if(h)throw new Error("Must provide only one schema definition.");h=k;break;case _kinds.SCALAR_TYPE_DEFINITION:case _kinds.OBJECT_TYPE_DEFINITION:case _kinds.INTERFACE_TYPE_DEFINITION:case _kinds.ENUM_TYPE_DEFINITION:case _kinds.UNION_TYPE_DEFINITION:case _kinds.INPUT_OBJECT_TYPE_DEFINITION:E.push(k),I[k.name.value]=k;break;case _kinds.DIRECTIVE_DEFINITION:N.push(k)}}var w=void 0,g=void 0,S=void 0;if(h?h.operationTypes.forEach(function(e){var n=e.type.name.value;if("query"===e.operation){if(w)throw new Error("Must provide only one query type in schema.");if(!I[n])throw new Error('Specified query type "'+n+'" not found in document.');w=n}else if("mutation"===e.operation){if(g)throw new Error("Must provide only one mutation type in schema.");if(!I[n])throw new Error('Specified mutation type "'+n+'" not found in document.');g=n}else if("subscription"===e.operation){if(S)throw new Error("Must provide only one subscription type in schema.");if(!I[n])throw new Error('Specified subscription type "'+n+'" not found in document.');S=n}}):(I.Query&&(w="Query"),I.Mutation&&(g="Mutation"),I.Subscription&&(S="Subscription")),!w)throw new Error("Must provide schema definition with query type or a type named Query.");var L={String:_scalars.GraphQLString,Int:_scalars.GraphQLInt,Float:_scalars.GraphQLFloat,Boolean:_scalars.GraphQLBoolean,ID:_scalars.GraphQLID,__Schema:_introspection.__Schema,__Directive:_introspection.__Directive,__DirectiveLocation:_introspection.__DirectiveLocation,__Type:_introspection.__Type,__Field:_introspection.__Field,__InputValue:_introspection.__InputValue,__EnumValue:_introspection.__EnumValue,__TypeKind:_introspection.__TypeKind},O=E.map(function(e){return c(e.name.value)}),b=N.map(n);return b.some(function(e){return"skip"===e.name})||b.push(_directives.GraphQLSkipDirective),b.some(function(e){return"include"===e.name})||b.push(_directives.GraphQLIncludeDirective),b.some(function(e){return"deprecated"===e.name})||b.push(_directives.GraphQLDeprecatedDirective),new _schema.GraphQLSchema({query:i(I[w]),mutation:g?i(I[g]):null,subscription:S?i(I[S]):null,types:O,directives:b})}function getDeprecationReason(e){var n=e&&(0,_find2.default)(e,function(e){return e.name.value===_directives.GraphQLDeprecatedDirective.name});if(n){var i=(0,_values.getArgumentValues)(_directives.GraphQLDeprecatedDirective,n),r=i.reason;return r}}function getDescription(e){var n=e.loc;if(n){for(var i=[],r=void 0,t=n.startToken.prev;t&&t.kind===_lexer.TokenKind.COMMENT&&t.next&&t.prev&&t.line+1===t.next.line&&t.line!==t.prev.line;){var a=String(t.value),o=leadingSpaces(a);(void 0===r||o<r)&&(r=o),i.push(a),t=t.prev}return i.reverse().map(function(e){return e.slice(r)}).join("\n")}}function buildSchema(e){return buildASTSchema((0,_parser.parse)(e))}function leadingSpaces(e){for(var n=0;n<e.length&&" "===e[n];n++);return n}function cannotExecuteSchema(){throw new Error("Generated Schema cannot use Interface or Union types for execution.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildASTSchema=buildASTSchema,exports.getDescription=getDescription,exports.buildSchema=buildSchema;var _find=require("../jsutils/find"),_find2=_interopRequireDefault(_find),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_keyValMap=require("../jsutils/keyValMap"),_keyValMap2=_interopRequireDefault(_keyValMap),_valueFromAST=require("./valueFromAST"),_lexer=require("../language/lexer"),_parser=require("../language/parser"),_values=require("../execution/values"),_kinds=require("../language/kinds"),_schema=require("../type/schema"),_scalars=require("../type/scalars"),_definition=require("../type/definition"),_directives=require("../type/directives"),_introspection=require("../type/introspection")},{"../execution/values":72,"../jsutils/find":75,"../jsutils/invariant":76,"../jsutils/keyValMap":80,"../language/kinds":84,"../language/lexer":85,"../language/parser":87,"../type/definition":91,"../type/directives":92,"../type/introspection":94,"../type/scalars":95,"../type/schema":96,"./valueFromAST":115}],101:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function buildClientSchema(e){function n(e){if(e.kind===_introspection.TypeKind.LIST){var t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return new _definition.GraphQLList(n(t))}if(e.kind===_introspection.TypeKind.NON_NULL){var r=e.ofType;if(!r)throw new Error("Decorated type deeper than introspection query.");var a=n(r);return(0,_invariant2.default)(!(a instanceof _definition.GraphQLNonNull),"No nesting nonnull."),new _definition.GraphQLNonNull(a)}return i(e.name)}function i(e){if(L[e])return L[e];var n=h[e];if(!n)throw new Error("Invalid or incomplete schema, unknown type: "+e+". Ensure that a full introspection query is used in order to build a client schema.");var i=c(n);return L[e]=i,i}function t(e){var i=n(e);return(0,_invariant2.default)((0,_definition.isInputType)(i),"Introspection must provide input type for arguments."),i}function r(e){var i=n(e);return(0,_invariant2.default)((0,_definition.isOutputType)(i),"Introspection must provide output type for fields."),i}function a(e){var i=n(e);return(0,_invariant2.default)(i instanceof _definition.GraphQLObjectType,"Introspection must provide object type for possibleTypes."),i}function o(e){var i=n(e);return(0,_invariant2.default)(i instanceof _definition.GraphQLInterfaceType,"Introspection must provide interface type for interfaces."),i}function c(e){switch(e.kind){case _introspection.TypeKind.SCALAR:return u(e);case _introspection.TypeKind.OBJECT:return p(e);case _introspection.TypeKind.INTERFACE:return s(e);case _introspection.TypeKind.UNION:return _(e);case _introspection.TypeKind.ENUM:return d(e);case _introspection.TypeKind.INPUT_OBJECT:return l(e);default:throw new Error("Invalid or incomplete schema, unknown kind: "+e.kind+". Ensure that a full introspection query is used in order to build a client schema.")}}function u(e){return new _definition.GraphQLScalarType({name:e.name,description:e.description,serialize:function(e){return e},parseValue:function(){return!1},parseLiteral:function(){return!1}})}function p(e){return new _definition.GraphQLObjectType({name:e.name,description:e.description,interfaces:e.interfaces.map(o),fields:function(){return f(e)}})}function s(e){return new _definition.GraphQLInterfaceType({name:e.name,description:e.description,fields:function(){return f(e)},resolveType:cannotExecuteClientSchema})}function _(e){return new _definition.GraphQLUnionType({name:e.name,description:e.description,types:e.possibleTypes.map(a),resolveType:cannotExecuteClientSchema})}function d(e){return new _definition.GraphQLEnumType({name:e.name,description:e.description,values:(0,_keyValMap2.default)(e.enumValues,function(e){return e.name},function(e){return{description:e.description,deprecationReason:e.deprecationReason}})})}function l(e){return new _definition.GraphQLInputObjectType({name:e.name,description:e.description,fields:function(){return y(e.inputFields)}})}function f(e){return(0,_keyValMap2.default)(e.fields,function(e){return e.name},function(e){return{description:e.description,deprecationReason:e.deprecationReason,type:r(e.type),args:y(e.args)}})}function y(e){return(0,_keyValMap2.default)(e,function(e){return e.name},m)}function m(e){var n=t(e.type),i=e.defaultValue?(0,_valueFromAST.valueFromAST)((0,_parser.parseValue)(e.defaultValue),n):void 0;return{name:e.name,description:e.description,type:n,defaultValue:i}}function v(e){var n=e.locations?e.locations.slice():[].concat(e.onField?[_directives.DirectiveLocation.FIELD]:[],e.onOperation?[_directives.DirectiveLocation.QUERY,_directives.DirectiveLocation.MUTATION,_directives.DirectiveLocation.SUBSCRIPTION]:[],e.onFragment?[_directives.DirectiveLocation.FRAGMENT_DEFINITION,_directives.DirectiveLocation.FRAGMENT_SPREAD,_directives.DirectiveLocation.INLINE_FRAGMENT]:[]);return new _directives.GraphQLDirective({name:e.name,description:e.description,locations:n,args:y(e.args)})}var T=e.__schema,h=(0,_keyMap2.default)(T.types,function(e){return e.name}),L={String:_scalars.GraphQLString,Int:_scalars.GraphQLInt,Float:_scalars.GraphQLFloat,Boolean:_scalars.GraphQLBoolean,ID:_scalars.GraphQLID,__Schema:_introspection.__Schema,__Directive:_introspection.__Directive,__DirectiveLocation:_introspection.__DirectiveLocation,__Type:_introspection.__Type,__Field:_introspection.__Field,__InputValue:_introspection.__InputValue,__EnumValue:_introspection.__EnumValue,__TypeKind:_introspection.__TypeKind},I=T.types.map(function(e){return i(e.name)}),E=a(T.queryType),w=T.mutationType?a(T.mutationType):null,D=T.subscriptionType?a(T.subscriptionType):null,N=T.directives?T.directives.map(v):[];return new _schema.GraphQLSchema({query:E,mutation:w,subscription:D,types:I,directives:N})}function cannotExecuteClientSchema(){throw new Error("Client Schema cannot use Interface or Union types for execution.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildClientSchema=buildClientSchema;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_keyValMap=require("../jsutils/keyValMap"),_keyValMap2=_interopRequireDefault(_keyValMap),_valueFromAST=require("./valueFromAST"),_parser=require("../language/parser"),_schema=require("../type/schema"),_definition=require("../type/definition"),_introspection=require("../type/introspection"),_scalars=require("../type/scalars"),_directives=require("../type/directives")},{"../jsutils/invariant":76,"../jsutils/keyMap":79,"../jsutils/keyValMap":80,"../language/parser":87,"../type/definition":91,"../type/directives":92,"../type/introspection":94,"../type/scalars":95,"../type/schema":96,"./valueFromAST":115}],102:[function(require,module,exports){"use strict";function concatAST(e){for(var t=[],n=0;n<e.length;n++)for(var o=e[n].definitions,r=0;r<o.length;r++)t.push(o[r]);return{kind:"Document",definitions:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatAST=concatAST},{}],103:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function extendSchema(e,n){function i(){var n=e.getDirectives();(0,_invariant2.default)(n,"schema must have default directives");var i=w.map(function(e){return k(e)});return n.concat(i)}function t(e){var n=s(e.name);return(0,_invariant2.default)(n,"Missing type from schema"),n}function r(e){var n=s(e.name.value);if(!n)throw new _GraphQLError.GraphQLError('Unknown type: "'+e.name.value+'". Ensure that this type exists either in the original schema, or is added in a type definition.',[e]);return n}function a(e){var n=r(e);return(0,_invariant2.default)(n instanceof _definition.GraphQLObjectType,"Must be Object type."),n}function o(e){var n=r(e);return(0,_invariant2.default)(n instanceof _definition.GraphQLInterfaceType,"Must be Interface type."),n}function u(e){var n=r(e);return(0,_invariant2.default)((0,_definition.isInputType)(n),"Must be Input type."),n}function c(e){var n=r(e);return(0,_invariant2.default)((0,_definition.isOutputType)(n),"Must be Output type."),n}function s(n){var i=U[n];if(i)return i;var t=e.getType(n);if(t){var r=p(t);return U[n]=r,r}var a=O[n];if(a){var o=T(a);return U[n]=o,o}}function p(e){return e instanceof _definition.GraphQLObjectType?_(e):e instanceof _definition.GraphQLInterfaceType?f(e):e instanceof _definition.GraphQLUnionType?d(e):e}function _(e){return new _definition.GraphQLObjectType({name:e.name,description:e.description,interfaces:function(){return l(e)},fields:function(){return h(e)},isTypeOf:e.isTypeOf})}function f(e){return new _definition.GraphQLInterfaceType({name:e.name,description:e.description,fields:function(){return h(e)},resolveType:e.resolveType})}function d(e){return new _definition.GraphQLUnionType({name:e.name,description:e.description,types:e.getTypes().map(t),resolveType:e.resolveType})}function l(e){var n=e.getInterfaces().map(t),i=D[e.name];return i&&i.forEach(function(i){i.definition.interfaces.forEach(function(i){var t=i.name.value;if(n.some(function(e){return e.name===t}))throw new _GraphQLError.GraphQLError('Type "'+e.name+'" already implements "'+t+'". It cannot also be implemented in this type extension.',[i]);n.push(o(i))})}),n}function h(e){var n={},i=e.getFields();Object.keys(i).forEach(function(e){var t=i[e];n[e]={description:t.description,deprecationReason:t.deprecationReason,type:y(t.type),args:(0,_keyMap2.default)(t.args,function(e){return e.name}),resolve:t.resolve}});var t=D[e.name];return t&&t.forEach(function(t){t.definition.fields.forEach(function(t){var r=t.name.value;if(i[r])throw new _GraphQLError.GraphQLError('Field "'+e.name+"."+r+'" already exists in the schema. It cannot also be defined in this type extension.',[t]);n[r]={description:(0,_buildASTSchema.getDescription)(t),type:g(t.type),args:S(t.arguments)}})}),n}function y(e){return e instanceof _definition.GraphQLList?new _definition.GraphQLList(y(e.ofType)):e instanceof _definition.GraphQLNonNull?new _definition.GraphQLNonNull(y(e.ofType)):t(e)}function T(e){switch(e.kind){case _kinds.OBJECT_TYPE_DEFINITION:return m(e);case _kinds.INTERFACE_TYPE_DEFINITION:return v(e);case _kinds.UNION_TYPE_DEFINITION:
return E(e);case _kinds.SCALAR_TYPE_DEFINITION:return I(e);case _kinds.ENUM_TYPE_DEFINITION:return L(e);case _kinds.INPUT_OBJECT_TYPE_DEFINITION:return N(e)}throw new TypeError("Unknown type kind "+e.kind)}function m(e){return new _definition.GraphQLObjectType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),interfaces:function(){return Q(e)},fields:function(){return G(e)}})}function v(e){return new _definition.GraphQLInterfaceType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),fields:function(){return G(e)},resolveType:cannotExecuteExtendedSchema})}function E(e){return new _definition.GraphQLUnionType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),types:e.types.map(a),resolveType:cannotExecuteExtendedSchema})}function I(e){return new _definition.GraphQLScalarType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),serialize:function(e){return e},parseValue:function(){return!1},parseLiteral:function(){return!1}})}function L(e){return new _definition.GraphQLEnumType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),values:(0,_keyValMap2.default)(e.values,function(e){return e.name.value},function(){return{}})})}function N(e){return new _definition.GraphQLInputObjectType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),fields:function(){return S(e.fields)}})}function k(e){return new _directives.GraphQLDirective({name:e.name.value,locations:e.locations.map(function(e){return e.value}),args:e.arguments&&S(e.arguments)})}function Q(e){return e.interfaces&&e.interfaces.map(o)}function G(e){return(0,_keyValMap2.default)(e.fields,function(e){return e.name.value},function(e){return{type:g(e.type),description:(0,_buildASTSchema.getDescription)(e),args:S(e.arguments)}})}function S(e){return(0,_keyValMap2.default)(e,function(e){return e.name.value},function(e){var n=b(e.type);return{type:n,description:(0,_buildASTSchema.getDescription)(e),defaultValue:(0,_valueFromAST.valueFromAST)(e.defaultValue,n)}})}function b(e){if(e.kind===_kinds.LIST_TYPE)return new _definition.GraphQLList(b(e.type));if(e.kind===_kinds.NON_NULL_TYPE){var n=b(e.type);return(0,_invariant2.default)(!(n instanceof _definition.GraphQLNonNull),"Must be nullable"),new _definition.GraphQLNonNull(n)}return u(e)}function g(e){if(e.kind===_kinds.LIST_TYPE)return new _definition.GraphQLList(g(e.type));if(e.kind===_kinds.NON_NULL_TYPE){var n=g(e.type);return(0,_invariant2.default)(!(n instanceof _definition.GraphQLNonNull),"Must be nullable"),new _definition.GraphQLNonNull(n)}return c(e)}(0,_invariant2.default)(e instanceof _schema.GraphQLSchema,"Must provide valid GraphQLSchema"),(0,_invariant2.default)(n&&n.kind===_kinds.DOCUMENT,"Must provide valid Document AST");for(var O={},D={},w=[],M=0;M<n.definitions.length;M++){var F=n.definitions[M];switch(F.kind){case _kinds.OBJECT_TYPE_DEFINITION:case _kinds.INTERFACE_TYPE_DEFINITION:case _kinds.ENUM_TYPE_DEFINITION:case _kinds.UNION_TYPE_DEFINITION:case _kinds.SCALAR_TYPE_DEFINITION:case _kinds.INPUT_OBJECT_TYPE_DEFINITION:var x=F.name.value;if(e.getType(x))throw new _GraphQLError.GraphQLError('Type "'+x+'" already exists in the schema. It cannot also be defined in this type definition.',[F]);O[x]=F;break;case _kinds.TYPE_EXTENSION_DEFINITION:var A=F.definition.name.value,P=e.getType(A);if(!P)throw new _GraphQLError.GraphQLError('Cannot extend type "'+A+'" because it does not exist in the existing schema.',[F.definition]);if(!(P instanceof _definition.GraphQLObjectType))throw new _GraphQLError.GraphQLError('Cannot extend non-object type "'+A+'".',[F.definition]);var j=D[A];j?j.push(F):j=[F],D[A]=j;break;case _kinds.DIRECTIVE_DEFINITION:var q=F.name.value,Y=e.getDirective(q);if(Y)throw new _GraphQLError.GraphQLError('Directive "'+q+'" already exists in the schema. It cannot be redefined.',[F]);w.push(F)}}if(0===Object.keys(D).length&&0===Object.keys(O).length&&0===w.length)return e;var U={String:_scalars.GraphQLString,Int:_scalars.GraphQLInt,Float:_scalars.GraphQLFloat,Boolean:_scalars.GraphQLBoolean,ID:_scalars.GraphQLID,__Schema:_introspection.__Schema,__Directive:_introspection.__Directive,__DirectiveLocation:_introspection.__DirectiveLocation,__Type:_introspection.__Type,__Field:_introspection.__Field,__InputValue:_introspection.__InputValue,__EnumValue:_introspection.__EnumValue,__TypeKind:_introspection.__TypeKind},V=t(e.getQueryType()),C=e.getMutationType(),R=C?t(C):null,B=e.getSubscriptionType(),J=B?t(B):null,K=e.getTypeMap(),z=Object.keys(K).map(function(e){return t(K[e])});return Object.keys(O).forEach(function(e){z.push(r(O[e]))}),new _schema.GraphQLSchema({query:V,mutation:R,subscription:J,types:z,directives:i()})}function cannotExecuteExtendedSchema(){throw new Error("Extended Schema cannot use Interface or Union types for execution.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendSchema=extendSchema;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_keyValMap=require("../jsutils/keyValMap"),_keyValMap2=_interopRequireDefault(_keyValMap),_buildASTSchema=require("./buildASTSchema"),_valueFromAST=require("./valueFromAST"),_GraphQLError=require("../error/GraphQLError"),_schema=require("../type/schema"),_definition=require("../type/definition"),_directives=require("../type/directives"),_introspection=require("../type/introspection"),_scalars=require("../type/scalars"),_kinds=require("../language/kinds")},{"../error/GraphQLError":65,"../jsutils/invariant":76,"../jsutils/keyMap":79,"../jsutils/keyValMap":80,"../language/kinds":84,"../type/definition":91,"../type/directives":92,"../type/introspection":94,"../type/scalars":95,"../type/schema":96,"./buildASTSchema":100,"./valueFromAST":115}],104:[function(require,module,exports){"use strict";function findBreakingChanges(e,n){return[].concat(findRemovedTypes(e,n),findTypesThatChangedKind(e,n),findFieldsThatChangedType(e,n),findTypesRemovedFromUnions(e,n),findValuesRemovedFromEnums(e,n))}function findRemovedTypes(e,n){var i=e.getTypeMap(),t=n.getTypeMap(),a=[];return Object.keys(i).forEach(function(e){t[e]||a.push({type:BreakingChangeType.TYPE_REMOVED,description:e+" was removed."})}),a}function findTypesThatChangedKind(e,n){var i=e.getTypeMap(),t=n.getTypeMap(),a=[];return Object.keys(i).forEach(function(e){if(t[e]){var n=i[e],r=t[e];n instanceof r.constructor||a.push({type:BreakingChangeType.TYPE_CHANGED_KIND,description:e+" changed from "+(typeKindName(n)+" to "+typeKindName(r)+".")})}}),a}function typeKindName(e){if(e instanceof _definition.GraphQLScalarType)return"a Scalar type";if(e instanceof _definition.GraphQLObjectType)return"an Object type";if(e instanceof _definition.GraphQLInterfaceType)return"an Interface type";if(e instanceof _definition.GraphQLUnionType)return"a Union type";if(e instanceof _definition.GraphQLEnumType)return"an Enum type";if(e instanceof _definition.GraphQLInputObjectType)return"an Input type";throw new TypeError("Unknown type "+e.constructor.name)}function findFieldsThatChangedType(e,n){var i=e.getTypeMap(),t=n.getTypeMap(),a=[];return Object.keys(i).forEach(function(e){var n=i[e],r=t[e];if((n instanceof _definition.GraphQLObjectType||n instanceof _definition.GraphQLInterfaceType||n instanceof _definition.GraphQLInputObjectType)&&r instanceof n.constructor){var o=n.getFields(),p=r.getFields();Object.keys(o).forEach(function(n){if(n in p){var i=(0,_definition.getNamedType)(o[n].type),t=(0,_definition.getNamedType)(p[n].type);i&&t&&i.name!==t.name&&a.push({type:BreakingChangeType.FIELD_CHANGED_KIND,description:e+"."+n+" changed type from "+(i.name+" to "+t.name+".")})}else a.push({type:BreakingChangeType.FIELD_REMOVED,description:e+"."+n+" was removed."})})}}),a}function findTypesRemovedFromUnions(e,n){var i=e.getTypeMap(),t=n.getTypeMap(),a=[];return Object.keys(i).forEach(function(e){var n=i[e],r=t[e];if(n instanceof _definition.GraphQLUnionType&&r instanceof _definition.GraphQLUnionType){var o=Object.create(null);r.getTypes().forEach(function(e){o[e.name]=!0}),n.getTypes().forEach(function(n){o[n.name]||a.push({type:BreakingChangeType.TYPE_REMOVED_FROM_UNION,description:n.name+" was removed from union type "+e+"."})})}}),a}function findValuesRemovedFromEnums(e,n){var i=e.getTypeMap(),t=n.getTypeMap(),a=[];return Object.keys(i).forEach(function(e){var n=i[e],r=t[e];if(n instanceof _definition.GraphQLEnumType&&r instanceof _definition.GraphQLEnumType){var o=Object.create(null);r.getValues().forEach(function(e){o[e.name]=!0}),n.getValues().forEach(function(n){o[n.name]||a.push({type:BreakingChangeType.VALUE_REMOVED_FROM_ENUM,description:n.name+" was removed from enum type "+e+"."})})}}),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BreakingChangeType=void 0,exports.findBreakingChanges=findBreakingChanges,exports.findRemovedTypes=findRemovedTypes,exports.findTypesThatChangedKind=findTypesThatChangedKind,exports.findFieldsThatChangedType=findFieldsThatChangedType,exports.findTypesRemovedFromUnions=findTypesRemovedFromUnions,exports.findValuesRemovedFromEnums=findValuesRemovedFromEnums;var _definition=require("../type/definition"),BreakingChangeType=(require("../type/schema"),exports.BreakingChangeType={FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",FIELD_REMOVED:"FIELD_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED:"TYPE_REMOVED",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM"})},{"../type/definition":91,"../type/schema":96}],105:[function(require,module,exports){"use strict";function findDeprecatedUsages(e,r){var i=[],a=new _TypeInfo.TypeInfo(e);return(0,_visitor.visit)(r,(0,_visitor.visitWithTypeInfo)(a,{Field:function(e){var r=a.getFieldDef();if(r&&r.isDeprecated){var n=a.getParentType();if(n){var t=r.deprecationReason;i.push(new _GraphQLError.GraphQLError("The field "+n.name+"."+r.name+" is deprecated."+(t?" "+t:""),[e]))}}},EnumValue:function(e){var r=a.getEnumValue();if(r&&r.isDeprecated){var n=(0,_definition.getNamedType)(a.getInputType());if(n){var t=r.deprecationReason;i.push(new _GraphQLError.GraphQLError("The enum value "+n.name+"."+r.name+" is deprecated."+(t?" "+t:""),[e]))}}}})),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.findDeprecatedUsages=findDeprecatedUsages;var _GraphQLError=require("../error/GraphQLError"),_visitor=require("../language/visitor"),_definition=require("../type/definition"),_TypeInfo=(require("../type/schema"),require("./TypeInfo"))},{"../error/GraphQLError":65,"../language/visitor":90,"../type/definition":91,"../type/schema":96,"./TypeInfo":97}],106:[function(require,module,exports){"use strict";function getOperationAST(e,n){for(var i=null,r=0;r<e.definitions.length;r++){var t=e.definitions[r];if(t.kind===_kinds.OPERATION_DEFINITION)if(n){if(t.name&&t.name.value===n)return t}else{if(i)return null;i=t}}return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOperationAST=getOperationAST;var _kinds=require("../language/kinds")},{"../language/kinds":84}],107:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _introspectionQuery=require("./introspectionQuery");Object.defineProperty(exports,"introspectionQuery",{enumerable:!0,get:function(){return _introspectionQuery.introspectionQuery}});var _getOperationAST=require("./getOperationAST");Object.defineProperty(exports,"getOperationAST",{enumerable:!0,get:function(){return _getOperationAST.getOperationAST}});var _buildClientSchema=require("./buildClientSchema");Object.defineProperty(exports,"buildClientSchema",{enumerable:!0,get:function(){return _buildClientSchema.buildClientSchema}});var _buildASTSchema=require("./buildASTSchema");Object.defineProperty(exports,"buildASTSchema",{enumerable:!0,get:function(){return _buildASTSchema.buildASTSchema}}),Object.defineProperty(exports,"buildSchema",{enumerable:!0,get:function(){return _buildASTSchema.buildSchema}});var _extendSchema=require("./extendSchema");Object.defineProperty(exports,"extendSchema",{enumerable:!0,get:function(){return _extendSchema.extendSchema}});var _schemaPrinter=require("./schemaPrinter");Object.defineProperty(exports,"printSchema",{enumerable:!0,get:function(){return _schemaPrinter.printSchema}}),Object.defineProperty(exports,"printType",{enumerable:!0,get:function(){return _schemaPrinter.printType}}),Object.defineProperty(exports,"printIntrospectionSchema",{enumerable:!0,get:function(){return _schemaPrinter.printIntrospectionSchema}});var _typeFromAST=require("./typeFromAST");Object.defineProperty(exports,"typeFromAST",{enumerable:!0,get:function(){return _typeFromAST.typeFromAST}});var _valueFromAST=require("./valueFromAST");Object.defineProperty(exports,"valueFromAST",{enumerable:!0,get:function(){return _valueFromAST.valueFromAST}});var _astFromValue=require("./astFromValue");Object.defineProperty(exports,"astFromValue",{enumerable:!0,get:function(){return _astFromValue.astFromValue}});var _TypeInfo=require("./TypeInfo");Object.defineProperty(exports,"TypeInfo",{enumerable:!0,get:function(){return _TypeInfo.TypeInfo}});var _isValidJSValue=require("./isValidJSValue");Object.defineProperty(exports,"isValidJSValue",{enumerable:!0,get:function(){return _isValidJSValue.isValidJSValue}});var _isValidLiteralValue=require("./isValidLiteralValue");Object.defineProperty(exports,"isValidLiteralValue",{enumerable:!0,get:function(){return _isValidLiteralValue.isValidLiteralValue}});var _concatAST=require("./concatAST");Object.defineProperty(exports,"concatAST",{enumerable:!0,get:function(){return _concatAST.concatAST}});var _separateOperations=require("./separateOperations");Object.defineProperty(exports,"separateOperations",{enumerable:!0,get:function(){return _separateOperations.separateOperations}});var _typeComparators=require("./typeComparators");Object.defineProperty(exports,"isEqualType",{enumerable:!0,get:function(){return _typeComparators.isEqualType}}),Object.defineProperty(exports,"isTypeSubTypeOf",{enumerable:!0,get:function(){return _typeComparators.isTypeSubTypeOf}}),Object.defineProperty(exports,"doTypesOverlap",{enumerable:!0,get:function(){return _typeComparators.doTypesOverlap}});var _assertValidName=require("./assertValidName");Object.defineProperty(exports,"assertValidName",{enumerable:!0,get:function(){return _assertValidName.assertValidName}});var _findBreakingChanges=require("./findBreakingChanges");Object.defineProperty(exports,"findBreakingChanges",{enumerable:!0,get:function(){return _findBreakingChanges.findBreakingChanges}});var _findDeprecatedUsages=require("./findDeprecatedUsages");Object.defineProperty(exports,"findDeprecatedUsages",{enumerable:!0,get:function(){return _findDeprecatedUsages.findDeprecatedUsages}})},{"./TypeInfo":97,"./assertValidName":98,"./astFromValue":99,"./buildASTSchema":100,"./buildClientSchema":101,"./concatAST":102,"./extendSchema":103,"./findBreakingChanges":104,"./findDeprecatedUsages":105,"./getOperationAST":106,"./introspectionQuery":108,"./isValidJSValue":109,"./isValidLiteralValue":110,"./schemaPrinter":111,"./separateOperations":112,"./typeComparators":113,"./typeFromAST":114,"./valueFromAST":115}],108:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.introspectionQuery="\n  query IntrospectionQuery {\n    __schema {\n      queryType { name }\n      mutationType { name }\n      subscriptionType { name }\n      types {\n        ...FullType\n      }\n      directives {\n        name\n        description\n        locations\n        args {\n          ...InputValue\n        }\n      }\n    }\n  }\n\n  fragment FullType on __Type {\n    kind\n    name\n    description\n    fields(includeDeprecated: true) {\n      name\n      description\n      args {\n        ...InputValue\n      }\n      type {\n        ...TypeRef\n      }\n      isDeprecated\n      deprecationReason\n    }\n    inputFields {\n      ...InputValue\n    }\n    interfaces {\n      ...TypeRef\n    }\n    enumValues(includeDeprecated: true) {\n      name\n      description\n      isDeprecated\n      deprecationReason\n    }\n    possibleTypes {\n      ...TypeRef\n    }\n  }\n\n  fragment InputValue on __InputValue {\n    name\n    description\n    type { ...TypeRef }\n    defaultValue\n  }\n\n  fragment TypeRef on __Type {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"},{}],109:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isValidJSValue(e,i){if(i instanceof _definition.GraphQLNonNull)return(0,_isNullish2.default)(e)?['Expected "'+String(i)+'", found null.']:isValidJSValue(e,i.ofType);if((0,_isNullish2.default)(e))return[];if(i instanceof _definition.GraphQLList){var n=function(){var n=i.ofType;if((0,_iterall.isCollection)(e)){var t=function(){var i=[];return(0,_iterall.forEach)(e,function(e,t){i.push.apply(i,isValidJSValue(e,n).map(function(e){return"In element #"+t+": "+e}))}),{v:{v:i}}}();if("object"==typeof t)return t.v}return{v:isValidJSValue(e,n)}}();if("object"==typeof n)return n.v}if(i instanceof _definition.GraphQLInputObjectType){var t=function(){if("object"!=typeof e||null===e)return{v:['Expected "'+i.name+'", found not an object.']};var n=i.getFields(),t=[];return Object.keys(e).forEach(function(e){n[e]||t.push('In field "'+e+'": Unknown field.')}),Object.keys(n).forEach(function(i){var r=isValidJSValue(e[i],n[i].type);t.push.apply(t,r.map(function(e){return'In field "'+i+'": '+e}))}),{v:t}}();if("object"==typeof t)return t.v}(0,_invariant2.default)(i instanceof _definition.GraphQLScalarType||i instanceof _definition.GraphQLEnumType,"Must be input type");try{var r=i.parseValue(e);if((0,_isNullish2.default)(r))return['Expected type "'+i.name+'", found '+JSON.stringify(e)+"."]}catch(n){return['Expected type "'+i.name+'", found '+JSON.stringify(e)+": "+n.message]}return[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidJSValue=isValidJSValue;var _iterall=require("iterall"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_definition=require("../type/definition")},{"../jsutils/invariant":76,"../jsutils/isNullish":78,"../type/definition":91,iterall:144}],110:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isValidLiteralValue(e,i){if(e instanceof _definition.GraphQLNonNull)return i&&i.kind!==_kinds.NULL?isValidLiteralValue(e.ofType,i):['Expected "'+String(e)+'", found null.'];if(!i||i.kind===_kinds.NULL)return[];if(i.kind===_kinds.VARIABLE)return[];if(e instanceof _definition.GraphQLList){var n=function(){var n=e.ofType;return i.kind===_kinds.LIST?{v:i.values.reduce(function(e,i,t){var r=isValidLiteralValue(n,i);return e.concat(r.map(function(e){return"In element #"+t+": "+e}))},[])}:{v:isValidLiteralValue(n,i)}}();if("object"==typeof n)return n.v}if(e instanceof _definition.GraphQLInputObjectType){var t=function(){if(i.kind!==_kinds.OBJECT)return{v:['Expected "'+e.name+'", found not an object.']};var n=e.getFields(),t=[],r=i.fields;r.forEach(function(e){n[e.name.value]||t.push('In field "'+e.name.value+'": Unknown field.')});var a=(0,_keyMap2.default)(r,function(e){return e.name.value});return Object.keys(n).forEach(function(e){var i=isValidLiteralValue(n[e].type,a[e]&&a[e].value);t.push.apply(t,i.map(function(i){return'In field "'+e+'": '+i}))}),{v:t}}();if("object"==typeof t)return t.v}(0,_invariant2.default)(e instanceof _definition.GraphQLScalarType||e instanceof _definition.GraphQLEnumType,"Must be input type");var r=e.parseLiteral(i);return(0,_isNullish2.default)(r)?['Expected type "'+e.name+'", found '+(0,_printer.print)(i)+"."]:[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidLiteralValue=isValidLiteralValue;var _printer=require("../language/printer"),_kinds=require("../language/kinds"),_definition=require("../type/definition"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish)},{"../jsutils/invariant":76,"../jsutils/isNullish":78,"../jsutils/keyMap":79,"../language/kinds":84,"../language/printer":88,"../type/definition":91}],111:[function(require,module,exports){"use strict";function _interopRequireDefault(n){return n&&n.__esModule?n:{default:n}}function printSchema(n){return printFilteredSchema(n,function(n){return!isSpecDirective(n)},isDefinedType)}function printIntrospectionSchema(n){return printFilteredSchema(n,isSpecDirective,isIntrospectionType)}function isSpecDirective(n){return"skip"===n||"include"===n||"deprecated"===n}function isDefinedType(n){return!isIntrospectionType(n)&&!isBuiltInScalar(n)}function isIntrospectionType(n){return 0===n.indexOf("__")}function isBuiltInScalar(n){return"String"===n||"Boolean"===n||"Int"===n||"Float"===n||"ID"===n}function printFilteredSchema(n,e,i){var t=n.getDirectives().filter(function(n){return e(n.name)}),r=n.getTypeMap(),a=Object.keys(r).filter(i).sort(function(n,e){return n.localeCompare(e)}).map(function(n){return r[n]});return[printSchemaDefinition(n)].concat(t.map(printDirective),a.map(printType)).filter(Boolean).join("\n\n")+"\n"}function printSchemaDefinition(n){if(!isSchemaOfCommonNames(n)){var e=[],i=n.getQueryType();i&&e.push("  query: "+i.name);var t=n.getMutationType();t&&e.push("  mutation: "+t.name);var r=n.getSubscriptionType();return r&&e.push("  subscription: "+r.name),"schema {\n"+e.join("\n")+"\n}"}}function isSchemaOfCommonNames(n){var e=n.getQueryType();if(e&&"Query"!==e.name)return!1;var i=n.getMutationType();if(i&&"Mutation"!==i.name)return!1;var t=n.getSubscriptionType();return!t||"Subscription"===t.name}function printType(n){return n instanceof _definition.GraphQLScalarType?printScalar(n):n instanceof _definition.GraphQLObjectType?printObject(n):n instanceof _definition.GraphQLInterfaceType?printInterface(n):n instanceof _definition.GraphQLUnionType?printUnion(n):n instanceof _definition.GraphQLEnumType?printEnum(n):((0,_invariant2.default)(n instanceof _definition.GraphQLInputObjectType),printInputObject(n))}function printScalar(n){return printDescription(n)+("scalar "+n.name)}function printObject(n){var e=n.getInterfaces(),i=e.length?" implements "+e.map(function(n){return n.name}).join(", "):"";return printDescription(n)+("type "+n.name+i+" {\n")+printFields(n)+"\n}"}function printInterface(n){return printDescription(n)+("interface "+n.name+" {\n")+printFields(n)+"\n}"}function printUnion(n){return printDescription(n)+("union "+n.name+" = "+n.getTypes().join(" | "))}function printEnum(n){return printDescription(n)+("enum "+n.name+" {\n")+printEnumValues(n.getValues())+"\n}"}function printEnumValues(n){return n.map(function(n,e){return printDescription(n,"  ",!e)+"  "+n.name+printDeprecated(n)}).join("\n")}function printInputObject(n){var e=n.getFields(),i=Object.keys(e).map(function(n){return e[n]});return printDescription(n)+("input "+n.name+" {\n")+i.map(function(n,e){return printDescription(n,"  ",!e)+"  "+printInputValue(n)}).join("\n")+"\n}"}function printFields(n){var e=n.getFields(),i=Object.keys(e).map(function(n){return e[n]});return i.map(function(n,e){return printDescription(n,"  ",!e)+"  "+n.name+printArgs(n.args,"  ")+": "+String(n.type)+printDeprecated(n)}).join("\n")}function printArgs(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return 0===n.length?"":n.every(function(n){return!n.description})?"("+n.map(printInputValue).join(", ")+")":"(\n"+n.map(function(n,i){return printDescription(n,"  "+e,!i)+"  "+e+printInputValue(n)}).join("\n")+"\n"+e+")"}function printInputValue(n){var e=n.name+": "+String(n.type);return(0,_isInvalid2.default)(n.defaultValue)||(e+=" = "+(0,_printer.print)((0,_astFromValue.astFromValue)(n.defaultValue,n.type))),e}function printDirective(n){return printDescription(n)+"directive @"+n.name+printArgs(n.args)+" on "+n.locations.join(" | ")}function printDeprecated(n){var e=n.deprecationReason;return(0,_isNullish2.default)(e)?"":""===e||e===_directives.DEFAULT_DEPRECATION_REASON?" @deprecated":" @deprecated(reason: "+(0,_printer.print)((0,_astFromValue.astFromValue)(e,_scalars.GraphQLString))+")"}function printDescription(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n.description)return"";for(var t=n.description.split("\n"),r=e&&!i?"\n":"",a=0;a<t.length;a++)if(""===t[a])r+=e+"#\n";else for(var p=breakLine(t[a],120-e.length),u=0;u<p.length;u++)r+=e+"# "+p[u]+"\n";return r}function breakLine(n,e){if(n.length<e+5)return[n];var i=n.split(new RegExp("((?: |^).{15,"+(e-40)+"}(?= |$))"));if(i.length<4)return[n];for(var t=[i[0]+i[1]+i[2]],r=3;r<i.length;r+=2)t.push(i[r].slice(1)+i[r+1]);return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.printSchema=printSchema,exports.printIntrospectionSchema=printIntrospectionSchema,exports.printType=printType;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_isInvalid=require("../jsutils/isInvalid"),_isInvalid2=_interopRequireDefault(_isInvalid),_astFromValue=require("../utilities/astFromValue"),_printer=require("../language/printer"),_definition=require("../type/definition"),_scalars=require("../type/scalars"),_directives=require("../type/directives")},{"../jsutils/invariant":76,"../jsutils/isInvalid":77,"../jsutils/isNullish":78,"../language/printer":88,"../type/definition":91,"../type/directives":92,"../type/scalars":95,"../utilities/astFromValue":99}],112:[function(require,module,exports){"use strict";function separateOperations(e){var n=[],t=Object.create(null),i=void 0;(0,_visitor.visit)(e,{OperationDefinition:function(e){n.push(e),i=opName(e)},FragmentDefinition:function(e){i=e.name.value},FragmentSpread:function(e){var n=e.name.value;(t[i]||(t[i]=Object.create(null)))[n]=!0}});var a=Object.create(null);return n.forEach(function(n){var i=opName(n),r=Object.create(null);collectTransitiveDependencies(r,t,i),a[i]={kind:"Document",definitions:e.definitions.filter(function(e){return e===n||"FragmentDefinition"===e.kind&&r[e.name.value]})}}),a}function opName(e){return e.name?e.name.value:""}function collectTransitiveDependencies(e,n,t){var i=n[t];i&&Object.keys(i).forEach(function(t){e[t]||(e[t]=!0,collectTransitiveDependencies(e,n,t))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.separateOperations=separateOperations;var _visitor=require("../language/visitor")},{"../language/visitor":90}],113:[function(require,module,exports){"use strict";function isEqualType(e,i){return e===i||(e instanceof _definition.GraphQLNonNull&&i instanceof _definition.GraphQLNonNull?isEqualType(e.ofType,i.ofType):e instanceof _definition.GraphQLList&&i instanceof _definition.GraphQLList&&isEqualType(e.ofType,i.ofType))}function isTypeSubTypeOf(e,i,n){return i===n||(n instanceof _definition.GraphQLNonNull?i instanceof _definition.GraphQLNonNull&&isTypeSubTypeOf(e,i.ofType,n.ofType):i instanceof _definition.GraphQLNonNull?isTypeSubTypeOf(e,i.ofType,n):n instanceof _definition.GraphQLList?i instanceof _definition.GraphQLList&&isTypeSubTypeOf(e,i.ofType,n.ofType):!(i instanceof _definition.GraphQLList||!((0,_definition.isAbstractType)(n)&&i instanceof _definition.GraphQLObjectType&&e.isPossibleType(n,i))))}function doTypesOverlap(e,i,n){var o=n;return i===o||(i instanceof _definition.GraphQLInterfaceType||i instanceof _definition.GraphQLUnionType?o instanceof _definition.GraphQLInterfaceType||o instanceof _definition.GraphQLUnionType?e.getPossibleTypes(i).some(function(i){return e.isPossibleType(o,i)}):e.isPossibleType(i,o):(o instanceof _definition.GraphQLInterfaceType||o instanceof _definition.GraphQLUnionType)&&e.isPossibleType(o,i))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEqualType=isEqualType,exports.isTypeSubTypeOf=isTypeSubTypeOf,exports.doTypesOverlap=doTypesOverlap;var _definition=require("../type/definition")},{"../type/definition":91}],114:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function typeFromAST(e,i){var n=void 0;return i.kind===_kinds.LIST_TYPE?(n=typeFromAST(e,i.type),n&&new _definition.GraphQLList(n)):i.kind===_kinds.NON_NULL_TYPE?(n=typeFromAST(e,i.type),n&&new _definition.GraphQLNonNull(n)):((0,_invariant2.default)(i.kind===_kinds.NAMED_TYPE,"Must be a named type."),e.getType(i.name.value))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeFromAST=typeFromAST;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_kinds=require("../language/kinds"),_definition=require("../type/definition")},{"../jsutils/invariant":76,"../language/kinds":84,"../type/definition":91}],115:[function(require,module,exports){"use strict";function _interopRequireWildcard(i){if(i&&i.__esModule)return i;var e={};if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e.default=i,e}function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function valueFromAST(i,e,n){if(i){if(e instanceof _definition.GraphQLNonNull){if(i.kind===Kind.NULL)return;return valueFromAST(i,e.ofType,n)}if(i.kind===Kind.NULL)return null;if(i.kind===Kind.VARIABLE){var r=i.name.value;if(!n||(0,_isInvalid2.default)(n[r]))return;return n[r]}if(e instanceof _definition.GraphQLList){var a=e.ofType;if(i.kind===Kind.LIST){for(var t=[],u=i.values,l=0;l<u.length;l++)if(isMissingVariable(u[l],n)){if(a instanceof _definition.GraphQLNonNull)return;t.push(null)}else{var f=valueFromAST(u[l],a,n);if((0,_isInvalid2.default)(f))return;t.push(f)}return t}var s=valueFromAST(i,a,n);if((0,_isInvalid2.default)(s))return;return[s]}if(e instanceof _definition.GraphQLInputObjectType){if(i.kind!==Kind.OBJECT)return;for(var d=Object.create(null),o=e.getFields(),_=(0,_keyMap2.default)(i.fields,function(i){return i.name.value}),v=Object.keys(o),p=0;p<v.length;p++){var c=v[p],y=o[c],h=_[c];if(h&&!isMissingVariable(h.value,n)){var L=valueFromAST(h.value,y.type,n);if((0,_isInvalid2.default)(L))return;d[c]=L}else if((0,_isInvalid2.default)(y.defaultValue)){if(y.type instanceof _definition.GraphQLNonNull)return}else d[c]=y.defaultValue}return d}(0,_invariant2.default)(e instanceof _definition.GraphQLScalarType||e instanceof _definition.GraphQLEnumType,"Must be input type");var k=e.parseLiteral(i);if(!(0,_isNullish2.default)(k))return k}}function isMissingVariable(i,e){return i.kind===Kind.VARIABLE&&(!e||(0,_isInvalid2.default)(e[i.name.value]))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.valueFromAST=valueFromAST;var _keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_isInvalid=require("../jsutils/isInvalid"),_isInvalid2=_interopRequireDefault(_isInvalid),_kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),_definition=require("../type/definition");
},{"../jsutils/invariant":76,"../jsutils/isInvalid":77,"../jsutils/isNullish":78,"../jsutils/keyMap":79,"../language/kinds":84,"../type/definition":91}],116:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _validate=require("./validate");Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return _validate.validate}}),Object.defineProperty(exports,"ValidationContext",{enumerable:!0,get:function(){return _validate.ValidationContext}});var _specifiedRules=require("./specifiedRules");Object.defineProperty(exports,"specifiedRules",{enumerable:!0,get:function(){return _specifiedRules.specifiedRules}})},{"./specifiedRules":142,"./validate":143}],117:[function(require,module,exports){"use strict";function badValueMessage(e,r,a,t){var u=t?"\n"+t.join("\n"):"";return'Argument "'+e+'" has invalid value '+a+"."+u}function ArgumentsOfCorrectType(e){return{Argument:function(r){var a=e.getArgument();if(a){var t=(0,_isValidLiteralValue.isValidLiteralValue)(a.type,r.value);t&&t.length>0&&e.reportError(new _error.GraphQLError(badValueMessage(r.name.value,a.type,(0,_printer.print)(r.value),t),[r.value]))}return!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.badValueMessage=badValueMessage,exports.ArgumentsOfCorrectType=ArgumentsOfCorrectType;var _error=require("../../error"),_printer=require("../../language/printer"),_isValidLiteralValue=require("../../utilities/isValidLiteralValue")},{"../../error":67,"../../language/printer":88,"../../utilities/isValidLiteralValue":110}],118:[function(require,module,exports){"use strict";function defaultForNonNullArgMessage(e,r,a){return'Variable "$'+e+'" of type "'+String(r)+'" is required and will not use the default value. '+('Perhaps you meant to use type "'+String(a)+'".')}function badValueForDefaultArgMessage(e,r,a,t){var i=t?"\n"+t.join("\n"):"";return'Variable "$'+e+'" of type "'+String(r)+'" has invalid '+("default value "+a+"."+i)}function DefaultValuesOfCorrectType(e){return{VariableDefinition:function(r){var a=r.variable.name.value,t=r.defaultValue,i=e.getInputType();if(i instanceof _definition.GraphQLNonNull&&t&&e.reportError(new _error.GraphQLError(defaultForNonNullArgMessage(a,i,i.ofType),[t])),i&&t){var l=(0,_isValidLiteralValue.isValidLiteralValue)(i,t);l&&l.length>0&&e.reportError(new _error.GraphQLError(badValueForDefaultArgMessage(a,i,(0,_printer.print)(t),l),[t]))}return!1},SelectionSet:function(){return!1},FragmentDefinition:function(){return!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultForNonNullArgMessage=defaultForNonNullArgMessage,exports.badValueForDefaultArgMessage=badValueForDefaultArgMessage,exports.DefaultValuesOfCorrectType=DefaultValuesOfCorrectType;var _error=require("../../error"),_printer=require("../../language/printer"),_definition=require("../../type/definition"),_isValidLiteralValue=require("../../utilities/isValidLiteralValue")},{"../../error":67,"../../language/printer":88,"../../type/definition":91,"../../utilities/isValidLiteralValue":110}],119:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function undefinedFieldMessage(e,t,n,i){var r='Cannot query field "'+e+'" on type "'+t+'".';if(0!==n.length){var s=(0,_quotedOrList2.default)(n);r+=" Did you mean to use an inline fragment on "+s+"?"}else 0!==i.length&&(r+=" Did you mean "+(0,_quotedOrList2.default)(i)+"?");return r}function FieldsOnCorrectType(e){return{Field:function(t){var n=e.getParentType();if(n){var i=e.getFieldDef();if(!i){var r=e.getSchema(),s=t.name.value,u=getSuggestedTypeNames(r,n,s),o=0!==u.length?[]:getSuggestedFieldNames(r,n,s);e.reportError(new _error.GraphQLError(undefinedFieldMessage(s,n.name,u,o),[t]))}}}}}function getSuggestedTypeNames(e,t,n){if(t instanceof _definition.GraphQLInterfaceType||t instanceof _definition.GraphQLUnionType){var i=function(){var i=[],r=Object.create(null);e.getPossibleTypes(t).forEach(function(e){e.getFields()[n]&&(i.push(e.name),e.getInterfaces().forEach(function(e){e.getFields()[n]&&(r[e.name]=(r[e.name]||0)+1)}))});var s=Object.keys(r).sort(function(e,t){return r[t]-r[e]});return{v:s.concat(i)}}();if("object"==typeof i)return i.v}return[]}function getSuggestedFieldNames(e,t,n){if(t instanceof _definition.GraphQLObjectType||t instanceof _definition.GraphQLInterfaceType){var i=Object.keys(t.getFields());return(0,_suggestionList2.default)(n,i)}return[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.undefinedFieldMessage=undefinedFieldMessage,exports.FieldsOnCorrectType=FieldsOnCorrectType;var _error=require("../../error"),_suggestionList=require("../../jsutils/suggestionList"),_suggestionList2=_interopRequireDefault(_suggestionList),_quotedOrList=require("../../jsutils/quotedOrList"),_quotedOrList2=_interopRequireDefault(_quotedOrList),_definition=require("../../type/definition")},{"../../error":67,"../../jsutils/quotedOrList":81,"../../jsutils/suggestionList":82,"../../type/definition":91}],120:[function(require,module,exports){"use strict";function inlineFragmentOnNonCompositeErrorMessage(e){return'Fragment cannot condition on non composite type "'+String(e)+'".'}function fragmentOnNonCompositeErrorMessage(e,n){return'Fragment "'+e+'" cannot condition on non composite '+('type "'+String(n)+'".')}function FragmentsOnCompositeTypes(e){return{InlineFragment:function(n){var r=e.getType();n.typeCondition&&r&&!(0,_definition.isCompositeType)(r)&&e.reportError(new _error.GraphQLError(inlineFragmentOnNonCompositeErrorMessage((0,_printer.print)(n.typeCondition)),[n.typeCondition]))},FragmentDefinition:function(n){var r=e.getType();r&&!(0,_definition.isCompositeType)(r)&&e.reportError(new _error.GraphQLError(fragmentOnNonCompositeErrorMessage(n.name.value,(0,_printer.print)(n.typeCondition)),[n.typeCondition]))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inlineFragmentOnNonCompositeErrorMessage=inlineFragmentOnNonCompositeErrorMessage,exports.fragmentOnNonCompositeErrorMessage=fragmentOnNonCompositeErrorMessage,exports.FragmentsOnCompositeTypes=FragmentsOnCompositeTypes;var _error=require("../../error"),_printer=require("../../language/printer"),_definition=require("../../type/definition")},{"../../error":67,"../../language/printer":88,"../../type/definition":91}],121:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function unknownArgMessage(e,n,r,t){var i='Unknown argument "'+e+'" on field "'+n+'" of '+('type "'+String(r)+'".');return t.length&&(i+=" Did you mean "+(0,_quotedOrList2.default)(t)+"?"),i}function unknownDirectiveArgMessage(e,n,r){var t='Unknown argument "'+e+'" on directive "@'+n+'".';return r.length&&(t+=" Did you mean "+(0,_quotedOrList2.default)(r)+"?"),t}function KnownArgumentNames(e){return{Argument:function(n,r,t,i,u){var a=u[u.length-1];if(a.kind===_kinds.FIELD){var s=e.getFieldDef();if(s){var o=(0,_find2.default)(s.args,function(e){return e.name===n.name.value});if(!o){var g=e.getParentType();(0,_invariant2.default)(g),e.reportError(new _error.GraphQLError(unknownArgMessage(n.name.value,s.name,g.name,(0,_suggestionList2.default)(n.name.value,s.args.map(function(e){return e.name}))),[n]))}}}else if(a.kind===_kinds.DIRECTIVE){var f=e.getDirective();if(f){var d=(0,_find2.default)(f.args,function(e){return e.name===n.name.value});d||e.reportError(new _error.GraphQLError(unknownDirectiveArgMessage(n.name.value,f.name,(0,_suggestionList2.default)(n.name.value,f.args.map(function(e){return e.name}))),[n]))}}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownArgMessage=unknownArgMessage,exports.unknownDirectiveArgMessage=unknownDirectiveArgMessage,exports.KnownArgumentNames=KnownArgumentNames;var _error=require("../../error"),_find=require("../../jsutils/find"),_find2=_interopRequireDefault(_find),_invariant=require("../../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_suggestionList=require("../../jsutils/suggestionList"),_suggestionList2=_interopRequireDefault(_suggestionList),_quotedOrList=require("../../jsutils/quotedOrList"),_quotedOrList2=_interopRequireDefault(_quotedOrList),_kinds=require("../../language/kinds")},{"../../error":67,"../../jsutils/find":75,"../../jsutils/invariant":76,"../../jsutils/quotedOrList":81,"../../jsutils/suggestionList":82,"../../language/kinds":84}],122:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function unknownDirectiveMessage(e){return'Unknown directive "'+e+'".'}function misplacedDirectiveMessage(e,i){return'Directive "'+e+'" may not be used on '+i+"."}function KnownDirectives(e){return{Directive:function(i,r,t,n,c){var s=(0,_find2.default)(e.getSchema().getDirectives(),function(e){return e.name===i.name.value});if(!s)return void e.reportError(new _error.GraphQLError(unknownDirectiveMessage(i.name.value),[i]));var o=getDirectiveLocationForASTPath(c);o?s.locations.indexOf(o)===-1&&e.reportError(new _error.GraphQLError(misplacedDirectiveMessage(i.name.value,o),[i])):e.reportError(new _error.GraphQLError(misplacedDirectiveMessage(i.name.value,i.type),[i]))}}}function getDirectiveLocationForASTPath(e){var i=e[e.length-1];switch(i.kind){case _kinds.OPERATION_DEFINITION:switch(i.operation){case"query":return _directives.DirectiveLocation.QUERY;case"mutation":return _directives.DirectiveLocation.MUTATION;case"subscription":return _directives.DirectiveLocation.SUBSCRIPTION}break;case _kinds.FIELD:return _directives.DirectiveLocation.FIELD;case _kinds.FRAGMENT_SPREAD:return _directives.DirectiveLocation.FRAGMENT_SPREAD;case _kinds.INLINE_FRAGMENT:return _directives.DirectiveLocation.INLINE_FRAGMENT;case _kinds.FRAGMENT_DEFINITION:return _directives.DirectiveLocation.FRAGMENT_DEFINITION;case _kinds.SCHEMA_DEFINITION:return _directives.DirectiveLocation.SCHEMA;case _kinds.SCALAR_TYPE_DEFINITION:return _directives.DirectiveLocation.SCALAR;case _kinds.OBJECT_TYPE_DEFINITION:return _directives.DirectiveLocation.OBJECT;case _kinds.FIELD_DEFINITION:return _directives.DirectiveLocation.FIELD_DEFINITION;case _kinds.INTERFACE_TYPE_DEFINITION:return _directives.DirectiveLocation.INTERFACE;case _kinds.UNION_TYPE_DEFINITION:return _directives.DirectiveLocation.UNION;case _kinds.ENUM_TYPE_DEFINITION:return _directives.DirectiveLocation.ENUM;case _kinds.ENUM_VALUE_DEFINITION:return _directives.DirectiveLocation.ENUM_VALUE;case _kinds.INPUT_OBJECT_TYPE_DEFINITION:return _directives.DirectiveLocation.INPUT_OBJECT;case _kinds.INPUT_VALUE_DEFINITION:var r=e[e.length-3];return r.kind===_kinds.INPUT_OBJECT_TYPE_DEFINITION?_directives.DirectiveLocation.INPUT_FIELD_DEFINITION:_directives.DirectiveLocation.ARGUMENT_DEFINITION}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownDirectiveMessage=unknownDirectiveMessage,exports.misplacedDirectiveMessage=misplacedDirectiveMessage,exports.KnownDirectives=KnownDirectives;var _error=require("../../error"),_find=require("../../jsutils/find"),_find2=_interopRequireDefault(_find),_kinds=require("../../language/kinds"),_directives=require("../../type/directives")},{"../../error":67,"../../jsutils/find":75,"../../language/kinds":84,"../../type/directives":92}],123:[function(require,module,exports){"use strict";function unknownFragmentMessage(e){return'Unknown fragment "'+e+'".'}function KnownFragmentNames(e){return{FragmentSpread:function(n){var r=n.name.value,a=e.getFragment(r);a||e.reportError(new _error.GraphQLError(unknownFragmentMessage(r),[n.name]))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownFragmentMessage=unknownFragmentMessage,exports.KnownFragmentNames=KnownFragmentNames;var _error=require("../../error")},{"../../error":67}],124:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function unknownTypeMessage(e,n){var t='Unknown type "'+String(e)+'".';return n.length&&(t+=" Did you mean "+(0,_quotedOrList2.default)(n)+"?"),t}function KnownTypeNames(e){return{ObjectTypeDefinition:function(){return!1},InterfaceTypeDefinition:function(){return!1},UnionTypeDefinition:function(){return!1},InputObjectTypeDefinition:function(){return!1},NamedType:function(n){var t=e.getSchema(),r=n.name.value,i=t.getType(r);i||e.reportError(new _error.GraphQLError(unknownTypeMessage(r,(0,_suggestionList2.default)(r,Object.keys(t.getTypeMap()))),[n]))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownTypeMessage=unknownTypeMessage,exports.KnownTypeNames=KnownTypeNames;var _error=require("../../error"),_suggestionList=require("../../jsutils/suggestionList"),_suggestionList2=_interopRequireDefault(_suggestionList),_quotedOrList=require("../../jsutils/quotedOrList"),_quotedOrList2=_interopRequireDefault(_quotedOrList)},{"../../error":67,"../../jsutils/quotedOrList":81,"../../jsutils/suggestionList":82}],125:[function(require,module,exports){"use strict";function anonOperationNotAloneMessage(){return"This anonymous operation must be the only defined operation."}function LoneAnonymousOperation(n){var e=0;return{Document:function(n){e=n.definitions.filter(function(n){return n.kind===_kinds.OPERATION_DEFINITION}).length},OperationDefinition:function(o){!o.name&&e>1&&n.reportError(new _error.GraphQLError(anonOperationNotAloneMessage(),[o]))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.anonOperationNotAloneMessage=anonOperationNotAloneMessage,exports.LoneAnonymousOperation=LoneAnonymousOperation;var _error=require("../../error"),_kinds=require("../../language/kinds")},{"../../error":67,"../../language/kinds":84}],126:[function(require,module,exports){"use strict";function cycleErrorMessage(e,r){var n=r.length?" via "+r.join(", "):"";return'Cannot spread fragment "'+e+'" within itself'+n+"."}function NoFragmentCycles(e){function r(o){var i=o.name.value;n[i]=!0;var c=e.getFragmentSpreads(o.selectionSet);if(0!==c.length){a[i]=t.length;for(var l=0;l<c.length;l++){var s=c[l],u=s.name.value,g=a[u];if(void 0===g){if(t.push(s),!n[u]){var v=e.getFragment(u);v&&r(v)}t.pop()}else{var f=t.slice(g);e.reportError(new _error.GraphQLError(cycleErrorMessage(u,f.map(function(e){return e.name.value})),f.concat(s)))}}a[i]=void 0}}var n=Object.create(null),t=[],a=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(e){return n[e.name.value]||r(e),!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cycleErrorMessage=cycleErrorMessage,exports.NoFragmentCycles=NoFragmentCycles;var _error=require("../../error")},{"../../error":67}],127:[function(require,module,exports){"use strict";function undefinedVarMessage(e,r){return r?'Variable "$'+e+'" is not defined by operation "'+r+'".':'Variable "$'+e+'" is not defined.'}function NoUndefinedVariables(e){var r=Object.create(null);return{OperationDefinition:{enter:function(){r=Object.create(null)},leave:function(n){var a=e.getRecursiveVariableUsages(n);a.forEach(function(a){var i=a.node,o=i.name.value;r[o]!==!0&&e.reportError(new _error.GraphQLError(undefinedVarMessage(o,n.name&&n.name.value),[i,n]))})}},VariableDefinition:function(e){r[e.variable.name.value]=!0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.undefinedVarMessage=undefinedVarMessage,exports.NoUndefinedVariables=NoUndefinedVariables;var _error=require("../../error")},{"../../error":67}],128:[function(require,module,exports){"use strict";function unusedFragMessage(e){return'Fragment "'+e+'" is never used.'}function NoUnusedFragments(e){var r=[],n=[];return{OperationDefinition:function(e){return r.push(e),!1},FragmentDefinition:function(e){return n.push(e),!1},Document:{leave:function(){var u=Object.create(null);r.forEach(function(r){e.getRecursivelyReferencedFragments(r).forEach(function(e){u[e.name.value]=!0})}),n.forEach(function(r){var n=r.name.value;u[n]!==!0&&e.reportError(new _error.GraphQLError(unusedFragMessage(n),[r]))})}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unusedFragMessage=unusedFragMessage,exports.NoUnusedFragments=NoUnusedFragments;var _error=require("../../error")},{"../../error":67}],129:[function(require,module,exports){"use strict";function unusedVariableMessage(e,r){return r?'Variable "$'+e+'" is never used in operation "'+r+'".':'Variable "$'+e+'" is never used.'}function NoUnusedVariables(e){var r=[];return{OperationDefinition:{enter:function(){r=[]},leave:function(a){var n=Object.create(null),i=e.getRecursiveVariableUsages(a),u=a.name?a.name.value:null;i.forEach(function(e){var r=e.node;n[r.name.value]=!0}),r.forEach(function(r){var a=r.variable.name.value;n[a]!==!0&&e.reportError(new _error.GraphQLError(unusedVariableMessage(a,u),[r]))})}},VariableDefinition:function(e){r.push(e)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unusedVariableMessage=unusedVariableMessage,exports.NoUnusedVariables=NoUnusedVariables;var _error=require("../../error")},{"../../error":67}],130:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fieldsConflictMessage(e,n){return'Fields "'+e+'" conflict because '+reasonMessage(n)+". Use different aliases on the fields to fetch both if this was intentional."}function reasonMessage(e){return Array.isArray(e)?e.map(function(e){var n=e[0],t=e[1];return'subfields "'+n+'" conflict because '+reasonMessage(t)}).join(" and "):e}function OverlappingFieldsCanBeMerged(e){var n=new PairSet,t=new Map;return{SelectionSet:function(i){var r=findConflictsWithinSelectionSet(e,t,n,e.getParentType(),i);r.forEach(function(n){var t=n[0],i=t[0],r=t[1],a=n[1],o=n[2];return e.reportError(new _error.GraphQLError(fieldsConflictMessage(i,r),a.concat(o)))})}}}function findConflictsWithinSelectionSet(e,n,t,i,r){var a=[],o=getFieldsAndFragmentNames(e,n,i,r),l=o[0],s=o[1];collectConflictsWithin(e,a,n,t,l);for(var f=0;f<s.length;f++){collectConflictsBetweenFieldsAndFragment(e,a,n,t,!1,l,s[f]);for(var c=f+1;c<s.length;c++)collectConflictsBetweenFragments(e,a,n,t,!1,s[f],s[c])}return a}function collectConflictsBetweenFieldsAndFragment(e,n,t,i,r,a,o){var l=e.getFragment(o);if(l){var s=getReferencedFieldsAndFragmentNames(e,t,l),f=s[0],c=s[1];collectConflictsBetween(e,n,t,i,r,a,f);for(var d=0;d<c.length;d++)collectConflictsBetweenFieldsAndFragment(e,n,t,i,r,a,c[d])}}function collectConflictsBetweenFragments(e,n,t,i,r,a,o){var l=e.getFragment(a),s=e.getFragment(o);if(l&&s&&l!==s&&!i.has(a,o,r)){i.add(a,o,r);var f=getReferencedFieldsAndFragmentNames(e,t,l),c=f[0],d=f[1],u=getReferencedFieldsAndFragmentNames(e,t,s),g=u[0],p=u[1];collectConflictsBetween(e,n,t,i,r,c,g);for(var m=0;m<p.length;m++)collectConflictsBetweenFragments(e,n,t,i,r,a,p[m]);for(var v=0;v<d.length;v++)collectConflictsBetweenFragments(e,n,t,i,r,d[v],o)}}function findConflictsBetweenSubSelectionSets(e,n,t,i,r,a,o,l){var s=[],f=getFieldsAndFragmentNames(e,n,r,a),c=f[0],d=f[1],u=getFieldsAndFragmentNames(e,n,o,l),g=u[0],p=u[1];collectConflictsBetween(e,s,n,t,i,c,g);for(var m=0;m<p.length;m++)collectConflictsBetweenFieldsAndFragment(e,s,n,t,i,c,p[m]);for(var v=0;v<d.length;v++)collectConflictsBetweenFieldsAndFragment(e,s,n,t,i,g,d[v]);for(var h=0;h<d.length;h++)for(var F=0;F<p.length;F++)collectConflictsBetweenFragments(e,s,n,t,i,d[h],p[F]);return s}function collectConflictsWithin(e,n,t,i,r){Object.keys(r).forEach(function(a){var o=r[a];if(o.length>1)for(var l=0;l<o.length;l++)for(var s=l+1;s<o.length;s++){var f=findConflict(e,t,i,!1,a,o[l],o[s]);f&&n.push(f)}})}function collectConflictsBetween(e,n,t,i,r,a,o){Object.keys(a).forEach(function(l){var s=o[l];if(s)for(var f=a[l],c=0;c<f.length;c++)for(var d=0;d<s.length;d++){var u=findConflict(e,t,i,r,l,f[c],s[d]);u&&n.push(u)}})}function findConflict(e,n,t,i,r,a,o){var l=a[0],s=a[1],f=a[2],c=o[0],d=o[1],u=o[2],g=i||l!==c&&l instanceof _definition.GraphQLObjectType&&c instanceof _definition.GraphQLObjectType,p=f&&f.type,m=u&&u.type;if(!g){var v=s.name.value,h=d.name.value;if(v!==h)return[[r,v+" and "+h+" are different fields"],[s],[d]];if(!sameArguments(s.arguments||[],d.arguments||[]))return[[r,"they have differing arguments"],[s],[d]]}if(p&&m&&doTypesConflict(p,m))return[[r,"they return conflicting types "+String(p)+" and "+String(m)],[s],[d]];var F=s.selectionSet,_=d.selectionSet;if(F&&_){var y=findConflictsBetweenSubSelectionSets(e,n,t,g,(0,_definition.getNamedType)(p),F,(0,_definition.getNamedType)(m),_);return subfieldConflicts(y,r,s,d)}}function sameArguments(e,n){return e.length===n.length&&e.every(function(e){var t=(0,_find2.default)(n,function(n){return n.name.value===e.name.value});return!!t&&sameValue(e.value,t.value)})}function sameValue(e,n){return!e&&!n||(0,_printer.print)(e)===(0,_printer.print)(n)}function doTypesConflict(e,n){return e instanceof _definition.GraphQLList?!(n instanceof _definition.GraphQLList)||doTypesConflict(e.ofType,n.ofType):n instanceof _definition.GraphQLList?!(e instanceof _definition.GraphQLList)||doTypesConflict(e.ofType,n.ofType):e instanceof _definition.GraphQLNonNull?!(n instanceof _definition.GraphQLNonNull)||doTypesConflict(e.ofType,n.ofType):n instanceof _definition.GraphQLNonNull?!(e instanceof _definition.GraphQLNonNull)||doTypesConflict(e.ofType,n.ofType):!(!(0,_definition.isLeafType)(e)&&!(0,_definition.isLeafType)(n))&&e!==n}function getFieldsAndFragmentNames(e,n,t,i){var r=n.get(i);if(!r){var a={},o={};_collectFieldsAndFragmentNames(e,t,i,a,o),r=[a,Object.keys(o)],n.set(i,r)}return r}function getReferencedFieldsAndFragmentNames(e,n,t){var i=n.get(t.selectionSet);if(i)return i;var r=(0,_typeFromAST.typeFromAST)(e.getSchema(),t.typeCondition);return getFieldsAndFragmentNames(e,n,r,t.selectionSet)}function _collectFieldsAndFragmentNames(e,n,t,i,r){for(var a=0;a<t.selections.length;a++){var o=t.selections[a];switch(o.kind){case _kinds.FIELD:var l=o.name.value,s=void 0;(n instanceof _definition.GraphQLObjectType||n instanceof _definition.GraphQLInterfaceType)&&(s=n.getFields()[l]);var f=o.alias?o.alias.value:l;i[f]||(i[f]=[]),i[f].push([n,o,s]);break;case _kinds.FRAGMENT_SPREAD:r[o.name.value]=!0;break;case _kinds.INLINE_FRAGMENT:var c=o.typeCondition,d=c?(0,_typeFromAST.typeFromAST)(e.getSchema(),c):n;_collectFieldsAndFragmentNames(e,d,o.selectionSet,i,r)}}}function subfieldConflicts(e,n,t,i){if(e.length>0)return[[n,e.map(function(e){var n=e[0];return n})],e.reduce(function(e,n){var t=n[1];return e.concat(t)},[t]),e.reduce(function(e,n){var t=n[2];return e.concat(t)},[i])]}function _pairSetAdd(e,n,t,i){var r=e[n];r||(r=Object.create(null),e[n]=r),r[t]=i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fieldsConflictMessage=fieldsConflictMessage,exports.OverlappingFieldsCanBeMerged=OverlappingFieldsCanBeMerged;var _error=require("../../error"),_find=require("../../jsutils/find"),_find2=_interopRequireDefault(_find),_kinds=require("../../language/kinds"),_printer=require("../../language/printer"),_definition=require("../../type/definition"),_typeFromAST=require("../../utilities/typeFromAST"),PairSet=function(){function e(){_classCallCheck(this,e),this._data=Object.create(null)}return e.prototype.has=function(e,n,t){var i=this._data[e],r=i&&i[n];return void 0!==r&&(t!==!1||r===!1)},e.prototype.add=function(e,n,t){_pairSetAdd(this._data,e,n,t),_pairSetAdd(this._data,n,e,t)},e}()},{"../../error":67,"../../jsutils/find":75,"../../language/kinds":84,"../../language/printer":88,"../../type/definition":91,"../../utilities/typeFromAST":114}],131:[function(require,module,exports){"use strict";function typeIncompatibleSpreadMessage(e,r,t){return'Fragment "'+e+'" cannot be spread here as objects of '+('type "'+String(r)+'" can never be of type "'+String(t)+'".')}function typeIncompatibleAnonSpreadMessage(e,r){return"Fragment cannot be spread here as objects of "+('type "'+String(e)+'" can never be of type "'+String(r)+'".')}function PossibleFragmentSpreads(e){return{InlineFragment:function(r){var t=e.getType(),a=e.getParentType();t&&a&&!(0,_typeComparators.doTypesOverlap)(e.getSchema(),t,a)&&e.reportError(new _error.GraphQLError(typeIncompatibleAnonSpreadMessage(a,t),[r]))},FragmentSpread:function(r){var t=r.name.value,a=getFragmentType(e,t),p=e.getParentType();a&&p&&!(0,_typeComparators.doTypesOverlap)(e.getSchema(),a,p)&&e.reportError(new _error.GraphQLError(typeIncompatibleSpreadMessage(t,p,a),[r]))}}}function getFragmentType(e,r){var t=e.getFragment(r);return t&&(0,_typeFromAST.typeFromAST)(e.getSchema(),t.typeCondition)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeIncompatibleSpreadMessage=typeIncompatibleSpreadMessage,exports.typeIncompatibleAnonSpreadMessage=typeIncompatibleAnonSpreadMessage,exports.PossibleFragmentSpreads=PossibleFragmentSpreads;var _error=require("../../error"),_typeComparators=require("../../utilities/typeComparators"),_typeFromAST=require("../../utilities/typeFromAST")},{"../../error":67,"../../utilities/typeComparators":113,"../../utilities/typeFromAST":114}],132:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function missingFieldArgMessage(e,r,i){return'Field "'+e+'" argument "'+r+'" of type '+('"'+String(i)+'" is required but not provided.')}function missingDirectiveArgMessage(e,r,i){return'Directive "@'+e+'" argument "'+r+'" of type '+('"'+String(i)+'" is required but not provided.')}function ProvidedNonNullArguments(e){return{Field:{leave:function(r){var i=e.getFieldDef();if(!i)return!1;var n=r.arguments||[],t=(0,_keyMap2.default)(n,function(e){return e.name.value});i.args.forEach(function(i){var n=t[i.name];!n&&i.type instanceof _definition.GraphQLNonNull&&e.reportError(new _error.GraphQLError(missingFieldArgMessage(r.name.value,i.name,i.type),[r]))})}},Directive:{leave:function(r){var i=e.getDirective();if(!i)return!1;var n=r.arguments||[],t=(0,_keyMap2.default)(n,function(e){return e.name.value});i.args.forEach(function(i){var n=t[i.name];!n&&i.type instanceof _definition.GraphQLNonNull&&e.reportError(new _error.GraphQLError(missingDirectiveArgMessage(r.name.value,i.name,i.type),[r]))})}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.missingFieldArgMessage=missingFieldArgMessage,exports.missingDirectiveArgMessage=missingDirectiveArgMessage,exports.ProvidedNonNullArguments=ProvidedNonNullArguments;var _error=require("../../error"),_keyMap=require("../../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_definition=require("../../type/definition")},{"../../error":67,"../../jsutils/keyMap":79,"../../type/definition":91}],133:[function(require,module,exports){"use strict";function noSubselectionAllowedMessage(e,r){return'Field "'+e+'" must not have a selection since '+('type "'+String(r)+'" has no subfields.')}function requiredSubselectionMessage(e,r){return'Field "'+e+'" of type "'+String(r)+'" must have a '+('selection of subfields. Did you mean "'+e+' { ... }"?')}function ScalarLeafs(e){return{Field:function(r){var o=e.getType();o&&((0,_definition.isLeafType)(o)?r.selectionSet&&e.reportError(new _error.GraphQLError(noSubselectionAllowedMessage(r.name.value,o),[r.selectionSet])):r.selectionSet||e.reportError(new _error.GraphQLError(requiredSubselectionMessage(r.name.value,o),[r])))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.noSubselectionAllowedMessage=noSubselectionAllowedMessage,exports.requiredSubselectionMessage=requiredSubselectionMessage,exports.ScalarLeafs=ScalarLeafs;var _error=require("../../error"),_definition=require("../../type/definition")},{"../../error":67,"../../type/definition":91}],134:[function(require,module,exports){"use strict";function duplicateArgMessage(e){return'There can be only one argument named "'+e+'".'}function UniqueArgumentNames(e){var r=Object.create(null);return{Field:function(){r=Object.create(null)},Directive:function(){r=Object.create(null)},Argument:function(n){var t=n.name.value;return r[t]?e.reportError(new _error.GraphQLError(duplicateArgMessage(t),[r[t],n.name])):r[t]=n.name,!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateArgMessage=duplicateArgMessage,exports.UniqueArgumentNames=UniqueArgumentNames;var _error=require("../../error")},{"../../error":67}],135:[function(require,module,exports){"use strict";function duplicateDirectiveMessage(e){return'The directive "'+e+'" can only be used once at this location.'}function UniqueDirectivesPerLocation(e){return{enter:function(r){r.directives&&!function(){var i=Object.create(null);r.directives.forEach(function(r){var t=r.name.value;i[t]?e.reportError(new _error.GraphQLError(duplicateDirectiveMessage(t),[i[t],r])):i[t]=r})}()}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateDirectiveMessage=duplicateDirectiveMessage,exports.UniqueDirectivesPerLocation=UniqueDirectivesPerLocation;var _error=require("../../error")},{"../../error":67}],136:[function(require,module,exports){"use strict";function duplicateFragmentNameMessage(e){return'There can only be one fragment named "'+e+'".'}function UniqueFragmentNames(e){var r=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(n){var a=n.name.value;return r[a]?e.reportError(new _error.GraphQLError(duplicateFragmentNameMessage(a),[r[a],n.name])):r[a]=n.name,!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateFragmentNameMessage=duplicateFragmentNameMessage,exports.UniqueFragmentNames=UniqueFragmentNames;var _error=require("../../error")},{"../../error":67}],137:[function(require,module,exports){"use strict";function duplicateInputFieldMessage(e){return'There can be only one input field named "'+e+'".'}function UniqueInputFieldNames(e){var r=[],n=Object.create(null);return{ObjectValue:{enter:function(){r.push(n),n=Object.create(null)},leave:function(){n=r.pop()}},ObjectField:function(r){var t=r.name.value;return n[t]?e.reportError(new _error.GraphQLError(duplicateInputFieldMessage(t),[n[t],r.name])):n[t]=r.name,!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateInputFieldMessage=duplicateInputFieldMessage,exports.UniqueInputFieldNames=UniqueInputFieldNames;var _error=require("../../error")},{"../../error":67}],138:[function(require,module,exports){"use strict";function duplicateOperationNameMessage(e){return'There can only be one operation named "'+e+'".'}function UniqueOperationNames(e){var r=Object.create(null);return{OperationDefinition:function(a){var n=a.name;return n&&(r[n.value]?e.reportError(new _error.GraphQLError(duplicateOperationNameMessage(n.value),[r[n.value],n])):r[n.value]=n),!1},FragmentDefinition:function(){return!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateOperationNameMessage=duplicateOperationNameMessage,exports.UniqueOperationNames=UniqueOperationNames;var _error=require("../../error")},{"../../error":67}],139:[function(require,module,exports){"use strict";function duplicateVariableMessage(e){return'There can be only one variable named "'+e+'".'}function UniqueVariableNames(e){var a=Object.create(null);return{OperationDefinition:function(){a=Object.create(null)},VariableDefinition:function(r){var i=r.variable.name.value;a[i]?e.reportError(new _error.GraphQLError(duplicateVariableMessage(i),[a[i],r.variable.name])):a[i]=r.variable.name}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateVariableMessage=duplicateVariableMessage,exports.UniqueVariableNames=UniqueVariableNames;var _error=require("../../error")},{"../../error":67}],140:[function(require,module,exports){"use strict";function nonInputTypeOnVarMessage(e,r){return'Variable "$'+e+'" cannot be non-input type "'+r+'".'}function VariablesAreInputTypes(e){return{VariableDefinition:function(r){var n=(0,_typeFromAST.typeFromAST)(e.getSchema(),r.type);
if(n&&!(0,_definition.isInputType)(n)){var t=r.variable.name.value;e.reportError(new _error.GraphQLError(nonInputTypeOnVarMessage(t,(0,_printer.print)(r.type)),[r.type]))}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.nonInputTypeOnVarMessage=nonInputTypeOnVarMessage,exports.VariablesAreInputTypes=VariablesAreInputTypes;var _error=require("../../error"),_printer=require("../../language/printer"),_definition=require("../../type/definition"),_typeFromAST=require("../../utilities/typeFromAST")},{"../../error":67,"../../language/printer":88,"../../type/definition":91,"../../utilities/typeFromAST":114}],141:[function(require,module,exports){"use strict";function badVarPosMessage(e,r,i){return'Variable "$'+e+'" of type "'+String(r)+'" used in '+('position expecting type "'+String(i)+'".')}function VariablesInAllowedPosition(e){var r=Object.create(null);return{OperationDefinition:{enter:function(){r=Object.create(null)},leave:function(i){var t=e.getRecursiveVariableUsages(i);t.forEach(function(i){var t=i.node,o=i.type,a=t.name.value,n=r[a];if(n&&o){var s=e.getSchema(),l=(0,_typeFromAST.typeFromAST)(s,n.type);l&&!(0,_typeComparators.isTypeSubTypeOf)(s,effectiveType(l,n),o)&&e.reportError(new _error.GraphQLError(badVarPosMessage(a,l,o),[n,t]))}})}},VariableDefinition:function(e){r[e.variable.name.value]=e}}}function effectiveType(e,r){return!r.defaultValue||e instanceof _definition.GraphQLNonNull?e:new _definition.GraphQLNonNull(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.badVarPosMessage=badVarPosMessage,exports.VariablesInAllowedPosition=VariablesInAllowedPosition;var _error=require("../../error"),_definition=require("../../type/definition"),_typeComparators=require("../../utilities/typeComparators"),_typeFromAST=require("../../utilities/typeFromAST")},{"../../error":67,"../../type/definition":91,"../../utilities/typeComparators":113,"../../utilities/typeFromAST":114}],142:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.specifiedRules=void 0;var _UniqueOperationNames=require("./rules/UniqueOperationNames"),_LoneAnonymousOperation=require("./rules/LoneAnonymousOperation"),_KnownTypeNames=require("./rules/KnownTypeNames"),_FragmentsOnCompositeTypes=require("./rules/FragmentsOnCompositeTypes"),_VariablesAreInputTypes=require("./rules/VariablesAreInputTypes"),_ScalarLeafs=require("./rules/ScalarLeafs"),_FieldsOnCorrectType=require("./rules/FieldsOnCorrectType"),_UniqueFragmentNames=require("./rules/UniqueFragmentNames"),_KnownFragmentNames=require("./rules/KnownFragmentNames"),_NoUnusedFragments=require("./rules/NoUnusedFragments"),_PossibleFragmentSpreads=require("./rules/PossibleFragmentSpreads"),_NoFragmentCycles=require("./rules/NoFragmentCycles"),_UniqueVariableNames=require("./rules/UniqueVariableNames"),_NoUndefinedVariables=require("./rules/NoUndefinedVariables"),_NoUnusedVariables=require("./rules/NoUnusedVariables"),_KnownDirectives=require("./rules/KnownDirectives"),_UniqueDirectivesPerLocation=require("./rules/UniqueDirectivesPerLocation"),_KnownArgumentNames=require("./rules/KnownArgumentNames"),_UniqueArgumentNames=require("./rules/UniqueArgumentNames"),_ArgumentsOfCorrectType=require("./rules/ArgumentsOfCorrectType"),_ProvidedNonNullArguments=require("./rules/ProvidedNonNullArguments"),_DefaultValuesOfCorrectType=require("./rules/DefaultValuesOfCorrectType"),_VariablesInAllowedPosition=require("./rules/VariablesInAllowedPosition"),_OverlappingFieldsCanBeMerged=require("./rules/OverlappingFieldsCanBeMerged"),_UniqueInputFieldNames=require("./rules/UniqueInputFieldNames");exports.specifiedRules=[_UniqueOperationNames.UniqueOperationNames,_LoneAnonymousOperation.LoneAnonymousOperation,_KnownTypeNames.KnownTypeNames,_FragmentsOnCompositeTypes.FragmentsOnCompositeTypes,_VariablesAreInputTypes.VariablesAreInputTypes,_ScalarLeafs.ScalarLeafs,_FieldsOnCorrectType.FieldsOnCorrectType,_UniqueFragmentNames.UniqueFragmentNames,_KnownFragmentNames.KnownFragmentNames,_NoUnusedFragments.NoUnusedFragments,_PossibleFragmentSpreads.PossibleFragmentSpreads,_NoFragmentCycles.NoFragmentCycles,_UniqueVariableNames.UniqueVariableNames,_NoUndefinedVariables.NoUndefinedVariables,_NoUnusedVariables.NoUnusedVariables,_KnownDirectives.KnownDirectives,_UniqueDirectivesPerLocation.UniqueDirectivesPerLocation,_KnownArgumentNames.KnownArgumentNames,_UniqueArgumentNames.UniqueArgumentNames,_ArgumentsOfCorrectType.ArgumentsOfCorrectType,_ProvidedNonNullArguments.ProvidedNonNullArguments,_DefaultValuesOfCorrectType.DefaultValuesOfCorrectType,_VariablesInAllowedPosition.VariablesInAllowedPosition,_OverlappingFieldsCanBeMerged.OverlappingFieldsCanBeMerged,_UniqueInputFieldNames.UniqueInputFieldNames]},{"./rules/ArgumentsOfCorrectType":117,"./rules/DefaultValuesOfCorrectType":118,"./rules/FieldsOnCorrectType":119,"./rules/FragmentsOnCompositeTypes":120,"./rules/KnownArgumentNames":121,"./rules/KnownDirectives":122,"./rules/KnownFragmentNames":123,"./rules/KnownTypeNames":124,"./rules/LoneAnonymousOperation":125,"./rules/NoFragmentCycles":126,"./rules/NoUndefinedVariables":127,"./rules/NoUnusedFragments":128,"./rules/NoUnusedVariables":129,"./rules/OverlappingFieldsCanBeMerged":130,"./rules/PossibleFragmentSpreads":131,"./rules/ProvidedNonNullArguments":132,"./rules/ScalarLeafs":133,"./rules/UniqueArgumentNames":134,"./rules/UniqueDirectivesPerLocation":135,"./rules/UniqueFragmentNames":136,"./rules/UniqueInputFieldNames":137,"./rules/UniqueOperationNames":138,"./rules/UniqueVariableNames":139,"./rules/VariablesAreInputTypes":140,"./rules/VariablesInAllowedPosition":141}],143:[function(require,module,exports){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function validate(e,t,r){(0,_invariant2.default)(e,"Must provide schema"),(0,_invariant2.default)(t,"Must provide document"),(0,_invariant2.default)(e instanceof _schema.GraphQLSchema,"Schema must be an instance of GraphQLSchema. Also ensure that there are not multiple versions of GraphQL installed in your node_modules directory.");var i=new _TypeInfo.TypeInfo(e);return visitUsingRules(e,i,t,r||_specifiedRules.specifiedRules)}function visitUsingRules(e,t,r,i){var n=new ValidationContext(e,r,t),s=i.map(function(e){return e(n)});return(0,_visitor.visit)(r,(0,_visitor.visitWithTypeInfo)(t,(0,_visitor.visitInParallel)(s))),n.getErrors()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidationContext=void 0,exports.validate=validate,exports.visitUsingRules=visitUsingRules;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_visitor=(require("../error"),require("../language/visitor")),_kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),_schema=require("../type/schema"),_TypeInfo=require("../utilities/TypeInfo"),_specifiedRules=require("./specifiedRules"),ValidationContext=exports.ValidationContext=function(){function e(t,r,i){_classCallCheck(this,e),this._schema=t,this._ast=r,this._typeInfo=i,this._errors=[],this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}return e.prototype.reportError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e.prototype.getSchema=function(){return this._schema},e.prototype.getDocument=function(){return this._ast},e.prototype.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce(function(e,t){return t.kind===Kind.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e},{})),t[e]},e.prototype.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var r=[e];0!==r.length;)for(var i=r.pop(),n=0;n<i.selections.length;n++){var s=i.selections[n];s.kind===Kind.FRAGMENT_SPREAD?t.push(s):s.selectionSet&&r.push(s.selectionSet)}this._fragmentSpreads.set(e,t)}return t},e.prototype.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var r=Object.create(null),i=[e.selectionSet];0!==i.length;)for(var n=i.pop(),s=this.getFragmentSpreads(n),a=0;a<s.length;a++){var o=s[a].name.value;if(r[o]!==!0){r[o]=!0;var u=this.getFragment(o);u&&(t.push(u),i.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e.prototype.getVariableUsages=function(e){var t=this,r=this._variableUsages.get(e);return r||!function(){var i=[],n=new _TypeInfo.TypeInfo(t._schema);(0,_visitor.visit)(e,(0,_visitor.visitWithTypeInfo)(n,{VariableDefinition:function(){return!1},Variable:function(e){i.push({node:e,type:n.getInputType()})}})),r=i,t._variableUsages.set(e,r)}(),r},e.prototype.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var r=this.getRecursivelyReferencedFragments(e),i=0;i<r.length;i++)Array.prototype.push.apply(t,this.getVariableUsages(r[i]));this._recursiveVariableUsages.set(e,t)}return t},e.prototype.getType=function(){return this._typeInfo.getType()},e.prototype.getParentType=function(){return this._typeInfo.getParentType()},e.prototype.getInputType=function(){return this._typeInfo.getInputType()},e.prototype.getFieldDef=function(){return this._typeInfo.getFieldDef()},e.prototype.getDirective=function(){return this._typeInfo.getDirective()},e.prototype.getArgument=function(){return this._typeInfo.getArgument()},e}()},{"../error":67,"../jsutils/invariant":76,"../language/kinds":84,"../language/visitor":90,"../type/schema":96,"../utilities/TypeInfo":97,"./specifiedRules":142}],144:[function(require,module,exports){function isIterable(t){return!!getIteratorMethod(t)}function isArrayLike(t){var r=null!=t&&t.length;return"number"==typeof r&&r>=0&&r%1===0}function isCollection(t){return Object(t)===t&&(isArrayLike(t)||isIterable(t))}function getIterator(t){var r=getIteratorMethod(t);if(r)return r.call(t)}function getIteratorMethod(t){if(null!=t){var r=SYMBOL_ITERATOR&&t[SYMBOL_ITERATOR]||t["@@iterator"];if("function"==typeof r)return r}}function forEach(t,r,e){if(null!=t){if("function"==typeof t.forEach)return t.forEach(r,e);var o=0,i=getIterator(t);if(i){for(var a;!(a=i.next()).done;)if(r.call(e,a.value,o++,t),o>9999999)throw new TypeError("Near-infinite iteration.")}else if(isArrayLike(t))for(;o<t.length;o++)t.hasOwnProperty(o)&&r.call(e,t[o],o,t)}}function createIterator(t){if(null!=t){var r=getIterator(t);if(r)return r;if(isArrayLike(t))return new ArrayLikeIterator(t)}}function ArrayLikeIterator(t){this._o=t,this._i=0}var SYMBOL_ITERATOR="function"==typeof Symbol&&Symbol.iterator,$$iterator=SYMBOL_ITERATOR||"@@iterator";exports.$$iterator=$$iterator,exports.isIterable=isIterable,exports.isArrayLike=isArrayLike,exports.isCollection=isCollection,exports.getIterator=getIterator,exports.getIteratorMethod=getIteratorMethod,exports.forEach=forEach,exports.createIterator=createIterator,ArrayLikeIterator.prototype[$$iterator]=function(){return this},ArrayLikeIterator.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}}},{}],145:[function(require,module,exports){(function(global){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||a.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||a.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||a.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,s){return r?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,s),n):new RegExp(e,t)}}function o(){}function h(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function a(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=h({},a.defaults,n||{});var l,o,p=n.highlight,u=0;try{l=e.lex(t,n)}catch(e){return i(e)}o=l.length;var c=function(e){if(e)return n.highlight=p,i(e);var t;try{t=r.parse(l,n)}catch(t){e=t}return n.highlight=p,e?i(e):i(null,t)};if(!p||p.length<3)return c();if(delete n.highlight,!o)return c();for(;u<l.length;u++)!function(e){return"code"!==e.type?--o||c():p(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--o||c():(e.text=n,e.escaped=!0,void(--o||c()))})}(l[u])}else try{return n&&(n=h({},a.defaults,n)),r.parse(e.lex(t,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||a.defaults).silent)return"<p>An error occured:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=l(p.item,"gm")(/bull/g,p.bullet)(),p.list=l(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=l(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=l(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=l(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=h({},p),p.gfm=h({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=l(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=h({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,s,i,l,o,h,a,u,c,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].split(/ *\| */);this.tokens.push(h)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l=i[2],this.tokens.push({type:"list_start",ordered:l.length>1}),i=i[0].match(this.rules.item),r=!1,c=i.length,u=0;u<c;u++)h=i[u],a=h.length,h=h.replace(/^ *([*+-]|\d+\.) +/,""),~h.indexOf("\n ")&&(a-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&u!==c-1&&(o=p.bullet.exec(i[u+1])[0],l===o||l.length>1&&o.length>1||(e=i.slice(u+1).join("\n")+e,u=c-1)),s=r||/\n\n(?!\s*$)/.test(h),u!==c-1&&(r="\n"===h.charAt(h.length-1),s||(s=r)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(h,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=l(u.link)("inside",u._inside)("href",u._href)(),u.reflink=l(u.reflink)("inside",u._inside)(),u.normal=h({},u),u.pedantic=h({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=h({},u.normal,{escape:l(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=h({},u.gfm,{br:l(u.br)("{2,}","*")(),text:l(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,r){var s=new t(n,r);return s.output(e)},t.prototype.output=function(e){for(var t,n,r,i,l="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),l+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=s(i[1]),r=n),l+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):s(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,l+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){l+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),l+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),l+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),l+=this.renderer.codespan(s(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),l+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),l+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),l+=this.renderer.text(s(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=s(i[1]),r=n,l+=this.renderer.link(r,null,n);return l},t.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,s=0;s<r;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},n.prototype.text=function(e){return e},r.parse=function(e,t,n){var s=new r(t,n);return s.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,s,i="",l="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",s=0;s<t.length;s++)n+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});l+=this.renderer.tablerow(n)}return this.renderer.table(i,l);case"blockquote_start":for(var l="";"blockquote_end"!==this.next().type;)l+=this.tok();return this.renderer.blockquote(l);case"list_start":for(var l="",o=this.token.ordered;"list_end"!==this.next().type;)l+=this.tok();return this.renderer.list(l,o);case"list_item_start":for(var l="";"list_item_end"!==this.next().type;)l+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(l);case"loose_item_start":for(var l="";"list_item_end"!==this.next().type;)l+=this.tok();return this.renderer.listitem(l);case"html":var h=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(h);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,a.options=a.setOptions=function(e){return h(a.defaults,e),a},a.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},a.Parser=r,a.parser=r.parse,a.Renderer=n,a.Lexer=e,a.lexer=e.lex,a.InlineLexer=t,a.inlineLexer=t.output,a.parse=a,"undefined"!=typeof module&&"object"==typeof exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):this.marked=a}).call(function(){return this||("undefined"!=typeof window?window:global)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[19])(19)});
